[{"title":"ä¸€æ–‡æ•™ä½ å¦‚ä½•åˆ©ç”¨ASTè¿˜åŸJSæ··æ·†","date":"2022-04-25T15:06:51.000Z","path":"ä¸€æ–‡æ•™ä½ å¦‚ä½•åˆ©ç”¨ASTè¿˜åŸJSæ··æ·†/","text":"å¦‚æœä¸äº†è§£JSæ··æ·†åŸç†ä»¥åŠå¸¸è§çš„æ··æ·†æ‰‹æ®µï¼Œå¯ä»¥æˆ³æˆ‘ä»¥å‰å†™è¿‡çš„2ç¯‡æ–‡ç« ï¼šJSä»£ç å®‰å…¨é˜²æŠ¤åŸç†â€”â€”ASTæ··æ·†åŸç† å’Œ JSé€†å‘ä¹‹ä»£ç æ··æ·†çš„åŸç† å¼€ç¯‡å…ˆå›ç­”ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆéœ€è¦åæ··æ·†ï¼Ÿå› ä¸ºä¸€èˆ¬å…·æœ‰é˜²æŠ¤çš„JSä»£ç éƒ½ä¼šç»è¿‡æ··æ·†å¤„ç†ï¼Œè™½ç„¶ç»è¿‡æ··æ·†çš„ä»£ç å®Œå…¨å¯ä»¥ä¸å¤„ç†æ··æ·†ä¾æ—§å¯¹å…¶è¿›è¡Œé€†å‘ï¼Œä½†æ˜¯ç”±äºå­—ç¬¦ä¸²ï¼Œæ•°å­—éƒ½æ˜¯æ··æ·†çš„ï¼ŒåŒæ—¶æºç ä¸­å†—ä½™äº†å¾ˆå¤šæ— å…³çš„ä»£ç ï¼Œæ§åˆ¶æµç¨‹å¹³å°åŒ–çš„å­˜åœ¨æ›´æ˜¯è®©æˆ‘ä»¬åœ¨ä»£ç çš„é˜…è¯»ä¸Šæœ‰äº†å¾ˆå¤§çš„éšœç¢ï¼Œè¿™æ ·ä¸‹æ¥å¯¼è‡´é€†å‘æºç è€—è´¹çš„æ—¶é—´éœ€è¦æˆå€çš„å¢åŠ ã€‚å¦‚æœæœ‰ä¸€ç§æ–¹å¼ï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬è·å¾—çš„æºç å°±æ˜¯é«˜å¯é˜…è¯»æ€§ï¼Œä¹Ÿæ²¡æœ‰å†—ä½™çš„ä»£ç ï¼Œèƒ½å¸®æˆ‘ä»¬ä¸æ­¢ä¸€ç‚¹ç‚¹åœ°æé«˜é€†å‘æºç çš„æ•ˆç‡ï¼Œä½ å­¦è¿˜æ˜¯ä¸å­¦ï¼Ÿ ä»€ä¹ˆæ˜¯ASTï¼Ÿæ‰€è°“ç£¨åˆ€ä¸è¯¯ç æåŠŸï¼Œæ—¢ç„¶åæ··æ·†æ˜¯å¿…è¦çš„ï¼Œé‚£è·ŸASTæœ‰å•¥å…³ç³»ï¼Ÿä¸ç€æ€¥ï¼Œå®¹æˆ‘æ…¢æ…¢è§£é‡Šã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œè¦åæ··æ·†çš„è¯ï¼Œæ˜¯ä¸æ˜¯å¾—å¤„ç†JSæºç ï¼Ÿå¯¹äºæºç è€Œè¨€ï¼Œå¦‚æœåªæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œæ˜¯ä¸æ˜¯éå¸¸ä¸å¥½å¤„ç†(å˜é‡ï¼Œå¸¸é‡ï¼Œå‡½æ•°ï¼Œåˆ†æ”¯ä»€ä¹ˆçš„éƒ½æ˜¯åˆ†æ•£çš„)ï¼Ÿæ‰€ä»¥æˆ‘ä»¬å¿…é¡»æŠŠæºç é¢„å¤„ç†æˆä¸€ç§åˆ©äºè§£æ··æ·†çš„å½¢å¼ï¼Œæ¯”å¦‚JSONæ ¼å¼ï¼Ÿå¦‚æœå¤§å­¦æœ‰æ¥è§¦è¿‡ç¼–è¯‘åŸç†çš„è¯ï¼Œä¸€å®šæœ‰æ¥è§¦ä¸€ä¸ªæ¦‚å¿µå«åšè¯­æ³•æ ‘ã€‚æ²¡é”™ï¼ŒASTï¼ˆAbstract Syntax Treeï¼‰ï¼Œä¸­æ–‡æŠ½è±¡è¯­æ³•æ ‘ï¼Œç®€ç§°è¯­æ³•æ ‘ï¼ˆSyntax Treeï¼‰ï¼Œæ˜¯æºä»£ç çš„æŠ½è±¡è¯­æ³•ç»“æ„çš„æ ‘çŠ¶è¡¨ç°å½¢å¼ï¼Œæ ‘ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹éƒ½è¡¨ç¤ºæºä»£ç ä¸­çš„ä¸€ç§ç»“æ„ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹ASTé•¿å•¥æ ·ï¼Ÿæ‰“å¼€ASTæä¾›çš„ä¸€ä¸ªè§£æç½‘ç«™ï¼šhttps://astexplorer.net/ ï¼Œå…¶é¡¶éƒ¨å¯ä»¥é€‰æ‹©è¯­è¨€ï¼Œç¼–è¯‘å™¨ã€‚è¯­æ³•æ ‘æ²¡æœ‰å•ä¸€çš„æ ¼å¼ï¼Œé€‰æ‹©ä¸åŒçš„è¯­è¨€ã€ä¸åŒçš„ç¼–è¯‘å™¨ï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œåœ¨ JavaScript ä¸­ï¼Œç¼–è¯‘å™¨æœ‰ Acornã€Espreeã€Esprimaã€Recastã€Uglify-JS ç­‰ï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯ Babelï¼Œåç»­çš„å­¦ä¹ ä¹Ÿæ˜¯ä»¥ Babel ä¸ºä¾‹ã€‚å¦‚ä¸‹å›¾ï¼š image-20220629155332110 Babelç®€ä»‹Babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ä¸ªè§£æåº“ã€‚Babel å†…ç½®äº†å¾ˆå¤šåˆ†æ JavaScript ä»£ç çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Babel å°† JavaScript ä»£ç è½¬æ¢æˆ AST è¯­æ³•æ ‘ï¼Œç„¶åå¢åˆ æ”¹æŸ¥ç­‰æ“ä½œä¹‹åï¼Œå†è½¬æ¢æˆ JavaScript ä»£ç ã€‚ åœ¨åšé€†å‘è§£æ··æ·†ä¸­ï¼Œä¸»è¦ç”¨åˆ°äº† Babel çš„ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½åŒ…ï¼Œæœ¬æ–‡ä¹Ÿä»…ä»‹ç»ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½åŒ…ï¼š @babel/coreï¼šBabel ç¼–è¯‘å™¨æœ¬èº«ï¼Œæä¾›äº† babel çš„ç¼–è¯‘ APIï¼› @babel/parser ï¼šå°† JavaScript ä»£ç è§£ææˆ AST è¯­æ³•æ ‘ï¼› @babel/traverseï¼š éå†ã€ä¿®æ”¹ AST è¯­æ³•æ ‘çš„å„ä¸ªèŠ‚ç‚¹ï¼› @babel/generatorï¼šå°† AST è¿˜åŸæˆ JavaScript ä»£ç ï¼› @babel/typesï¼šåˆ¤æ–­ã€éªŒè¯èŠ‚ç‚¹çš„ç±»å‹ã€æ„å»ºæ–° AST èŠ‚ç‚¹ç­‰ã€‚ ç”¨ä¸€å¼ å›¾è¯´æ˜ä¸Šé¢å„ä¸ªæ¨¡å—çš„åŠŸèƒ½ï¼š 640 babelåº“çš„å®‰è£…å®‰è£…å®ŒNodeJSä¹‹åï¼Œä½¿ç”¨å‘½ä»¤npm install @babel/coreè¿›è¡Œå®‰è£…å³å¯ã€‚ @babel/coreBabel ç¼–è¯‘å™¨æœ¬èº«ï¼Œè¢«æ‹†åˆ†æˆäº†ä¸‰ä¸ªæ¨¡å—ï¼š@babel/parserã€@babel/traverseã€@babel/generatorï¼Œæ¯”å¦‚ä»¥ä¸‹æ–¹æ³•çš„å¯¼å…¥æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ï¼š 12345const parse = require(&quot;@babel/parser&quot;).parse;const parse = require(&quot;@babel/core&quot;).parse;const traverse = require(&quot;@babel/traverse&quot;).defaultconst traverse = require(&quot;@babel/core&quot;).traverse @babel/parser@babel/parser å¯ä»¥å°† JavaScript ä»£ç è§£ææˆ AST è¯­æ³•æ ‘ï¼Œå…¶ä¸­ä¸»è¦æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼š parser.parse(code, [&#123;options&#125;])ï¼šè§£æä¸€æ®µ JavaScript ä»£ç ï¼› parser.parseExpression(code, [&#123;options&#125;])ï¼šè€ƒè™‘åˆ°äº†æ€§èƒ½é—®é¢˜ï¼Œè§£æå•ä¸ª JavaScript è¡¨è¾¾å¼ã€‚ éƒ¨åˆ†å¯é€‰å‚æ•° optionsï¼š å‚æ•° æè¿° allowImportExportEverywhere é»˜è®¤ import å’Œ export å£°æ˜è¯­å¥åªèƒ½å‡ºç°åœ¨ç¨‹åºçš„æœ€é¡¶å±‚ï¼Œè®¾ç½®ä¸º true åˆ™åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥å£°æ˜ allowReturnOutsideFunction é»˜è®¤å¦‚æœåœ¨é¡¶å±‚ä¸­ä½¿ç”¨ return è¯­å¥ä¼šå¼•èµ·é”™è¯¯ï¼Œè®¾ç½®ä¸º true å°±ä¸ä¼šæŠ¥é”™ sourceType é»˜è®¤ä¸º scriptï¼Œå½“ä»£ç ä¸­å«æœ‰ import ã€export ç­‰å…³é”®å­—æ—¶ä¼šæŠ¥é”™ï¼Œéœ€è¦æŒ‡å®šä¸º module errorRecovery é»˜è®¤å¦‚æœ babel å‘ç°ä¸€äº›ä¸æ­£å¸¸çš„ä»£ç å°±ä¼šæŠ›å‡ºé”™è¯¯ï¼Œè®¾ç½®ä¸º true åˆ™ä¼šåœ¨ä¿å­˜è§£æé”™è¯¯çš„åŒæ—¶ç»§ç»­è§£æä»£ç ï¼Œé”™è¯¯çš„è®°å½•å°†è¢«ä¿å­˜åœ¨æœ€ç»ˆç”Ÿæˆçš„ AST çš„ errors å±æ€§ä¸­ï¼Œå½“ç„¶å¦‚æœé‡åˆ°ä¸¥é‡çš„é”™è¯¯ï¼Œä¾ç„¶ä¼šç»ˆæ­¢è§£æ å¥½äº†ï¼Œçœ‹å®Œç†è®ºçŸ¥è¯†ï¼Œæ¥å®è·µä¸‹ï¼š 12345const parser = require(&quot;@babel/parser&quot;);const code = &quot;var a = &#x27;\\u0068\\u0065\\u006c\\u006c\\u006f\\u002c\\u0041\\u0053\\u0054&#x27;; \\n console[&#x27;log&#x27;](a);&quot;;const ast = parser.parse(code, &#123;sourceType: &quot;module&quot;&#125;)console.log(ast) æ‰§è¡Œï¼Œç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°è·Ÿåœ¨ https://astexplorer.net/ ä¸­çœ‹åˆ°çš„æ˜¯ä¸€è‡´çš„ã€‚ image-20220629171249989 @babel/generator@babel/generator å¯ä»¥å°† AST è¿˜åŸæˆ JavaScript ä»£ç ï¼Œæä¾›äº†ä¸€ä¸ª generate æ–¹æ³•ï¼šgenerate(ast, [&#123;options&#125;], code)ã€‚ éƒ¨åˆ†å¯é€‰å‚æ•° optionsï¼š å‚æ•° æè¿° auxiliaryCommentBefore åœ¨è¾“å‡ºæ–‡ä»¶å†…å®¹çš„å¤´éƒ¨æ·»åŠ æ³¨é‡Šå—æ–‡å­— auxiliaryCommentAfter åœ¨è¾“å‡ºæ–‡ä»¶å†…å®¹çš„æœ«å°¾æ·»åŠ æ³¨é‡Šå—æ–‡å­— comments è¾“å‡ºå†…å®¹æ˜¯å¦åŒ…å«æ³¨é‡Š compact è¾“å‡ºå†…å®¹æ˜¯å¦ä¸æ·»åŠ ç©ºæ ¼ï¼Œé¿å…æ ¼å¼åŒ– concise è¾“å‡ºå†…å®¹æ˜¯å¦å‡å°‘ç©ºæ ¼ä½¿å…¶æ›´ç´§å‡‘ä¸€äº› minified æ˜¯å¦å‹ç¼©è¾“å‡ºä»£ç  retainLines å°è¯•åœ¨è¾“å‡ºä»£ç ä¸­ä½¿ç”¨ä¸æºä»£ç ä¸­ç›¸åŒçš„è¡Œå· æˆ‘ä»¬è¿è¡Œä¸€æ®µä¸‹é¢çš„ä»£ç ï¼š 123456789101112131415const parser = require(&quot;@babel/parser&quot;);const generate = require(&quot;@babel/generator&quot;).defaultconst code = &quot;var a = &#x27;Hello, world&#x27;&quot;;const ast = parser.parse(code, &#123;sourceType: &quot;module&quot;&#125;)// ä¿®æ”¹idåä¸ºbast.program.body[0].declarations[0].id.name = &quot;b&quot;;// ä¿®æ”¹å˜é‡å€¼ä¸ºHelloast.program.body[0].declarations[0].init.value = &quot;Hello&quot;;// generateæ¨¡å—å°†ASTè¯­æ³•æ ‘è½¬æ¢æˆJSä»£ç const result = generate(ast, &#123;minified: true&#125;)console.log(result.code) æœ€ç»ˆè¾“å‡ºç»“æœvar b=&quot;Hello&quot;;ï¼Œå˜é‡åå’Œå€¼éƒ½æˆåŠŸæ›´æ”¹äº†ï¼Œç”±äºåŠ äº†å‹ç¼©å¤„ç†ï¼Œç­‰å·å·¦å³ä¸¤è¾¹çš„ç©ºæ ¼ä¹Ÿæ²¡äº†ã€‚ ä»£ç é‡Œ &#123;minified: true&#125; æ¼”ç¤ºäº†å¦‚ä½•æ·»åŠ å¯é€‰å‚æ•°ï¼Œè¿™é‡Œè¡¨ç¤ºå‹ç¼©è¾“å‡ºä»£ç ï¼Œgenerate å¾—åˆ°çš„ result å¾—åˆ°çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­çš„ code å±æ€§æ‰æ˜¯æœ€ç»ˆçš„ JS ä»£ç ã€‚ ä»£ç é‡Œ ast.program.body[0].declarations[0].id.name æ˜¯ a åœ¨ AST ä¸­çš„ä½ç½®ï¼Œast.program.body[0].declarations[0].init.value æ˜¯ açš„å€¼å³å­—ç¬¦ä¸²Hello åœ¨ AST ä¸­çš„ä½ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š image-20220629175017218 @babel/traverseå½“ä»£ç å¤šäº†ï¼Œæˆ‘ä»¬ä¸å¯èƒ½åƒå‰é¢é‚£æ ·æŒ¨ä¸ªå®šä½å¹¶ä¿®æ”¹ï¼Œå¯¹äºç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥éå†æ‰€æœ‰èŠ‚ç‚¹æ¥è¿›è¡Œä¿®æ”¹ï¼Œè¿™é‡Œå°±ç”¨åˆ°äº† @babel/traverseï¼Œå®ƒé€šå¸¸å’Œ visitor ä¸€èµ·ä½¿ç”¨ï¼Œvisitor æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªåå­—æ˜¯å¯ä»¥éšæ„å–çš„ï¼Œvisitor é‡Œå¯ä»¥å®šä¹‰ä¸€äº›æ–¹æ³•æ¥è¿‡æ»¤èŠ‚ç‚¹ï¼Œè¿™é‡Œè¿˜æ˜¯ç”¨ä¸€ä¸ªä¾‹å­æ¥æ¼”ç¤ºï¼š 123456789101112131415161718192021const parser = require(&quot;@babel/parser&quot;);const generate = require(&quot;@babel/generator&quot;).defaultconst traverse = require(&quot;@babel/traverse&quot;).defaultconst code = &quot;var a = &#x27;Hello, world&#x27;&quot;;const ast = parser.parse(code, &#123;sourceType: &quot;module&quot;&#125;)const visitor = &#123; Identifier(path) &#123; path.node.name = path.node.name == &#x27;a&#x27; ? &#x27;a&#x27; : &#x27;b&#x27;; &#125;, StringLiteral(path)&#123; path.node.value = &quot;I Love JavaScript!&quot; &#125;&#125;traverse(ast, visitor)const result = generate(ast, &#123;minified: true&#125;)console.log(result.code) è¾“å‡ºä¸ºvar b=&quot;I Love JavaScript!&quot;;ï¼Œé€šè¿‡ASTè¯­æ³•æ ‘ï¼Œå°†å˜é‡aæ›´åä¸ºå˜é‡bï¼ŒåŒæ—¶å°†å…¶å€¼ä¿®æ”¹ä¸ºâ€I Love JavaScript!â€ã€‚ æˆ‘ä»¬çœ‹çœ‹ä»£ç ä¸»é€»è¾‘ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªvisitorï¼Œç„¶åå®šä¹‰å¯¹åº”ç±»å‹çš„å¤„ç†æ–¹æ³•ï¼Œtraverse æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ AST å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯ visitorï¼Œå½“ traverse éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œé‡åˆ°èŠ‚ç‚¹ç±»å‹ä¸º StringLiteral å’Œ Identifier æ—¶ï¼Œå°±ä¼šè°ƒç”¨ visitor ä¸­å¯¹åº”çš„å¤„ç†æ–¹æ³•ã€‚ ä¹‹æ‰€ä»¥å®šä¹‰StringLiteralå’ŒIdentifierä¸¤ç§ç±»å‹ï¼Œæ˜¯å› ä¸ºåœ¨æŠ½è±¡è¯­æ³•æ ‘ä¸­å˜é‡aæ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå…¶ç±»å‹ä¸ºIdentifierï¼Œè€Œaçš„å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ç±»å‹ä¸ºStringLiteralã€‚visitor ä¸­çš„æ–¹æ³•ä¼šæ¥æ”¶ä¸€ä¸ªå½“å‰èŠ‚ç‚¹çš„ path å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„ç±»å‹æ˜¯ NodePathï¼Œè¯¥å¯¹è±¡æœ‰éå¸¸å¤šçš„å±æ€§ï¼Œä»¥ä¸‹ä»‹ç»å‡ ç§æœ€å¸¸ç”¨çš„ï¼š å±æ€§ æè¿° toString() å½“å‰è·¯å¾„çš„æºç  node å½“å‰è·¯å¾„çš„èŠ‚ç‚¹ parent å½“å‰è·¯å¾„çš„çˆ¶çº§èŠ‚ç‚¹ parentPath å½“å‰è·¯å¾„çš„çˆ¶çº§è·¯å¾„ type å½“å‰è·¯å¾„çš„ç±»å‹ path å¯¹è±¡é™¤äº†æœ‰å¾ˆå¤šå±æ€§ä»¥å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæ¯”å¦‚æ›¿æ¢èŠ‚ç‚¹ã€åˆ é™¤èŠ‚ç‚¹ã€æ’å…¥èŠ‚ç‚¹ã€å¯»æ‰¾çˆ¶çº§èŠ‚ç‚¹ã€è·å–åŒçº§èŠ‚ç‚¹ã€æ·»åŠ æ³¨é‡Šã€åˆ¤æ–­èŠ‚ç‚¹ç±»å‹ç­‰ï¼Œå¯åœ¨éœ€è¦æ—¶æŸ¥è¯¢ç›¸å…³æ–‡æ¡£æˆ–æŸ¥çœ‹æºç ï¼Œåç»­ä»‹ç» @babel/types éƒ¨åˆ†å°†ä¼šä¸¾éƒ¨åˆ†ä¾‹å­æ¥æ¼”ç¤ºï¼Œä»¥åçš„å®æˆ˜æ–‡ç« ä¸­ä¹Ÿä¼šæœ‰ç›¸å…³å®ä¾‹ã€‚ å¦‚æœå¤šä¸ªç±»å‹çš„èŠ‚ç‚¹ï¼Œå¤„ç†çš„æ–¹å¼éƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥ä½¿ç”¨ | å°†æ‰€æœ‰èŠ‚ç‚¹è¿æ¥æˆå­—ç¬¦ä¸²ï¼Œå°†åŒä¸€ä¸ªæ–¹æ³•åº”ç”¨åˆ°æ‰€æœ‰èŠ‚ç‚¹ï¼š 123456const visitor = &#123; &quot;Identifier|StringLiteral&quot;(path) &#123; path.node.name = path.node.name == &#x27;a&#x27; ? &#x27;a&#x27; : &#x27;b&#x27;; path.node.value = path.node.name == &#x27;a&#x27; ? path.node.value : &quot;I Love JavaScript!&quot; &#125;&#125; visitor å¯¹è±¡æœ‰å¤šç§å†™æ³•ï¼Œä»¥ä¸‹å‡ ç§å†™æ³•çš„æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041const visitor = &#123; Identifier(path) &#123; path.node.name = path.node.name == &#x27;a&#x27; ? &#x27;a&#x27; : &#x27;b&#x27;; &#125;, StringLiteral(path)&#123; path.node.value = &quot;I Love JavaScript!&quot; &#125;&#125;const visitor = &#123; Identifier: function(path) &#123; path.node.name = path.node.name == &#x27;a&#x27; ? &#x27;a&#x27; : &#x27;b&#x27;; &#125;, StringLiteral: function(path)&#123; path.node.value = &quot;I Love JavaScript!&quot; &#125;&#125;const visitor = &#123; Identifier: &#123; enter(path) &#123; path.node.name = path.node.name == &#x27;a&#x27; ? &#x27;a&#x27; : &#x27;b&#x27;; &#125; &#125;, StringLiteral: &#123; enter(path)&#123; path.node.value = &quot;I Love JavaScript!&quot; &#125; &#125;&#125;const visitor = &#123; enter(path) &#123; if (path.node.type == &quot;Identifier&quot;) &#123; path.node.name = path.node.name == &#x27;a&#x27; ? &#x27;a&#x27; : &#x27;b&#x27;; &#125; else if (path.node.type === &quot;StringLiteral&quot;) &#123; path.node.value = &quot;I Love JavaScript!&quot; &#125; &#125;&#125; ä»¥ä¸Šå‡ ç§å†™æ³•ä¸­æœ‰ç”¨åˆ°äº† enter æ–¹æ³•ï¼Œåœ¨èŠ‚ç‚¹çš„éå†è¿‡ç¨‹ä¸­ï¼Œè¿›å…¥èŠ‚ç‚¹ï¼ˆenterï¼‰ä¸é€€å‡ºï¼ˆexitï¼‰èŠ‚ç‚¹éƒ½ä¼šè®¿é—®ä¸€æ¬¡èŠ‚ç‚¹ï¼Œtraverse é»˜è®¤åœ¨è¿›å…¥èŠ‚ç‚¹æ—¶è¿›è¡ŒèŠ‚ç‚¹çš„å¤„ç†ï¼Œå¦‚æœè¦åœ¨é€€å‡ºèŠ‚ç‚¹æ—¶å¤„ç†ï¼Œé‚£ä¹ˆåœ¨ visitor ä¸­å°±å¿…é¡»å£°æ˜ exit æ–¹æ³•ã€‚ @babel/typeså‰é¢æåˆ°è¿‡ï¼Œbabel/typesä¸»è¦2ä¸ªä½œç”¨ï¼Œä¸€æ˜¯åŒ…å«äº†è®¸å¤šèŠ‚ç‚¹çš„ç±»å‹ï¼Œç»å¸¸ç”¨æ¥åšç±»å‹åˆ¤æ–­ã€‚æ¯”å¦‚ï¼š 123456types.stringLiteral(&quot;Hello World&quot;); // stringtypes.numericLiteral(100); // numbertypes.booleanLiteral(true); // booleantypes.nullLiteral(); // nulltypes.identifier(); // undefinedtypes.regExpLiteral(&quot;\\\\.js?$&quot;, &quot;g&quot;); // æ­£åˆ™ è¾“å‡ºå¦‚ä¸‹ï¼š 123456&quot;Hello World&quot;100truenullundefined/\\.js?$/g å¦ä¸€ä¸ªä½œç”¨æ˜¯æ„å»ºæ–°çš„ AST èŠ‚ç‚¹ã€‚é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­è§£é‡Šä¸‹å§ã€‚æ¯”å¦‚æˆ‘ä»¬æœ‰å¦‚ä¸‹ä»£ç  1const a=&quot;Hello&quot;; æƒ³åœ¨è¿™å¥å¸¸é‡çš„å®šä¹‰ä¹‹åæ’å…¥let b=1; è¿™æ®µä»£ç ï¼Œå˜æˆå¦‚ä¸‹ï¼š 12const a=&quot;Hello&quot;;let b=1; æˆ‘ä»¬åœ¨ https://astexplorer.net/ ä¸­è¾“å…¥è¿™2è¡Œä»£ç ï¼Œç„¶åå¯¹ç…§ç€çœ‹ä¸‹ä»£ç è¯¥å¦‚ä½•å†™ï¼Ÿ image-20220629221958113 å¯ä»¥çœ‹åˆ°å¢åŠ äº†ä¸€ä¸ªå˜é‡å£°æ˜ä¹‹åï¼Œä¼šåœ¨bodyä¸‹é¢å¢åŠ ä¸€ä¸ªVariableDeclarationèŠ‚ç‚¹ã€‚æ‰€ä»¥æˆ‘ä»¬ç¼–å†™visitorçš„æ—¶å€™ï¼Œç›¸åº”çš„ä»£ç ä¹Ÿåº”è¯¥åœ¨VariableDeclarationä¸‹é¢ã€‚ æˆ‘ä»¬çš„æ€è·¯å°±æ˜¯åœ¨éå†èŠ‚ç‚¹æ—¶ï¼Œéå†åˆ° VariableDeclaration èŠ‚ç‚¹ï¼Œå°±åœ¨å…¶åé¢å¢åŠ ä¸€ä¸ª VariableDeclaration èŠ‚ç‚¹ï¼Œç”Ÿæˆ VariableDeclaration èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ types.variableDeclaration() æ–¹æ³•ï¼Œåœ¨ types ä¸­å„ç§æ–¹æ³•åç§°å’Œæˆ‘ä»¬åœ¨ AST ä¸­çœ‹åˆ°çš„æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡é¦–å­—æ¯æ˜¯å°å†™çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦çŸ¥é“æ‰€æœ‰æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½å¤§è‡´æ¨æ–­å…¶æ–¹æ³•åï¼ŒåªçŸ¥é“è¿™ä¸ªæ–¹æ³•è¿˜ä¸è¡Œï¼Œè¿˜å¾—çŸ¥é“ä¼ å…¥çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥æŸ¥æ–‡æ¡£ã€‚ é€šè¿‡æ–‡æ¡£ï¼Œå¯ä»¥çœ‹åˆ°variableDeclaratoréœ€è¦kind å’Œ declarations ä¸¤ä¸ªå‚æ•°ï¼Œå…¶ä¸­ declarations æ˜¯ VariableDeclarator ç±»å‹çš„èŠ‚ç‚¹ç»„æˆçš„åˆ—è¡¨ã€‚kindè¡¨ç¤ºå£°æ˜çš„ç±»å‹ï¼Œæ¯”å¦‚const, var, letã€‚è¿™é‡Œé¡ºä¾¿é—®ä¸‹ä¸ºä»€ä¹ˆdeclarationsæ˜¯ä¸€ä¸ªåˆ—è¡¨å‘¢ï¼Ÿå› ä¸ºJSæ˜¯æ”¯æŒåŒæ—¶å£°æ˜å¤šä¸ªå˜é‡çš„ï¼Œæ¯”å¦‚let a, b, c = 1ï¼Œæ˜¾ç„¶ï¼Œdeclarationsæœ‰å¤šä¸ªã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬è¿˜éœ€è¦è¿›ä¸€æ­¥å®šä¹‰ declaratorï¼Œä¹Ÿå°±æ˜¯ VariableDeclarator ç±»å‹çš„èŠ‚ç‚¹ã€‚è°ƒç”¨çš„æ˜¯variableDeclaratoræ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ¥å—2ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç±»å‹ï¼Œæˆ‘ä»¬ä¼ å…¥types.identifier(&quot;b&quot;)ï¼Œè¡¨ç¤ºä¸€ä¸ªåä¸ºbçš„æ ‡è¯†ç¬¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å˜é‡çš„åˆå§‹åŒ–æ–¹å¼ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼ å…¥types.numericLiteral(1)ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯è¦ç»™bèµ‹å€¼ä¸€ä¸ªæ•°å€¼ç±»å‹1ã€‚ æœ€åæˆ‘ä»¬è¦æŒ‡æ˜è¿™æ¡èµ‹å€¼è¡¨è¾¾å¼çš„æ’å…¥ä½ç½®ï¼Œpath.insertAfter() æ’å…¥èŠ‚ç‚¹è¯­å¥åé¢åŠ äº†ä¸€å¥ path.stop()ï¼Œè¡¨ç¤ºæ’å…¥å®Œæˆåç«‹å³åœæ­¢éå†å½“å‰èŠ‚ç‚¹å’Œåç»­çš„å­èŠ‚ç‚¹ï¼Œæ·»åŠ çš„æ–°èŠ‚ç‚¹ä¹Ÿæ˜¯ VariableDeclarationï¼Œå¦‚æœä¸åŠ åœæ­¢è¯­å¥çš„è¯ï¼Œå°±ä¼šæ— é™å¾ªç¯æ’å…¥ä¸‹å»ã€‚ å®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223const parser = require(&quot;@babel/parser&quot;);const generate = require(&quot;@babel/generator&quot;).defaultconst traverse = require(&quot;@babel/traverse&quot;).defaultconst types = require(&quot;@babel/types&quot;);const code = &quot;const a = &#x27;Hello&#x27;&quot;;const ast = parser.parse(code, &#123;sourceType: &quot;module&quot;&#125;)const visitor = &#123; VariableDeclaration(path)&#123; let init = types.numericLiteral(1); // å˜é‡çš„åˆå§‹åŒ–æ–¹å¼ let declarator = types.variableDeclarator(types.identifier(&quot;b&quot;), init) // å£°æ˜å˜é‡å let declaration = types.variableDeclaration(&quot;let&quot;, [declarator]); // å£°æ˜ç±»å‹ path.insertAfter(declaration) // æ’å…¥ä½ç½® path.stop() &#125;&#125;traverse(ast, visitor)const result = generate(ast, &#123;minified: true&#125;)console.log(result.code) å°æ¡ˆä¾‹æœ€åé€šè¿‡ä¸€ä¸ªå°æ¡ˆä¾‹æ¥ä¸ºè¿™ç¯‡å…¥é—¨æ–‡ç« ç»“å°¾å§ã€‚ æˆ‘ä»¬æœ‰å¦‚ä¸‹ä¸€æ®µä»£ç ï¼š 1234var a = &quot;\\x44\\x61\\x74\\x65&quot;;const b = &quot;\\u0068\\u0065\\u006c\\u006c\\u006f\\u002c\\u0041\\u0053\\u0054&quot;;let c = 0b10001001;let d = 0o123456; è¿™äº›æ•°å­—æˆ–è€…å­—ç¬¦ä¸²çœ‹èµ·æ¥éå¸¸ä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œè§£æ··æ·†å¤„ç†ï¼Œè§£æ··æ·†ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031const parser = require(&quot;@babel/parser&quot;);const generate = require(&quot;@babel/generator&quot;).defaultconst traverse = require(&quot;@babel/traverse&quot;).defaultconst types = require(&quot;@babel/types&quot;);const code = &quot;var a = &#x27;\\x44\\x61\\x74\\x65&#x27;; \\const b = &#x27;\\u0068\\u0065\\u006c\\u006c\\u006f\\u002c\\u0041\\u0053\\u0054&#x27;; \\let c = 0b10001001; \\let d = 0o123456;&quot;;const ast = parser.parse(code, &#123;sourceType: &quot;module&quot;&#125;)const visitor = &#123; NumericLiteral(&#123;node&#125;) &#123; if (node.extra &amp;&amp; /^0[obx]/i.test(node.extra.raw)) &#123; node.extra = undefined; &#125; &#125;, StringLiteral(&#123;node&#125;) &#123; if (node.extra &amp;&amp; /\\\\[ux]/gi.test(node.extra.raw)) &#123; node.extra = undefined; &#125; &#125;,&#125;traverse(ast, visitor)const result = generate(ast, &#123;minified: true&#125;)console.log(result.code) è§£æ··æ·†ç»“æœå¦‚ä¸‹ï¼š image-20220629224644829","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"AST","slug":"AST","permalink":"https://blog.heshipeng.com/tags/AST/"}]},{"title":"JSé€†å‘æ¡ˆä¾‹â€”â€”å¤©çœ¼æŸ¥è¿‡æéªŒæ»‘å—éªŒè¯ç ","date":"2022-04-24T11:21:03.000Z","path":"JSé€†å‘æ¡ˆä¾‹â€”â€”å¤©çœ¼æŸ¥è¿‡æéªŒæ»‘å—éªŒè¯ç /","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ å‰è¨€æœ¬æ–‡æ˜¯æœºå™¨è¿‡æéªŒæ»‘å—éªŒè¯ç ç³»åˆ—æ–‡ç« çš„ç¬¬å››ç¯‡ï¼Œé€šè¿‡ä¸€ä¸ªå®é™…ç½‘ç«™ä»‹ç»å¦‚ä½•åˆ©ç”¨é€†å‘åˆ†æè‡ªåŠ¨è¿‡æéªŒæ»‘å—ï¼ŒæéªŒæ»‘å—ç³»åˆ—åŒ…å«ä¹±åºåº•å›¾è¿˜åŸï¼ŒéªŒè¯ç wå‚æ•°ç”Ÿæˆï¼Œè¡¥ç¯å¢ƒï¼Œåˆ©ç”¨åƒç´ ç‚¹RGBå·®å€¼è·å–ç¼ºå£ä½ç½®ä»¥åŠé€šè¿‡æœºå™¨å­¦ä¹ è·å–ç¼ºå£ä½ç½®ã€‚è€ŒæéªŒæ»‘å—ç³»åˆ—åªæ˜¯éªŒè¯ç ç³»åˆ—çš„ç¬¬ä¸€ä¸ªç³»åˆ—ï¼Œåè¾¹ä¼šç½—åˆ—å¸‚é¢ä¸Šå¸¸ç”¨çš„éªŒè¯ç ï¼Œç„¶åå‘æ–‡ä¸€ä¸€è§£å†³ã€‚ ä¸Šä¸€ç¯‡æ–‡ç« è§ï¼šJSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç è¡¥ç¯å¢ƒ æ¨¡æ‹Ÿç™»å½•å¤©çœ¼æŸ¥æéªŒæ»‘å—éªŒè¯ç ä¸ç™»å½•æ¥å£çš„å…³ç³»ç½‘å€ï¼šaHR0cHM6Ly93d3cudGlhbnlhbmNoYS5jb20v ä»¥å¤©çœ¼æŸ¥çš„ç™»å½•ä¸ºä¾‹ï¼Œåœ¨è¿›è¡Œæ»‘å—éªŒè¯æ—¶ï¼Œè¿›è¡ŒæŠ“åŒ…åˆ†æã€‚ åœ¨æéªŒç³»åˆ—ç¬¬ä¸€ç¯‡ JSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç åº•å›¾è¿˜åŸ ä¸­ï¼Œè¯´è¿‡geetestçš„å‡ ä¸ªè¯·æ±‚ä¹‹é—´çš„å…³ç³»ï¼Œè¿™é‡Œé‡æ–°æ¢³ç†ä¸€ä¸‹ï¼Œç„¶åé¡ºä¾¿æ¢³ç†ä¸‹geetestè¯·æ±‚ä¸å¤©çœ¼æŸ¥ç™»å½•æ¥å£çš„å…³ç³»ã€‚å¦‚ä¸‹å›¾ï¼š image-20220424224028967 å¯ä»¥çœ‹åˆ°æ¯ä¸€æ¬¡è¯·æ±‚éƒ½æ˜¯ç¯ç¯ç›¸æ‰£ï¼Œä¸€å…±å‘èµ·5æ¬¡è¯·æ±‚ï¼Œä¸‹ä¸€æ¬¡è¯·æ±‚çš„å…¥å‚æˆ–å¤šæˆ–å°‘éƒ½ç”¨åˆ°ä¸Šä¸€æ¬¡è¯·æ±‚çš„è¿”å›ã€‚ ç¬¬ä¸€æ¬¡è¯·æ±‚å°è£…ä¸€ä¸ªgeetest_xhtmlè¯·æ±‚ï¼Œç”¨äºè·å–challengeå’Œgtï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122import timeimport mathimport requestsdef geetest_xhtml(): cookies = &#123; # cookieå€¼ &#x27;acw_sc__v2&#x27;: &#x27;acw_sc__v2çš„å€¼&#x27; &#125; headers = &#123; # headerå€¼ &#125; json_data = &#123; &#x27;uuid&#x27;: math.floor(time.time() * 1000), &#125; response = requests.post(&#x27;https://www.tianyancha.com/verify/geetest.xhtml&#x27;, cookies=cookies, headers=headers, json=json_data) return response.text cookieå€¼é‡Œé¢ä»…ä»…éœ€è¦ä¸€ä¸ªacw_sc__v2ï¼Œè€Œacw_sc__v2çš„å€¼æ˜¯æœ‰æ—¶æ•ˆæ€§çš„ï¼Œæ‰€ä»¥åœ¨å®é™…ç”Ÿäº§ä¸­è‚¯å®šä¹Ÿè¦é€†å‘å»åŠ¨æ€ç”Ÿæˆè¿™ä¸ªcookieå€¼ï¼Œä½†æ˜¯æœ¬æ–‡é‡ç‚¹æ”¾åœ¨æéªŒæ»‘åŠ¨éªŒè¯ç ä¸Šï¼Œæ‰€ä»¥cookieç›´æ¥æ‹·è´ï¼Œå¹¶æ²¡æœ‰ç»†ç©¶cookieæ˜¯å¦‚ä½•ç”Ÿæˆçš„ï¼Œåè¾¹æœ‰ç©ºäº†å¯ä»¥å›è¿‡å¤´äº†çœ‹çœ‹è¿™ä¸ªcookieæ˜¯å¦‚ä½•ç”Ÿæˆçš„ã€‚ è¿è¡Œç»“æœå¦‚ä¸‹ï¼š image-20220425001609069 ç¬¬äºŒæ¬¡è¯·æ±‚å°è£…ä¸€ä¸ªget_typeè¯·æ±‚ï¼Œå…¥å‚æ˜¯ç¬¬ä¸€ä¸ªè¯·æ±‚è¿”å›çš„gtï¼Œç”¨æ­£åˆ™åŒ¹é…get_typeè¿”å›çš„pathå’Œtypeï¼Œè¿™ä¸¤ä¸ªå€¼å°†åœ¨ä¸‹ä¸€ä¸ªè¯·æ±‚ä¸­ç”¨åˆ°ï¼Œç”±äºè¿™é‡Œåªæ˜¯åšä¸€ä¸ªç®€å•çš„æ¼”ç¤ºï¼Œæ‰€ä»¥å¹¶æœªè€ƒè™‘ç¨‹åºçš„å¥å£®æ€§ï¼Œå†™çš„æœ‰ç‚¹ç³™ï¼Œç•¥ç•¥ç•¥ã€‚ 123456789101112131415def get_type(gt): headers = &#123; # headerå€¼ &#125; params = &#123; &#x27;gt&#x27;: gt, &#x27;callback&#x27;: f&#x27;geetest_&#123;math.floor(time.time() * 1000)&#125;&#x27;, &#125; response = requests.get(&#x27;https://api.geetest.com/gettype.php&#x27;, params=params, headers=headers) print(response.text) path = re.findall(&#x27;\\&quot;path\\&quot;: \\&quot;(.*?)\\&quot;&#x27;, response.text)[0] _type = re.findall(&#x27;\\&quot;type\\&quot;: \\&quot;(.*?)\\&quot;&#x27;, response.text)[0] return path, _type ä»£ç è¿è¡Œç»“æœå¦‚ä¸‹ï¼š image-20220425003036734 ç¬¬ä¸‰æ¬¡è¯·æ±‚å°è£…ä¸€ä¸ªgetè¯·æ±‚ï¼Œå¦‚å‚æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚è¿”å›çš„gtå’Œchallengeä»¥åŠç¬¬äºŒæ¬¡è¯·æ±‚è¿”å›çš„typeå’Œpathï¼Œè¯¥è¯·æ±‚è¿”å›æ–°çš„challenge(å®é™…ä¸Šåœ¨ä¹‹å‰çš„challengeåè¾¹æ‹¼æ¥äº†2ä¸ªå­—ç¬¦ä¸²)ï¼Œcï¼Œsï¼Œbgï¼Œfullbgã€‚ 123456789101112131415161718192021222324def get(gt, challenge, _type, path): url = f&quot;https://api.geetest.com/get.php?gt=&#123;gt&#125;&amp;challenge=&#123;challenge&#125;&amp;product=popup&amp;offline=false&amp;&quot; \\ f&quot;protocol=https://&amp;type=&#123;_type&#125;&amp;path=&#123;path&#125;&amp;callback=geetest_&#123;math.floor(time.time() * 1000)&#125;&quot; headers = &#123; &#x27;authority&#x27;: &#x27;api.geetest.com&#x27;, &#x27;accept&#x27;: &#x27;*/*&#x27;, &#x27;accept-language&#x27;: &#x27;zh-CN,zh;q=0.9&#x27;, &#x27;cache-control&#x27;: &#x27;no-cache&#x27;, &#x27;pragma&#x27;: &#x27;no-cache&#x27;, &#x27;referer&#x27;: &#x27;https://www.tianyancha.com/&#x27;, &#x27;sec-ch-ua&#x27;: &#x27;&quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;100&quot;, &quot;Google Chrome&quot;;v=&quot;100&quot;&#x27;, &#x27;sec-ch-ua-mobile&#x27;: &#x27;?0&#x27;, &#x27;sec-ch-ua-platform&#x27;: &#x27;&quot;macOS&quot;&#x27;, &#x27;sec-fetch-dest&#x27;: &#x27;script&#x27;, &#x27;sec-fetch-mode&#x27;: &#x27;no-cors&#x27;, &#x27;sec-fetch-site&#x27;: &#x27;cross-site&#x27;, &#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.88 Safari/537.36&#x27;, &#x27;Cookie&#x27;: &#x27;GeeTestAjaxUser=feae0be0cdd2042a5e570e9d3245e949; GeeTestUser=52dc984495fafeb0d018864b96edccd9&#x27; &#125; response = requests.get(url, headers=headers) return response.text è¿è¡Œç»“æœå¦‚ä¸‹ï¼š image-20220425111939144 ç¬¬å››æ¬¡è¯·æ±‚ç¬¬å››æ¬¡è¯·æ±‚éœ€è¦æ»‘å—çš„è½¨è¿¹ï¼Œè½¨è¿¹æ•°ç»„éœ€è¦é€šè¿‡æ»‘å—ç¼ºå£çš„å·®å€¼æ¥ç”Ÿæˆï¼Œè¦æƒ³è®¡ç®—æ»‘å—ç¼ºå£çš„å·®å€¼ï¼Œéœ€è¦è¿˜åŸæ»‘å—åº•å›¾ã€‚ æ»‘å—åº•å›¾è¿˜åŸåº•å›¾è¿˜åŸå‚è€ƒæ–‡ç« ï¼š JSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç åº•å›¾è¿˜åŸ æ ¸å¿ƒä»£ç ä¸ºï¼š 1234567891011121314def restore_pic(pic_path, new_pic_path): unordered_pic = Image.open(pic_path) ordered_pic = unordered_pic.copy() # è£å‰ªå¹¶æ‹¼æ¥ for i, d in enumerate(div_offset): im = unordered_pic.crop((math.fabs(d[&#x27;x&#x27;]), math.fabs(d[&#x27;y&#x27;]), math.fabs(d[&#x27;x&#x27;]) + 10, math.fabs(d[&#x27;y&#x27;]) + 58)) # ä¸ŠåŠåŒº if d[&#x27;y&#x27;] != 0: ordered_pic.paste(im, (10 * (i % (len(div_offset) // 2)), 0), None) else: ordered_pic.paste(im, (10 * (i % (len(div_offset) // 2)), 58), None) ordered_pic.save(new_pic_path) ç¼ºå£è®¡ç®—ç¼ºå£è®¡ç®—çš„æ–¹å¼åŸºæœ¬ä¸Šåˆ†2ç§ï¼Œä¸€ç§æ˜¯å›¾ç‰‡å¤„ç†ï¼Œè®¡ç®—å›¾ç‰‡çš„æ¯ä¸ªåƒç´ ç‚¹ä½ç½®çš„è‰²å·®å»åˆ¤æ–­ç¼ºå£ï¼›ä¸€ç§æ˜¯é€šè¿‡æ·±åº¦å­¦ä¹ å»è¯†åˆ«ç¼ºå£ä½ç½®ã€‚ä¼šä¸“é—¨å‡ºä¸€ç¯‡æ–‡ç« è®¡ç®—è¿™2ç§æ–¹å¼ã€‚è¿™é‡Œå…ˆè´´ç¬¬ä¸€ç§æ–¹å¼çš„ä»£ç ï¼š 123456789101112131415161718def diff_rgb(rgb1, rgb2): return math.fabs(rgb1[0] - rgb2[0]) + math.fabs(rgb1[1] - rgb2[1]) + math.fabs(rgb1[2] - rgb2[2]) &gt; 255def get_moving_dst(complete_pic_path, incomplete_pic_path): complete_pic = Image.open(complete_pic_path) incomplete_pic = Image.open(incomplete_pic_path) w, h = complete_pic.size for i in range(0, w): for j in range(0, h): complete_pic_pixel_rgb = complete_pic.getpixel((i, j)) incomplete_pic_pixel_rgb = incomplete_pic.getpixel((i, j)) if diff_rgb(complete_pic_pixel_rgb, incomplete_pic_pixel_rgb): return i return 0 ç”Ÿæˆè½¨è¿¹æ•°ç»„åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€äº›è½¨è¿¹ç®—æ³•ï¼Œæ•ˆæœä¼¼ä¹ä¸å¤ªå¥½ã€‚å°±æƒ³ç€æ­å»ºä¸€ä¸ªæœ¬åœ°çš„è½¨è¿¹åº“ï¼Œç„¶ååœ¨å®é™…ä½¿ç”¨çš„æ—¶å€™æ ¹æ®æ»‘åŠ¨è·ç¦»ä»æœ¬åœ°åº“ä¸­å»æ‹¿ã€‚ å…·ä½“æ€è·¯æ˜¯ï¼š ç”¨Flaskæ­å»ºä¸€ä¸ªè½¨è¿¹æ”¶é›†æœåŠ¡ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import jsonimport mathimport picklefrom flask import Flask, requestfrom flask_cors import cross_originapp = Flask(__name__)@app.post(&quot;/track&quot;)@cross_origin(supports_credentials=True, methods=&quot;*&quot;, allow_headers=&quot;*&quot;)@cross_origin()def track(): tracks = pickle.load(open(&quot;tracks.pkl&quot;, &quot;rb&quot;)) d = json.loads(request.data.decode()) print(d) # ä¸‹è½½ä¹±åºçš„ç¼ºå£å›¾å’Œå®Œæ•´å›¾ download_image(d[&#x27;bg&#x27;], &quot;bg.png&quot;) download_image(d[&#x27;fullbg&#x27;], &quot;fullbg.png&quot;) # è¿˜åŸä¹±åºçš„ç¼ºå£å›¾å’Œå®Œæ•´å›¾ restore_pic(&quot;bg.png&quot;, &quot;new_bg.png&quot;) restore_pic(&quot;fullbg.png&quot;, &quot;new_fullbg.png&quot;) # è·å–ç¼ºå£çš„ä½ç½® x = get_moving_dst(&quot;new_bg.png&quot;, &quot;new_fullbg.png&quot;) if tracks.get(x): tracks[x].append(&#123;&#x27;track&#x27;: d[&#x27;track&#x27;], &#x27;g7z&#x27;: d[&#x27;g7z&#x27;]&#125;) else: tracks[x] = [&#123;&#x27;track&#x27;: d[&#x27;track&#x27;], &#x27;g7z&#x27;: d[&#x27;g7z&#x27;]&#125;] pickle.dump(tracks, open(&quot;tracks.pkl&quot;, &quot;wb&quot;)) return &#x27;ok&#x27;def download_image(url, image_file): with open(image_file, &quot;wb&quot;) as f: f.write(requests.get(url).content)if __name__ == &#x27;__main__&#x27;: track_data = &#123;&#125; pickle.dump(track_data, open(&quot;tracks.pkl&quot;, &quot;wb&quot;)) app.run(host=&#x27;0.0.0.0&#x27;, port=8088) å…ˆæ‰‹åŠ¨é€šè¿‡æ»‘å—éªŒè¯100-200æ¬¡ï¼Œæ”¶é›†èµ·æ¥æ¯ä¸€æ¬¡g7z(g7zä¸ºå®é™…æ»‘åŠ¨çš„è·ç¦»)å¯¹åº”çš„è½¨è¿¹æ–¹ç¨‹ã€‚ ä½¿ç”¨ 12345678910111213const Http = new XMLHttpRequest();const url=&#x27;http://127.0.0.1:8088/track&#x27;;Http.open(&quot;POST&quot;, url);Http.onload = function () &#123; console.log(&quot;è¯·æ±‚æˆåŠŸ, track: &quot; + JSON.stringify(X1z)); // è¯·æ±‚ç»“æŸå,åœ¨æ­¤å¤„å†™å¤„ç†ä»£ç &#125;;Http.send(JSON.stringify(&#123; track: X1z, bg: /\\&quot;(.*?)\\&quot;/g.exec(document.getElementsByClassName(&quot;gt_cut_bg_slice&quot;)[0].style.backgroundImage)[1], fullbg: /\\&quot;(.*?)\\&quot;/g.exec(document.getElementsByClassName(&quot;gt_cut_fullbg_slice&quot;)[0].style.backgroundImage)[1], g7z&#125;)); åœ¨è¿”å›åŠ å¯†è½¨è¿¹æ•°ç»„çš„ä¹‹å‰å»è°ƒç”¨FlaskæœåŠ¡ï¼Œè¿™æ ·æ‹¿åˆ°çš„è½¨è¿¹æ•°ç»„å°±æ˜¯æœ€ç»ˆçš„è½¨è¿¹æ•°ç»„ï¼Œä»è€Œå¯ä»¥æ”¶é›†æ­£ç¡®çš„è½¨è¿¹æ•°ç»„ã€‚å¦‚ä¸‹å›¾ï¼š image-20220428155854981 é€šè¿‡æ‰‹åŠ¨è¿‡æ»‘å—å°±å¯ä»¥æŠŠè½¨è¿¹æ•°ç»„æ”¶é›†åˆ°tracks.pklæ–‡ä»¶äº†ã€‚ ç”Ÿæˆwå‚æ•°wå‚æ•°é€†å‘åˆ†æä¸å…¶æœåŠ¡æ­å»ºå‚è€ƒï¼šJSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç wå‚æ•°ç”Ÿæˆ å’Œ JSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç è¡¥ç¯å¢ƒ é‰´äºæˆ‘ä»¬æ—©å·²ç»æ­å»ºå¥½äº†wè¯·æ±‚æœåŠ¡ï¼Œè¿™é‡Œç›´æ¥è°ƒç”¨æ¥å£å°±å¥½äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789101112def get_w(gt, challenge, tracks, c, s, v): url = &quot;http://127.0.01:8081/geetest/w&quot; data = &#123; &quot;tracks&quot;: json.dumps(tracks), &quot;c&quot;: json.dumps(c), &quot;s&quot;: s, &quot;challenge&quot;: challenge, &quot;gt&quot;: gt, &quot;v&quot;: v &#125; response = requests.post(url, json=data) return response.json() è¿è¡Œç»“æœå¦‚ä¸‹ï¼š image-20220425153143590 è¿›è¡Œæ»‘å—çš„éªŒè¯è¿›è¡Œæ»‘å—éªŒè¯çš„è¯·æ±‚å¾ˆç®€å•ï¼š 1234567891011121314151617181920def ajax(gt, challenge, w): url = f&#x27;https://api.geetest.com/ajax.php?gt=&#123;gt&#125;&amp;challenge=&#123;challenge&#125;&amp;w=&#123;w&#125;&amp;callback=geetest_&#123;t&#125;&#x27; headers = &#123; &#x27;authority&#x27;: &#x27;api.geetest.com&#x27;, &#x27;accept&#x27;: &#x27;*/*&#x27;, &#x27;accept-language&#x27;: &#x27;zh-CN,zh;q=0.9&#x27;, &#x27;cache-control&#x27;: &#x27;no-cache&#x27;, &#x27;pragma&#x27;: &#x27;no-cache&#x27;, &#x27;referer&#x27;: &#x27;https://www.tianyancha.com/&#x27;, &#x27;sec-ch-ua&#x27;: &#x27;&quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;100&quot;, &quot;Google Chrome&quot;;v=&quot;100&quot;&#x27;, &#x27;sec-ch-ua-mobile&#x27;: &#x27;?0&#x27;, &#x27;sec-ch-ua-platform&#x27;: &#x27;&quot;macOS&quot;&#x27;, &#x27;sec-fetch-dest&#x27;: &#x27;script&#x27;, &#x27;sec-fetch-mode&#x27;: &#x27;no-cors&#x27;, &#x27;sec-fetch-site&#x27;: &#x27;cross-site&#x27;, &#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.88 Safari/537.36&#x27;, &#125; response = requests.get(url, headers=headers) return response.text å°±ä¸€ä¸ªgetè¯·æ±‚ï¼Œå¸¦ä¸Šgtï¼Œchallengeå’Œwå‚æ•°å°±è¡Œã€‚ æ»‘å—éªŒè¯çš„æ ¸å¿ƒé€»è¾‘ï¼Œä¸»è¦è°ƒç”¨å‰é¢å†™å¥½çš„å‡ ä¸ªæ–¹æ³•ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940def main(tracks): # è·å–gt, challenge d = geetest_xhtml() gt = d[&#x27;data&#x27;][&#x27;gt&#x27;] challenge = d[&#x27;data&#x27;][&#x27;challenge&#x27;] # è·å–path, type path, _type = get_type(gt) m = get(gt, challenge, _type, path) # ä¸‹è½½ä¹±åºçš„ç¼ºå£å›¾å’ŒèƒŒæ™¯å›¾ url = &quot;https://static.geetest.com/&quot; unordered_complete_pic = urljoin(url, m[&#x27;fullbg&#x27;]) unordered_incomplete_pic = urljoin(url, m[&#x27;bg&#x27;]) with open(&quot;image1.png&quot;, &quot;wb&quot;) as f: f.write(requests.get(unordered_complete_pic).content) with open(&quot;image2.png&quot;, &quot;wb&quot;) as f: f.write(requests.get(unordered_incomplete_pic).content) # è¿˜åŸä¹±åºå›¾ restore_pic(&quot;image1.png&quot;, &quot;new_image1.png&quot;) restore_pic(&quot;image2.png&quot;, &quot;new_image2.png&quot;) # è·å–ç¼ºå£ä½ç½® dist = get_moving_dst(&quot;new_image1.png&quot;, &quot;new_image2.png&quot;) # ä»æœ¬åœ°çš„tracks.pklä¸­è¯»å–è½¨è¿¹æ•°ç»„ if tracks.get(dist): track = tracks[dist][0][&#x27;track&#x27;] g7z = tracks[dist][0][&#x27;g7z&#x27;] else: # å¦‚æœæœªæ‹¿åˆ°è½¨è¿¹æ•°ç»„ï¼Œç›´æ¥è¿”å› return # è°ƒç”¨ExpressæœåŠ¡è·å–wå‚æ•° w = get_w(m[&#x27;gt&#x27;], m[&#x27;challenge&#x27;], track, m[&#x27;c&#x27;], m[&#x27;s&#x27;], m[&#x27;version&#x27;], g7z) # è¿›è¡ŒéªŒè¯ validator = ajax(w[&#x27;gt&#x27;], w[&#x27;challenge&#x27;], w[&#x27;w&#x27;]) print(validator) è¿è¡Œç»“æœï¼š image-20220428160923233 ç™»å½•å¤©çœ¼æŸ¥åˆ«å¿˜äº†æˆ‘ä»¬è¿™ç¯‡æ–‡ç« çš„æœ€ç»ˆç›®çš„æ˜¯æ¨¡æ‹Ÿç™»å½•å¤©çœ¼æŸ¥ï¼Œæ‹¿åˆ°æ»‘å—éªŒè¯æˆåŠŸè¿”å›çš„validateä¹‹åï¼Œè¦è¯·æ±‚å¤©çœ¼æŸ¥çš„ç™»å½•æ¥å£ï¼Œå…ˆçœ‹ä¸‹è¯·æ±‚æ¥å£çš„ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223def login(mobile, password, challenge, validator): cookies = &#123; &#x27;acw_sc__v2&#x27;: &#x27;acw_sc__v2çš„å€¼&#x27;, &#125; headers = &#123; # headerå€¼ &#125; json_data = &#123; &#x27;mobile&#x27;: mobile, &#x27;cdpassword&#x27;: password, &#x27;loginway&#x27;: &#x27;PL&#x27;, &#x27;autoLogin&#x27;: False, &#x27;type&#x27;: &#x27;&#x27;, &#x27;challenge&#x27;: challenge, &#x27;validate&#x27;: validator, &#x27;seccode&#x27;: f&#x27;&#123;validator&#125;|jordan&#x27;, &#125; response = requests.post(&#x27;https://www.tianyancha.com/cd/login.json&#x27;, cookies=cookies, headers=headers, json=json_data) return response.text å°±æ˜¯ä¸€ä¸ªpostè¯·æ±‚ï¼Œæ²¡ä»€ä¹ˆè¯´çš„ã€‚ æ¥ç€åœ¨ä¸»ç¨‹åºmainæ–¹æ³•çš„æœ«å°¾åŠ å…¥è°ƒç”¨è¿™ä¸ªloginçš„ä»£ç ï¼š 1234if validator: validate = re.findall(&quot;\\&quot;validate\\&quot;: \\&quot;(.*?)\\&quot;&quot;, validator)[0] login_res = login(&#x27;17777777777&#x27;, &#x27;202cb962ac59075b964b07152d234b70&#x27;, m[&#x27;challenge&#x27;], validate) return login_res è¿˜æ˜¯å‰é¢æåˆ°çš„ï¼Œæˆ‘ä»¬çš„ä¸»è¦ç›®çš„æ”¾åœ¨æéªŒéªŒè¯ä¸Šï¼Œæ‰€ä»¥è¿™é‡Œcookieçš„acw_sc__v2å€¼è·Ÿå‰é¢ä¸€æ ·ï¼Œå¤åˆ¶ä¸‹æ¥å°±å¯ï¼Œåªä¸è¿‡è¿™ä¸ªcookieå’Œç¬¬ä¸€ä¸ªè¯·æ±‚çš„cookieä¿æŒä¸€è‡´å°±è¡Œã€‚å¦å¤–ï¼Œpasswordä¹Ÿæ˜¯ä¸€ä¸ªåŠ å¯†çš„å­—ç¬¦ä¸²ï¼Œ32ä½å¾ˆç¬¦åˆmd5ç çš„ç‰¹å¾ï¼Œä½†æ˜¯ç®¡å®ƒæ˜¯å•¥å‘¢ï¼Ÿæˆ‘ä»¬å¤åˆ¶è¿‡æ¥ç”¨å°±è¡Œã€‚è¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„çš„æ˜¯ï¼Œchallengeè¦ä¼ getè¯·æ±‚è¿”å›è¿‡æ¥çš„ï¼Œä¸è¦ä¼ ç¬¬ä¸€ä¸ªè¯·æ±‚è¿”å›çš„ã€‚ ç¨‹åºè¿è¡Œçš„ç»“æœå¦‚ä¸‹ï¼š image-20220428163341351 æç¤ºå¯†ç é”™è¯¯ï¼Œå¾ˆæ˜¾ç„¶ï¼Œç™»å½•æ¥å£æˆåŠŸäº†ã€‚ æ€»ç»“æéªŒæ»‘å—çš„æ€»ç®—æ˜¯æˆåŠŸäº†ï¼Œæš‚æ—¶å‘Šä¸€æ®µè½ã€‚æˆ‘ä»¬æ˜¯é’ˆå¯¹6.0.9è¿™ä¸ªç‰ˆæœ¬çš„æéªŒjsæ–‡ä»¶è¿›è¡Œçš„é€†å‘ï¼Œå°ç‰ˆæœ¬çš„æéªŒé€»è¾‘éƒ½å·®ä¸å¤šã€‚å¤§ç‰ˆæœ¬çš„å¯èƒ½åŒºåˆ«ä¼šå¤§ä¸€äº›ï¼Œä¸è¿‡æ€è·¯ä¹Ÿå·®ä¸å¤šã€‚æéªŒçš„æœ€æ–°ç‰ˆæœ¬å¥½åƒæ˜¯4ï¼Œåè¾¹ä¼šçœ‹çœ‹4è¿™ä¸ªå¤§ç‰ˆæœ¬æœ‰ä»€ä¹ˆä¸åŒã€‚ç„¶åé™¤äº†æéªŒçš„æ»‘å—ï¼Œè¿˜ä¼šè¯•ç€çœ‹çœ‹èƒ½å¦æå®šæéªŒçš„ç‚¹é€‰ä¸æ¨ç†éªŒè¯ã€‚","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"éªŒè¯ç ","slug":"éªŒè¯ç ","permalink":"https://blog.heshipeng.com/tags/%E9%AA%8C%E8%AF%81%E7%A0%81/"}]},{"title":"JSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç è¡¥ç¯å¢ƒ","date":"2022-04-24T09:44:38.000Z","path":"JSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç è¡¥ç¯å¢ƒ/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ å‰è¨€æœ¬æ–‡æ˜¯æœºå™¨è¿‡æéªŒæ»‘å—éªŒè¯ç ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸‰ç¯‡ï¼Œæ¥ä¸Šç¯‡wå‚æ•°æŠ å‡ºæ¥ä¹‹åï¼Œè¡¥ç¯å¢ƒã€‚åè¾¹è¿˜ä¼šé™†é™†ç»­ç»­å‘æ–‡ï¼Œå¦‚ä½•åŒ…æ‹¬åˆ©ç”¨åƒç´ ç‚¹RGBå·®å€¼è·å–ç¼ºå£ä½ç½®ä»¥åŠé€šè¿‡æœºå™¨å­¦ä¹ è·å–ç¼ºå£ä½ç½®ï¼Œæœ€åä¼šé€šè¿‡å‡ ä¸ªé‡‡ç”¨æéªŒéªŒè¯ç çš„ç½‘ç«™å»å®Œæ•´çš„å±•ç¤ºæ•´ä¸ªè‡ªåŠ¨åŒ–è¿‡ç¨‹ã€‚è€ŒæéªŒæ»‘å—ç³»åˆ—åªæ˜¯éªŒè¯ç ç³»åˆ—çš„ç¬¬ä¸€ä¸ªç³»åˆ—ï¼Œåè¾¹ä¼šç½—åˆ—å¸‚é¢ä¸Šå¸¸ç”¨çš„éªŒè¯ç ï¼Œç„¶åå‘æ–‡ä¸€ä¸€è§£å†³ã€‚ ä¸Šä¸€ç¯‡æ–‡ç« è§ï¼šJSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—wå‚æ•°ç”Ÿæˆ è¡¥ç¯å¢ƒè¿‡ç¨‹æŠ å¥½wå‚æ•°ç”Ÿæˆçš„ä»£ç ä¹‹åï¼Œè´´åˆ°VSä¸­ï¼Œå…ˆè¡¥ä¸Šwindowå’Œdocumentï¼š 1234var window = global;var Document = function() &#123;&#125;;document = new Document();window.document = document; è¿è¡Œä¹‹åæŠ¥é”™ï¼ŒæŠ¥navigatorä¸å­˜åœ¨ image-20220424180831738 è¡¥ä¸Šnavigatorï¼š 1234Navigator = function() &#123;&#125;;navigator = new Navigator();window.navigator = navigator; è¡¥å¥½ä¹‹åæ¥ç€æŠ¥é”™ï¼Œdocumentç¼ºå°‘æ–¹æ³•createElementï¼Œå¯ä»¥çœ‹åˆ°createElementè¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸ºä¸€ä¸ªobjectã€‚ image-20220424181756529 æˆ‘ä»¬ç»™documentè¡¥ä¸ŠcreateElementæ–¹æ³•ï¼š 123Document.prototype.createElement = function(a) &#123; if (a == &#x27;img&#x27;) return &#123;&#125;;&#125; è¿è¡Œä¸‹ï¼Œç«Ÿç„¶æˆåŠŸäº†ã€‚ã€‚ã€‚æ²¡æƒ³åˆ°è¡¥ç¯å¢ƒå¦‚æ­¤è½»æ¾ã€‚ image-20220424183013485 åˆ©ç”¨Expresså°è£…æˆä¸€ä¸ªæœåŠ¡å°†gtï¼Œchallengeï¼Œcï¼Œsï¼Œç‰ˆæœ¬vä»¥åŠè½¨è¿¹æ•°ç»„X1zä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè¿”å›åŠ å¯†åçš„wå‚æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100var crypto = require(&quot;crypto&quot;);var md5 = crypto.createHash(&quot;md5&quot;);var express = require(&#x27;express&#x27;);var app = express();app.use(express.json());app.use(express.urlencoded(&#123; extended: true &#125;));var window = global;var Document = function() &#123;&#125;;Document.prototype.createElement = function(a) &#123; if (a == &#x27;img&#x27;) return &#123;&#125;;&#125;document = new Document();Navigator = function() &#123;&#125;;navigator = new Navigator();window.document = document;window.navigator = navigator;var G0b = function() &#123;&#125;function H1W() &#123; return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);&#125;var wb = H1W() + H1W() + H1W() + H1W();G0b.prototype.wb = function() &#123; return wb;&#125;var _v0B;var _n0B;var _e7B;var _i7B;var _p7B;var _I0B;/* ä¸­é—´æŠ çš„JSä»£ç çœç•¥*/function get_H7z() &#123; let g0b = new G0b(); let aaa = new _v0B(); return aaa.encrypt(g0b.wb());&#125;function get_q7z(X1z, c, s, gt, challenge, v) &#123; let g0b = new G0b(); let passtime = 0; for (let index = 0; index &lt; X1z.length; index++) &#123; passtime += X1z[index][2]; &#125; console.log(_e7B.u(_e7B.t(new Date().getTime(), X1z), c, s)); let Y7z = &#123; &quot;aa&quot;: _e7B.u(_e7B.t(new Date().getTime(), X1z), c, s), &quot;userresponse&quot;: _i7B.C(Math.floor(Math.random() * 200), challenge), &quot;passtime&quot;: passtime, &quot;imgload&quot;: Math.floor(Math.random() * 200), &quot;ep&quot;: &#123;&quot;v&quot;: v&#125;, &quot;rp&quot;: _I0B(gt + challenge.slice(0, 32) + passtime) &#125;; return _n0B.encrypt(JSON.stringify(Y7z), g0b.wb());&#125;function get_r7z(q7z) &#123; return _p7B.Ha(q7z);&#125;app.post(&#x27;/geetest/w&#x27;, function (req, res) &#123; console.log(req.body.tracks); let X1z = JSON.parse(req.body.tracks); let c = JSON.parse(req.body.c); let s = req.body.s; let challenge = req.body.challenge; let gt = req.body.gt; let v = req.body.v; let h7z = get_H7z(); let q7z = get_q7z(X1z, c, s, gt, challenge, v); let r7z = get_r7z(q7z); let w = r7z + h7z; res.send(JSON.stringify(&#123; w, gt, challenge &#125;));&#125;);var server = app.listen(8081, function () &#123; var port = server.address().port console.log(&quot;Server started, address: http://localhost:%s&quot;, port)&#125;); è¿è¡Œç»“æœå¦‚ä¸‹ï¼š image-20220424191932778","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"éªŒè¯ç ","slug":"éªŒè¯ç ","permalink":"https://blog.heshipeng.com/tags/%E9%AA%8C%E8%AF%81%E7%A0%81/"}]},{"title":"JSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç wå‚æ•°ç”Ÿæˆ","date":"2022-04-21T07:13:39.000Z","path":"JSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç wå‚æ•°ç”Ÿæˆ/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ å‰è¨€æœ¬æ–‡æ˜¯æœºå™¨è¿‡æéªŒæ»‘å—éªŒè¯ç ç³»åˆ—æ–‡ç« çš„ç¬¬äºŒç¯‡ï¼Œæäº¤éªŒè¯è¯·æ±‚çš„wå‚æ•°é€†å‘åˆ†æã€‚åè¾¹è¿˜ä¼šé™†é™†ç»­ç»­å‘æ–‡ï¼Œè®²è§£å¦‚ä½•è¡¥ç¯å¢ƒï¼Œå¦‚ä½•åˆ©ç”¨åƒç´ ç‚¹RGBå·®å€¼è·å–ç¼ºå£ä½ç½®ä»¥åŠé€šè¿‡æœºå™¨å­¦ä¹ è·å–ç¼ºå£ä½ç½®ï¼Œæœ€åä¼šé€šè¿‡å‡ ä¸ªé‡‡ç”¨æéªŒéªŒè¯ç çš„ç½‘ç«™å»å®Œæ•´çš„å±•ç¤ºæ•´ä¸ªè‡ªåŠ¨åŒ–è¿‡ç¨‹ã€‚è€ŒæéªŒæ»‘å—ç³»åˆ—åªæ˜¯éªŒè¯ç ç³»åˆ—çš„ç¬¬ä¸€ä¸ªç³»åˆ—ï¼Œåè¾¹ä¼šç½—åˆ—å¸‚é¢ä¸Šå¸¸ç”¨çš„éªŒè¯ç ï¼Œç„¶åå‘æ–‡ä¸€ä¸€è§£å†³ã€‚ ä¸Šä¸€ç¯‡æ–‡ç« è§ï¼šJSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç åº•å›¾è¿˜åŸ é€†å‘åˆ†æè¿‡ç¨‹ç½‘å€ï¼šaHR0cHM6Ly93d3cudGlhbnlhbmNoYS5jb20v ä»¥å¤©çœ¼æŸ¥çš„ç™»å½•ä¸ºä¾‹ï¼Œæäº¤æ»‘å—éªŒè¯è¯·æ±‚æ—¶ï¼Œwå‚æ•°è·Ÿå€¼ã€‚ æŠ“åŒ…åˆ†æåœ¨åº•å›¾è¿˜åŸçš„é‚£ç¯‡æ–‡ç« ä¸­å°±æåˆ°è¿‡ä¸€å…±æœ‰å››ä¸ªé‡è¦çš„åŒ…ï¼Œå…¶ä¸­å‰é¢ä¸‰ä¸ªåŒ…éƒ½æ²¡æœ‰ç”¨åˆ°wå‚æ•°ï¼Œåªæœ‰åœ¨å‘æœåŠ¡å™¨æäº¤éªŒè¯ç éªŒè¯çš„è¯·æ±‚æ—¶æ‰éœ€è¦wå‚æ•°ï¼Œå¦‚ä¸‹ï¼š image-20220421230146225 æˆ‘ä»¬ç‚¹è¿›å»ajax.phpè¿™ä¸ªè¯·æ±‚çš„æ–¹æ³•è°ƒç”¨æ ˆï¼š image-20220421230321601 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°gt, challengeä»¥åŠwå‚æ•°ç”Ÿæˆä½ç½®ï¼Œå¦‚ä¸‹å›¾ï¼š image-20220421230550163 ç¡®å®šé€†å‘ç›®æ ‡é€šè¿‡ä¸Šè¾¹çš„æŠ“åŒ…åˆ†æï¼Œå¯ä»¥ç¡®å®šçš„æ˜¯wå‚æ•°æœ‰2ä¸ªå˜é‡r7zå’ŒH7zæ‹¼æ¥è€Œæˆï¼Œç„¶år7zæ˜¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ç”Ÿæˆï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°q7zï¼›H7zä¹Ÿæ˜¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ç”Ÿæˆã€‚è¿™æ ·é€†å‘çš„ç›®æ ‡ä¹Ÿå°±ç¡®å®šäº†ï¼Œå°±æ˜¯æŠ å‡ºè¿™2ä¸ªå‡½æ•°ä»¥åŠå‚æ•°q7zã€‚ H7zç”Ÿæˆè§„åˆ™H7zæ˜¯ç”±ä¸€ä¸ªæ— å‚çš„å‡½æ•°V7z[M9r.C8z(92)]ç”Ÿæˆï¼Œæ‰€ä»¥å…ˆçœ‹è¿™ä¸ªå‡½æ•°ã€‚å¯ä»¥çœ‹åˆ°æ¯æ¬¡è°ƒç”¨çš„ç»“æœéƒ½ä¸åŒã€‚ image-20220421231717931 å¯ä»¥çœ‹åˆ°è¿™ä¸ªå‡½æ•°é‡‡ç”¨äº†æµç¨‹å¹³å¦åŒ–ï¼Œå¯¹äºæµç¨‹å¹³å¦åŒ–ï¼Œåœ¨è°ƒè¯•æ—¶çœ‹ä¸‹returnè¯­å¥è¿”å›çš„å€¼ï¼Œå¦‚æœæœ‰å¤šä¸ªreturnè¯­å¥ï¼Œåˆ™æ¯ä¸ªreturnè¯­å¥éƒ½æ‰“ä¸Šæ–­ç‚¹ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªreturnè¯­å¥ï¼Œçœ‹ä¸‹returnçš„é‚£ä¸ªå˜é‡ï¼Œæ¯ä¸ªç»™è¿™ä¸ªå˜é‡èµ‹å€¼çš„è¯­å¥éƒ½è¦æ‰“ä¸Šæ–­ç‚¹ï¼Œæ˜¾ç„¶è¿™é‡Œå‡½æ•°è¿”å›çš„æ˜¯Y0Bï¼Œåˆ™ç»™è¿™ä¸ªå˜é‡èµ‹å€¼çš„å‡ ä¸ªåœ°æ–¹éƒ½æ–­ä¸Šï¼š image-20220421231912531 æˆ‘ä»¬æ–­è¿›æ¥å‘ç°ï¼Œåªèµ°äº†M9r.k9r()[18][36][24]è¿™ä¸ªåˆ†æ”¯ï¼Œå®ä¾‹åŒ–ä¸€ä¸ªv0Bå¯¹è±¡ï¼Œç„¶åè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„æŸä¸€ä¸ªæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸²åŠ å¯†åçš„å­—ç¬¦ä¸²ã€‚ image-20220421232420203 åˆ©ç”¨consoleæŠŠY0B = new v0B()[M9r.C8z(699)](g0B[M9r.C8z(818)](D0B))è¿™è¡Œä»£ç ç®€åŒ–ä¸ºY0B = new v0B().encrypt(g0B.wb())ï¼Œæœ€åD0Bä¸ºundefineæ‰€ä»¥çœç•¥ã€‚ æ‰€ä»¥è¿™é‡Œè¦å¾—åˆ°Y0Bå°±å…ˆå¾—æŠ å‡ºg0bçš„wbæ–¹æ³•ï¼Œç„¶åæŠ å‡ºv0Bçš„encryptæ–¹æ³•ï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥æ¥å§ã€‚ g0bå¯¹è±¡çš„wbæ–¹æ³• æˆ‘ä»¬ç‚¹è¿›å»wbæ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°è™½ç„¶æ˜¯æµç¨‹å¹³å¦åŒ–ï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªcaseï¼Œæœ€åè¿”å›çš„æ˜¯ä¸€ä¸ªé€—å·è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬åªçœ‹æœ€åä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯å‡½æ•°çœŸæ­£è¿”å›çš„æ˜¯J0Bå˜é‡ï¼Œè€ŒJ0Bå˜é‡æ˜¯è°ƒç”¨C7Bå‡½æ•°ç”Ÿæˆçš„ã€‚å¦‚ä¸‹å›¾ï¼š image-20220421233831380 æ²¡åŠæ³•ï¼Œæˆ‘ä»¬åªæœ‰æ¥ç€è¿½è¿›å»è°ƒè¯•C7Bå‡½æ•°ï¼Œå¯ä»¥çœ‹åˆ°èŠ±é‡Œèƒ¡å“¨çš„å…¶å®åªæ˜¯è°ƒç”¨äº†å››æ¬¡H1Wå‡½æ•°ï¼Œç„¶åæ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›ã€‚å¦‚å›¾ï¼š image-20220421234115235 æˆ‘ä»¬å†æ‰’ä¸€æ‰’H1Wå‡½æ•°çš„ä»£ç çœ‹ä¸‹ï¼Œå°†è¿”å›çš„é‚£æ¡è¯­å¥åæ··æ·†ä¹‹åç»“æœä¸º(65536 * (1 + Math.random()) | 0).toString(16).substring(1) ã€‚ image-20220421234837015 åˆ°è¿™é‡Œéƒ½æ˜¯è°ƒç”¨å†…ç½®çš„å‡½æ•°äº†ï¼Œè€Œä¸”ç®—æ³•æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿›ä¸€æ­¥å¾€ä¸‹æŒ–äº†ã€‚æ•´ç†ä¸€ä¸‹ï¼š 12345678910var G0b = function() &#123;&#125;G0b.prototype.wb = function() &#123; return H1W() + H1W() + H1W() + H1W();&#125;function H1W() &#123; return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);&#125;g0b = new G0b(); v0Bå¯¹è±¡çš„encryptæ–¹æ³• æ¥ç€çœ‹ä¸‹v0Bå¯¹è±¡çš„encryptæ–¹æ³•ã€‚ç‚¹è¿›å»çœ‹è¿™ä¸ªæ–¹æ³•ä½“ï¼Œå‘ç°è¿™ä¸ªæ–¹æ³•è¿˜ä¾èµ–äº†å¾ˆå¤šå…¶å®ƒçš„æ–¹æ³•ï¼Œè€Œä¸”ä¾èµ–çš„è¿™äº›æ–¹æ³•éƒ½ä¸æ˜¯å†…ç½®æ–¹æ³•ï¼Œå¦‚æœå•æŠ è¿™æ ·çš„ä¸€ä¸ªä¸ªæ–¹æ³•å°±å¾ˆéº»çƒ¦äº†ï¼Œæ›´ä¸ç”¨æƒ³å»ä¸€ä¸ªä¸ªç†æ¸…æ¥šè¿™äº›æ–¹æ³•çš„é€»è¾‘ï¼Œç„¶åç”¨Pythonå»è‡ªå·±å®ç°äº†ã€‚é‡åˆ°è¿™æ ·çš„æƒ…å†µä¸€èˆ¬æ¯”è¾ƒç®€å•çš„æ–¹æ³•æ˜¯å…¨æŠ æ•´ä¸ªJSï¼Œç„¶åæƒ³åŠæ³•å¯¼å‡ºæ‰€éœ€è¦çš„æ–¹æ³•å³å¯ã€‚ image-20220422002133796 æƒ³è¦å¯¼å‡ºV9Bæ–¹æ³•ï¼Œå°±éœ€è¦å¯¼å‡ºv0Bå¯¹è±¡ï¼Œå› ä¸ºV9Bæ–¹æ³•å±äºv0Bå¯¹è±¡ï¼Œè€Œå¦‚ä½•å¯¼å‡ºv0Bå¯¹è±¡å‘¢ï¼Ÿå°±è¦çœ‹è¿™ä¸ªå¯¹è±¡çš„ä¸Šä¸€å±‚æ˜¯ä»€ä¹ˆã€‚å¦‚æœé‡åˆ°ä»£ç è¡Œæ•°å¾ˆå¤šï¼Œä»£ç å±‚æ¬¡æ¯”è¾ƒå¤šçš„æ—¶å€™æ¨èä½¿ç”¨Notepad++æ–¹ä¾¿å»ç®¡ç†è¿™ç§å±‚æ¬¡ç»“æ„ã€‚ä¸‹é¢ä»‹ç»è¿™ä¸ªå°æŠ€å·§ï¼š ä½¿ç”¨Notepad++æŸ¥çœ‹JSä»£ç å±‚æ¬¡ç»“æ„å°æŠ€å·§ï¼šå…ˆæ‹·è´æ•´ä¸ªæ–‡ä»¶è‡³Notepad++ï¼Œç„¶åé€‰æ‹©è¯•å›¾-&gt;æŠ˜å æ‰€æœ‰å±‚æ¬¡ã€‚ image-20220422003418919 æ¥ç€CTRL+Fæœç´¢æˆ‘ä»¬è¦çš„ä»£ç ï¼Œæ¯”å¦‚è¿™é‡Œæ˜¯v0B = function() image-20220422003646204 å¯ä»¥çœ‹åˆ°æœç´¢ç»“æœåªå±•å¼€äº†åŒ…å«æˆ‘ä»¬æœç´¢ä»£ç çš„é‚£äº›åˆ†æ”¯ï¼Œå…¶ä½™çš„ä¾æ—§æ²¡æœ‰å±•å¼€ï¼Œè¿™æ ·éå¸¸æ–¹ä¾¿æˆ‘ä»¬è§‚å¯Ÿä»£ç çš„å±‚æ¬¡ç»“æ„ã€‚ image-20220422003746128 é€šè¿‡ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œåªè¦åŠ è½½è¿™æ•´ä¸ªJSæ–‡ä»¶ï¼Œå°±ä¼šæ‰§è¡Œæµç¨‹å¹³å¦åŒ–ä¸­çš„ä»£ç ï¼Œä¹Ÿå°±ä¼šå¾—åˆ°v0Bå¯¹è±¡å°±ä¼šè¢«å®šä¹‰ï¼Œæˆ‘ä»¬åªéœ€è¦å…¨å±€å®šä¹‰ä¸€ä¸ªå˜é‡æ¥æ”¶v0Bå³å¯ã€‚å¦‚ä¸‹å›¾ï¼š image-20220422004359174 ä»£ç æ”¹å¥½ä¹‹åï¼Œæˆ‘ä»¬æ”¾åˆ°consoleä¸Šè¯•éªŒä¸€ä¸‹ï¼ŒæˆåŠŸæ‹¿åˆ°encryptæ–¹æ³•ã€‚ image-20220422004733474 æ—¢ç„¶wbæ–¹æ³•å’Œencryptæ–¹æ³•éƒ½æ‹¿åˆ°äº†ï¼Œé‚£æˆ‘ä»¬ä¹Ÿå°±ç®—æ˜¯H7zçš„å€¼ã€‚æˆ‘ä»¬åŒæ ·è¯•éªŒä¸€ä¸‹ï¼Œä¹Ÿæ²¡é—®é¢˜ã€‚ image-20220422005005272 H7zçš„å€¼æ‹¿åˆ°äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯r7zï¼Œè€Œr7zä¾èµ–äºq7zï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆçœ‹q7zã€‚ q7zç”Ÿæˆè§„åˆ™æŠ å‡ºq7zç”Ÿæˆçš„ä»£ç ï¼šq7z = n0B[M9r.R8z(699)](h7B[M9r.C8z(105)](Y7z), V7z[M9r.R8z(818)]())ï¼Œåæ··æ·†ä¹‹åä¸ºï¼šq7z = n0B.encrypt(h7B.stringify(Y7z), V7z.wb()) encryptï¼Œstringifyï¼Œwb ğŸ¤”è¿™å‡ ä¸ªæ€ä¹ˆçœ‹èµ·æ¥é‚£ä¹ˆçœ¼ç†Ÿï¼Ÿ V7z.wbå®é™…ä¸Šè·Ÿæˆ‘ä»¬å‰é¢æŠ çš„g0b.wbä¸€æ¯›ä¸€æ ·ï¼Œç„¶åh7B.stringifyå®é™…ä¸Šå°±ç­‰åŒäºJSON.stringify image-20220422122917004 n0B.encryptåˆ™æ˜¾ç„¶ä¸å‰é¢æŠ çš„v0B.encryptä¸åŒï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å‚æ•°ä¸ªæ•°ä¸åŒï¼Œè¿”å›å€¼ç±»å‹ä¹Ÿä¸åŒã€‚ æ‰€ä»¥è¦è§£å†³q7zï¼Œåˆ™éœ€è¦æŠ å‡ºY7zæ˜¯å¦‚ä½•ç”Ÿæˆçš„ä»¥åŠæŠ å‡ºn0B.encryptã€‚çœ‹ä¸‹æˆ‘ä»¬å‰é¢æŠ v0Bçš„æ–¹å¼ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥å¦‚æ³•ç‚®åˆ¶ğŸ¤¨ image-20220422124107011 è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æˆåŠŸæ‹¿åˆ°äº†n0B.encryptï¼Œåªä¸è¿‡n0B.encryptå’Œä¹‹å‰çš„v0B.encryptä½¿ç”¨ä¸ä¸€æ ·ã€‚ image-20220422124505892 æ¥ä¸‹æ¥å°±æ˜¯Y7zäº†ã€‚æˆ‘ä»¬å…ˆçœ‹ä¸‹Y7zæ˜¯ä¸ªå•¥ï¼ŸğŸ¤“ image-20220422125036518 éšæœºæ»‘åŠ¨æ»‘å—å‡ æ¬¡ï¼Œè§‚å¯Ÿè¿™å‡ ä¸ªå‚æ•°å“ªäº›æ˜¯å›ºå®šçš„ï¼Œå“ªäº›æ˜¯å˜åŒ–çš„ã€‚ç›®æµ‹é™¤äº†ç‰ˆæœ¬å·vä¹‹å¤–ï¼Œå…¶ä½™å‡ ä¸ªå‚æ•°éƒ½ä¸æ˜¯å›ºå®šçš„ï¼Œå¿ƒç´¯ğŸ˜… image-20220422154448445 æ‰¾åˆ°Y7zå®šä¹‰çš„åœ°æ–¹ï¼Œå¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬æŒ¨ä¸ªçœ‹å§ã€‚ image-20220422155807811 å…ˆçœ‹çœ‹aaæ˜¯å¦‚ä½•ç”Ÿæˆçš„ã€‚ å¯ä»¥çœ‹åˆ°aaæ˜¯ç”±F7zå˜é‡èµ‹å€¼ï¼Œæˆ‘ä»¬åœ¨å½“å‰å‡½æ•°ä¸­æ‰¾ç»™F7zèµ‹å€¼çš„è¯­å¥ï¼Œå¹¶æ–­ä¸Šï¼Œå¦‚ä¸‹å›¾ï¼š image-20220422160401488 F7z = e7B[M9r.C8z(779)](V7z[M9r.R8z(602)])åæ··æ·†ä¸ºF7z = e7B.t(V7z.b)ï¼ŒV7z.bä¸ºä¸€ä¸ª13ä½çš„æ—¶é—´æˆ³ã€‚æˆ‘ä»¬è·Ÿè¿›å»è¿™ä¸ªæ–¹æ³•ï¼š image-20220422172757864 æˆ‘ä»¬å…ˆçœ‹è¿”å›å€¼ï¼šf1z[M9r.R8z(592)](M9r.C8z(346)) + M9r.C8z(370) + B1z[M9r.R8z(592)](M9r.R8z(346)) + M9r.R8z(370) + o1z[M9r.R8z(592)](M9r.C8z(346))åæ··æ·†ä¸ºf1z.join(&quot;&quot;) + &quot;!!&quot; B1z.join(&quot;&quot;) + &quot;!!&quot; + o1z.join(&quot;&quot;)ï¼Œä»è¿™é‡Œå¯çŸ¥ï¼Œæƒ³è¦å¾—åˆ°aaçš„å€¼ï¼Œå°±å¿…é¡»çŸ¥é“flzï¼ŒBlzï¼Œolzçš„å€¼ã€‚ æˆ‘ä»¬å†çœ‹çœ‹X1zï¼šX1zæ˜¯ä¸€ä¸ªè½¨è¿¹æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå‘é‡çš„æ•°ç»„ï¼Œåˆ†åˆ«æ˜¯xåæ ‡ï¼Œyåæ ‡ï¼Œæ—¶é—´ã€‚ç»è¿‡åˆ†æçŸ¥è¿™ä¸ªè½¨è¿¹æ•°ç»„æ˜¯æµè§ˆå™¨ç›‘å¬é¼ æ ‡äº‹ä»¶å¾—å‡ºæ¥çš„ï¼Œæˆ‘ä»¬ç”¨æœºå™¨å»è‡ªåŠ¨è¿‡éªŒè¯ç çš„æ—¶å€™æ˜¯æ²¡åŠæ³•é€šè¿‡è¿™ç§æ–¹å¼å¾—åˆ°çš„è¿™ä¸ªè½¨è¿¹æ•°ç»„çš„ï¼Œå”¯ä¸€çš„æ–¹å¼å¯èƒ½æ˜¯å†™ä¸€ç§æ¨¡æ‹Ÿæ‹–åŠ¨æ»‘å—çš„ç®—æ³•ï¼Œç”Ÿæˆè¿™ç§è½¨è¿¹ï¼Œç„¶åä¼ ç»™è¿™ä¸ªå‡½æ•°å»è®¡ç®—aaçš„å€¼ã€‚ image-20220422173201445 åˆ†æåˆ°è¿™é‡Œï¼Œå¾ˆæ˜¾ç„¶æˆ‘ä»¬è¦é­”æ”¹è¿™ä¸ªç”Ÿæˆaaçš„å‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªè½¨è¿¹æ•°ç»„ï¼Œè¿”å›aaçš„å€¼ã€‚ç”±äºè¿™ä¸ªå‡½æ•°ä¹Ÿå¾ˆå¤æ‚ï¼Œæ‰€ä»¥è€ƒè™‘ç›´æ¥æŠ å‡ºè¿™ä¸ªå‡½æ•°ï¼Œè€Œä¸å¿…å»çº ç»“å…·ä½“çš„flzï¼ŒBlzï¼Œolzæ˜¯æ€ä¹ˆå¾—åˆ°çš„ã€‚ è¯´å¹²å°±å¹²ã€‚æ“ä½œå¦‚ä¸‹ï¼Œè§£é‡Šè¯´æ˜ä¸‹å‡ ä¸ªæ ‡çº¢çš„åœ°æ–¹ã€‚å¼€å¤´å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡_e7Bç”¨äºå¯¼å‡ºç”Ÿæˆaaçš„å‡½æ•°â€™\\x74â€™ï¼Œç„¶åæˆ‘ä»¬å®šä½åˆ°â€™\\x74â€™å‡½æ•°å±äºe7Bå¯¹è±¡ï¼ŒæŠŠè¿™ä¸ªå¯¹è±¡èµ‹å€¼ç»™_e7Bï¼Œç„¶åæŠŠX1zå˜é‡ä½œä¸ºå‚æ•°æä¸Šæ¥ï¼ŒæŠŠé‡Œé¢çš„è¿™ä¸ªå˜é‡åˆ æ‰ã€‚ image-20220422174419168 ä»£ç æ”¹å¥½ä¹‹åï¼Œæˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„aaä¸æˆ‘ä»¬ç½‘ç«™å¾—åˆ°çš„ä¸€è‡´ã€‚ image-20220422175211230 è™½ç„¶æˆ‘ä»¬æ‹¿åˆ°äº†aaçš„å€¼ï¼Œä½†æ˜¯è·Ÿç”ŸæˆF7zçš„é‡Œé¢é‚£ä¸ªå€¼æœ‰å‡ºå…¥ï¼Œé‚£å°±æ˜¯è¯´å®šä¹‰aaçš„åœ°æ–¹è™½ç„¶è°ƒç”¨äº†e7B.tæ–¹æ³•ç”Ÿæˆaaï¼Œä½†æ˜¯å¤–é¢æœ‰å…¶å®ƒåœ°æ–¹å¯¹è¿™ä¸ªå€¼è¿›è¡Œäº†ä¿®æ”¹ã€‚ image-20220422182356210 æˆ‘ä»¬åœ¨è¿™ä¸ªå‡½æ•°ä¸­æœç´¢F7zï¼Œç„¶åç»™æ‰€æœ‰åŒ…å«F7zçš„èµ‹å€¼è¯­å¥ä¸‹æ–­ï¼Œä¸€æ­¥æ­¥è°ƒè¯•åå‘ç°ä¿®æ”¹F7zçš„åœ°æ–¹å¦‚ä¸‹ï¼š image-20220422185131813 æˆ‘ä»¬æŠ å‡ºæ¥è¿™æ¡è¯­å¥ï¼Œç„¶ååæ··æ·†ä¸ºï¼še7B.u(F7z, V7z.d.c, V7z.d.s)ï¼Œæˆ‘ä»¬çœ‹ä¸‹V7z.d.cå’ŒV7z.d.sï¼š image-20220422185546434 çœ‹ç€åˆæœ‰ç‚¹ä¼¼æ›¾ç›¸è¯†ï¼Œemmï¼Œæ²¡é”™åˆ†åˆ«å¯¹åº”get.phpè¿”å›çš„cå’Œsï¼š image-20220422185646048 ç„¶åæˆ‘ä»¬å¾—æŠ ä¸‹e7B.uè¿™ä¸ªæ–¹æ³•ï¼Œæ„å¤–çš„å‘ç°ï¼Œå…¶å®è¿™ä¸ªæ–¹æ³•åŒ…å«çš„å¯¹è±¡å‰é¢æŠ è¿‡æ¥ï¼Œæ—¢ç„¶å¯¹è±¡å·²ç»æŠ äº†ï¼Œè¿™ä¸ªæ–¹æ³•è‡ªç„¶å°±æœ‰äº†ã€‚ image-20220422185947808 éªŒè¯ä¸€ä¸‹ï¼Œç»“æœæ²¡æ¯›ç—…ï¼š image-20220422190458150 å†çœ‹çœ‹userresponseå¦‚ä½•ç”Ÿæˆçš„ æŠ å‡ºç”Ÿæˆuserresponseçš„ä»£ç ï¼Œç„¶ååæ··æ·†ä¸ºï¼ši7B.C(g7z, V7z.d.challenge)ï¼Œg7zæ˜¯æ‹–æ‹½é¼ æ ‡æ»‘åŠ¨æ»‘å—çš„è·ç¦»ï¼Œå¯ä»¥é€šè¿‡è½¨è¿¹æ•°ç»„è®¡ç®—å‡ºè¿™ä¸ªæ»‘åŠ¨çš„è·ç¦»ã€‚ ä»£ç å¦‚ä¸‹ï¼š 12345for (let index = 0; index &lt; X1z.length; index++) &#123; passtime += X1z[index][2]; g7z += X1z[index][0];&#125;g7z -= X1z[0][0]; V7z.d.challengeæ˜¯get.phpè¿”å›çš„ï¼š image-20220422210127144 i7B.Cè¿™ä¸ªå‡½æ•°çš„è¯ï¼ŒæŒ‰ç…§ä¸Šè¾¹ä»‹ç»çš„æ–¹æ³•ï¼Œå…ˆæŠ å‡ºi7Bå¯¹è±¡ï¼Œè‡ªç„¶å°±å¯ä»¥æ‹¿åˆ°Cæ–¹æ³•äº†ã€‚ passtimeçš„è®¡ç®— ç›®æµ‹passtimeæ˜¯è½¨è¿¹æ•°ç»„çš„æ¯ä¸ªå‘é‡çš„æ—¶é—´ç´¯ç§¯ï¼š image-20220422211356975 è®¡ç®—ä»£ç å¦‚ä¸‹ï¼š 1234let passtime = 0;for (let index = 0; index &lt; X1z.length; index++) &#123; passtime += X1z[index][2];&#125; imgloadç”Ÿæˆ imgloadè¡¨ç¤ºå½“å‰é¡µé¢åŠ è½½çš„å›¾ç‰‡æ•°ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨randoméšæœºä¸€ä¸ªå€¼ã€‚ rpçš„è®¡ç®— rpè®¡ç®—çš„ä»£ç ä¸ºï¼šI0B(V7z[M9r.R8z(190)][M9r.R8z(189)] + V7z[M9r.C8z(190)][M9r.C8z(425)][M9r.R8z(504)](0, 32) + Y7z[M9r.C8z(193)])åæ··æ·†ä¹‹åä¸ºï¼šI0B(gt + challenge.slice(0, 32) + passtime)ï¼Œgtï¼Œchallengeï¼Œpasstimeéƒ½å·²ç»ç®—å‡ºï¼ŒæŠ å‡ºI0Bæ–¹æ³•å³å¯ï¼Œå¦‚ä½•æŠ ï¼Ÿå‚ç…§ä¸Šé¢çš„æ–¹å¼ã€‚ r7zç”Ÿæˆè§„åˆ™æœ‰äº†q7zï¼Œr7zè‡ªç„¶å°±å¾ˆç®€å•äº†ã€‚å› ä¸ºå‰é¢è¯´è¿‡r7z = p7B.Ha(q7z)ï¼Œåªéœ€è¦æŠ å‡ºp7Bå³å¯ï¼Œè¿‡ç¨‹åŒç†ã€‚ ç¼–å†™ä»£ç æŒ‰ç…§ä¸Šé¢çš„æŠ å‡ºç›¸åº”çš„æ–¹æ³•åï¼Œç„¶åç¼–å†™ç”Ÿæˆwå‚æ•°çš„ä»£ç ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263var G0b = function() &#123;&#125;function H1W() &#123; return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);&#125;var wb = H1W() + H1W() + H1W() + H1W();G0b.prototype.wb = function() &#123; return wb;&#125;var _v0B;var _n0B;var _e7B;var _i7B;var _p7B;var _I0B;// æŠ å‡ºå¯¹åº”çš„object function get_H7z() &#123; let g0b = new G0b(); let aaa = new _v0B(); return aaa.encrypt(g0b.wb());&#125;function get_q7z(X1z, c, s, gt, challenge) &#123; let g0b = new G0b(); let passtime = 0; for (let index = 0; index &lt; X1z.length; index++) &#123; passtime += X1z[index][2]; &#125; console.log(_e7B.u(_e7B.t(new Date().getTime(), X1z), c, s)); let Y7z = &#123; &quot;aa&quot;: _e7B.u(_e7B.t(new Date().getTime(), X1z), c, s), &quot;userresponse&quot;: _i7B.C(Math.floor(Math.random() * 200), challenge), &quot;passtime&quot;: passtime, &quot;imgload&quot;: Math.floor(Math.random() * 200), &quot;ep&quot;: &#123;&quot;v&quot;: &quot;6.0.9&quot;&#125;, &quot;rp&quot;: _I0B(gt + challenge.slice(0, 32) + passtime) &#125;; return _n0B.encrypt(JSON.stringify(Y7z), g0b.wb());&#125;function get_r7z(q7z) &#123; return _p7B.Ha(q7z);&#125;var X1z = [[21,30,0],[1,0,22],[2,0,8],[2,0,17],[3,0,17],[3,0,16],[2,0,17],[3,0,16],[2,0,17],[3,0,17],[2,0,17],[1,0,16],[1,0,17],[1,0,33],[1,0,17],[2,0,16],[2,0,17],[1,0,17],[1,0,16],[1,0,17],[1,1,50],[1,0,67],[0,0,18383]];var c = [12, 58, 98, 36, 43, 95, 62, 15, 12];var s = &quot;424f4e78&quot;;var challenge = &quot;bb56791bfda35fac04bd7f7b14a5c8654r&quot;;var gt = &quot;f5c10f395211c77e386566112c6abf21&quot;;var h7z = get_H7z();var q7z = get_q7z(X1z, c, s, gt, challenge);var r7z = get_r7z(q7z);var w = r7z + h7z;console.log(w); æŸ¥æ‰¾bugä»å¼€å§‹é€†å‘æéªŒæ»‘å—ï¼Œåˆ°å®Œæ•´çš„æŠ å‡ºwçš„ç®—æ³•åªèŠ±äº†ä¸€å¤©æ—¶é—´ï¼Œæœ¬æ¥ä¸€åˆ‡é¡ºé£é¡ºæ°´ï¼Œæœ¬æ¥ä»¥ä¸ºso easyï¼Œä½†æ˜¯å»ç”¨æŠ å‡ºæ¥çš„wå‚æ•°å»å‘èµ·ajax.phpè¯·æ±‚æ—¶ï¼Œä¸€ç›´ä¸æˆåŠŸã€‚ç„¶åå°±æ˜¯å„ç§æŸ¥æ‰¾bugï¼ŒæŸ¥æ‰¾bugèŠ±äº†æˆ‘å››å¤©æ—¶é—´â€¦æœŸé—´å„ç§çŒœæƒ³éƒ½å°è¯•è¿‡äº†ï¼Œæ„Ÿè§‰å½“æ—¶æƒ³ç€è¦ä¸ç®—äº†ã€‚ä½†æ˜¯æƒ³ç€è‡ªå·±å‰åèŠ±äº†å¿«ä¸€ä¸ªæ˜ŸæœŸçš„æ—¶é—´ï¼Œä¸èƒ½è½»æ˜“è¨€å¼ƒã€‚è¿™é‡Œåˆ—ä¸¾ä¸»è¦çš„å‡ ä¸ªé—®é¢˜ã€‚ wå‚æ•°çš„h7zå’Œr7zä¸¤éƒ¨åˆ†çš„å…³è”æ€§ å‰é¢è¯´è¿‡ï¼Œwå‚æ•°æ˜¯ç”±2éƒ¨åˆ†ç»„æˆh7zå’Œr7zã€‚ä¸¤éƒ¨åˆ†çœ‹èµ·æ¥æ²¡æœ‰å…³è”ï¼Œå…¶å®è¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œè¿™ä¿©æ˜¯æœ‰å…³è”çš„ã€‚æˆ‘ä»¬å†ç†ä¸€ä¸‹æ€è·¯ï¼š 123h7z = V0B.encrypt(g0b.wb())q7z = n0B.encypt(JSON.stringify(Y7z), g0b.wb())r7z = p7B.Ha(q7z) h7zå’Œr7zçš„ç”Ÿæˆè¿™ä¿©éƒ½ç”¨åˆ°äº†ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²wbï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªéšæœºå­—ç¬¦ä¸²å¿…é¡»ä¸€è‡´!!!ï¼Œå°±æ˜¯è¯´åç«¯ä¼šè§£å¯†h7zå’Œr7zç„¶åæ¯”è¾ƒè¿™ä¸¤ä¸ªéšæœºå­—ç¬¦ä¸²æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´å°±ä¼šä¸é€šè¿‡ã€‚æˆ‘å‰æœŸå°±æ˜¯åœ¨ç”Ÿæˆh7zå’Œr7zçš„åœ°æ–¹è°ƒç”¨äº†2æ¬¡wbï¼Œå¯¼è‡´éªŒè¯ä¸€ç›´ä¸é€šè¿‡ã€‚æ­£ç¡®çš„åšæ³•è°ƒç”¨ä¸€æ¬¡wbï¼Œå¹¶ç”¨ä¸€ä¸ªå…¨å±€å˜é‡ä¿å­˜ï¼Œç„¶åç”Ÿæˆh7zå’Œr7zçš„åœ°æ–¹ç›´æ¥å»æ‹¿è¿™ä¸ªå…¨å±€å˜é‡å³å¯ã€‚ åŒåçš„å¯¹è±¡ å¦å¤–å¯¼è‡´ä¸€ç›´é€šè¿‡çš„å¦å¤–ä¸€éƒ¨åˆ†åŸå› æ˜¯åŒåçš„å¯¹è±¡æœ‰ä¸€äº›ï¼Œå†æŠ å¯¹è±¡çš„æ—¶å€™ä¸€å®šè¦ä»”ç»†ï¼Œåƒä¸‡ä¸èƒ½æŠ é”™ã€‚ aaè½¨è¿¹çš„ç¡®å®š è·ŸæŸä¸€ä¸ªå‚æ•°çš„å€¼çš„æ—¶å€™ï¼Œé™¤äº†è¦åœ¨å˜é‡å£°æ˜çš„åœ°æ–¹åˆ†æå˜é‡å€¼æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Œè¿˜è¦æ³¨æ„åœ¨å…¶å®ƒåœ°æ–¹ï¼Œå°¤å…¶æ˜¯é€—å·è¡¨è¾¾å¼çš„åœ°æ–¹ä¹Ÿéšè—ç€å€¼çš„å˜åŒ–ã€‚æ¯”å¦‚ï¼šj1r = (F7z = e7B[M9r.R8z(544)](F7z, V7z[M9r.R8z(190)][M9r.C8z(540)], V7z[M9r.R8z(190)][M9r.R8z(6)])è¡¨é¢ä¸Šæ˜¯å˜é‡j1rçš„èµ‹å€¼ï¼Œéšè—ç€å˜é‡F7zçš„å€¼çš„å˜åŒ–ã€‚ è¿™é‡Œä»‹ç»ä¸€äº›æŸ¥æ‰¾bugçš„æŠ€å·§ï¼š è¿™é‡Œçš„wè·Ÿå€¼åŒ…å«2éƒ¨åˆ†ï¼Œr7zå’Œh7zã€‚å¯ä»¥å…ˆå®šä½æ˜¯h7zè¿˜æ˜¯r7zçš„é—®é¢˜ï¼Œå®šä½åˆ°æ˜¯å“ªåŠåŒºçš„é—®é¢˜åï¼Œç„¶åæ ¹æ®å®é™…ç½‘ç«™è¿è¡Œçš„ç»“æœå’Œä½ è‡ªå·±ç¼–å†™çš„ä»£ç è¿è¡Œçš„ç»“æœä¸€æ­¥æ­¥è°ƒè¯•ï¼Œ2è€…ç»“æœä¸ºä»€ä¹ˆä¸ä¸€è‡´ï¼Œå…·ä½“åˆ†æåŸå› ã€‚ ä¹Ÿå¯ä»¥åˆ©ç”¨æµè§ˆå™¨çš„overrideåŠŸèƒ½æˆ–è€…hookå°½å¯èƒ½çš„å¤šè¾“å‡ºä¸€äº›å˜é‡çš„å€¼ï¼Œå¯¹æ¯”è‡ªå·±ç¨‹åºè¿è¡Œçš„ç»“æœå’Œç½‘ç«™è¾“å‡ºçš„å€¼ï¼Œçœ‹æ˜¯å“ªä¸€æ­¥å‡ºç°é—®é¢˜ã€‚æˆ‘ä»¬åœ¨è°ƒbugçš„æ—¶å€™å°±åˆ©ç”¨äº†overrideæ›¿æ¢jsæ–‡ä»¶è¾“å‡ºäº†å¾ˆå¤šæ—¥å¿—ï¼Œå¦‚ä¸‹å›¾ï¼š image-20220428145928176","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"éªŒè¯ç ","slug":"éªŒè¯ç ","permalink":"https://blog.heshipeng.com/tags/%E9%AA%8C%E8%AF%81%E7%A0%81/"}]},{"title":"JSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç åº•å›¾è¿˜åŸ","date":"2022-04-20T02:41:37.000Z","path":"JSé€†å‘æ¡ˆä¾‹â€”â€”æéªŒæ»‘å—éªŒè¯ç åº•å›¾è¿˜åŸ/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ å‰è¨€æœ¬æ–‡æ˜¯æœºå™¨è¿‡æéªŒæ»‘å—éªŒè¯ç ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€ç¯‡ï¼Œåº•å›¾çš„è¿˜åŸï¼ŒåŒ…æ‹¬å¸¦ç¼ºå£çš„åº•å›¾ä»¥åŠå®Œæ•´åº•å›¾çš„è¿˜åŸã€‚åè¾¹è¿˜ä¼šé™†é™†ç»­ç»­å‘æ–‡ï¼Œè®²è§£æäº¤éªŒè¯è¿‡ç¨‹è¯·æ±‚wå‚æ•°çš„è·Ÿå€¼ï¼Œå¦‚ä½•è¡¥ç¯å¢ƒï¼Œå¦‚ä½•åŒ…æ‹¬åˆ©ç”¨åƒç´ ç‚¹RGBå·®å€¼è·å–ç¼ºå£ä½ç½®ä»¥åŠé€šè¿‡æœºå™¨å­¦ä¹ è·å–ç¼ºå£ä½ç½®ï¼Œæœ€åä¼šé€šè¿‡å‡ ä¸ªé‡‡ç”¨æéªŒéªŒè¯ç çš„ç½‘ç«™å»å®Œæ•´çš„å±•ç¤ºæ•´ä¸ªè‡ªåŠ¨åŒ–è¿‡ç¨‹ã€‚è€ŒæéªŒæ»‘å—ç³»åˆ—åªæ˜¯éªŒè¯ç ç³»åˆ—çš„ç¬¬ä¸€ä¸ªç³»åˆ—ï¼Œåè¾¹ä¼šç½—åˆ—å¸‚é¢ä¸Šå¸¸ç”¨çš„éªŒè¯ç ï¼Œç„¶åå‘æ–‡ä¸€ä¸€è§£å†³ã€‚ é€†å‘åˆ†æç½‘å€ï¼šaHR0cHM6Ly93d3cudGlhbnlhbmNoYS5jb20v ä»¥å¤©çœ¼æŸ¥çš„ç™»å½•ä¸ºä¾‹ï¼Œåœ¨è¿›è¡Œæ»‘å—éªŒè¯æ—¶ï¼Œè¿›è¡ŒæŠ“åŒ…åˆ†æã€‚ æŠ“åŒ…å°†ä¸€äº›é‡è¦çš„è¯·æ±‚ç½—åˆ—å¦‚ä¸‹ï¼š geetest.xhtml ä¼ å…¥çš„æ˜¯ä¸€ä¸ª13ä½æ—¶é—´æˆ³çš„uuid image-20220420114316016 è¿”å›çš„æ˜¯challengeå’Œgtã€‚ image-20220420114408595 gettype.php è·å–éªŒè¯ç ç±»å‹ï¼Œä¼ å…¥çš„æ˜¯ç¬¬ä¸€ä¸ªè¯·æ±‚è¿”å›çš„gtã€‚ image-20220420115339355 è¿”å›çš„æ˜¯éªŒè¯ç ç±»å‹ä»¥åŠä¸€äº›JSæ–‡ä»¶ï¼š image-20220420115438377 get.php å…¥å‚åŒæ ·æ˜¯å‰è¾¹è¿”å›çš„challengeå’Œgtã€‚ image-20220420123131763 è¿”å›ä¹±åºä¹‹åçš„å®Œæ•´éªŒè¯ç åº•å›¾å’Œç¼ºå£éªŒè¯ç åº•å›¾ï¼ŒåŒæ—¶è¿”å›äº†ä¸€ä¸ªæ–°çš„challengeã€‚ image-20220420150236107 ajax.php è¿™ä¸ªæ˜¯æˆ‘ä»¬æ‰‹åŠ¨è¿›è¡ŒéªŒè¯ç æäº¤æ—¶å‘çš„åŒ…ï¼Œé‡è¦çš„å…¥å‚æ˜¯gtï¼Œchallengeä»¥åŠwã€‚å…¶ä¸­wæ˜¯åŠ å¯†å­—ç¬¦ä¸²ï¼ŒåŒ…å«æ»‘å—çš„è½¨è¿¹ã€‚challengeæ˜¯æ›´æ–°ä¹‹åçš„é‚£ä¸ªæ–°çš„å€¼ï¼Œå³ä¸Šä¸€æ­¥get.phpè·å–åˆ°çš„ã€‚ image-20220420150610485 è¿”å›æ»‘å—æ˜¯å¦éªŒè¯æˆåŠŸï¼Œå¦‚ä¸‹ï¼š image-20220420150645777 é€†å‘ç›®æ ‡ç¡®å®šç»è¿‡ä¸Šè¾¹çš„æŠ“åŒ…åˆ†æä¹‹åï¼Œå¯ä»¥å‘ç°å‡ ä¸ªå…³é”®ç‚¹ï¼Œé¦–å…ˆæ˜¯å‡ ä¸ªå…³é”®å‚æ•°ï¼šchallengeï¼Œgtï¼Œwï¼Œç„¶åæ˜¯ä¹±åºçš„å®Œæ•´åº•å›¾å’Œä¹±åºçš„å¸¦ç¼ºå£åº•å›¾ï¼Œæœ€åæ˜¯ç¼ºå£ä½ç½®çš„è¯†åˆ«ã€‚ challengeå’Œgtè‡ªå§‹è‡ªç»ˆéƒ½æ˜¯é€šè¿‡è¯·æ±‚æ¥å£è¿”å›ï¼Œæ‰€ä»¥è¿™ä¸ªä¸éœ€è¦é€†å‘ã€‚ wå‚æ•°æ˜¯æœ€åä¸€æ­¥å‘æœåŠ¡ç«¯æäº¤éªŒè¯ç éªŒè¯ç»“æœçš„å€¼ï¼ŒåŒ…å«äº†ç¯å¢ƒç›‘æµ‹ï¼Œæ»‘å—è½¨è¿¹çš„åŠ å¯†ã€‚å¦‚æœä½¿ç”¨playwrightè¿™ç§æ¨¡æ‹Ÿæµè§ˆå™¨å·¥å…·å»æäº¤éªŒè¯ç ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥ä¸ç”¨é€†å‘ï¼Œå¦‚æœæ˜¯è‡ªå·±èµ°JSæˆ–è€…Pythonå‘åŒ…ï¼Œåˆ™éœ€è¦é€†å‘åˆ¨ä¸€ä¸‹ç®—æ³•æ˜¯æ€ä¹ˆå†™çš„ã€‚ ç”±äºæ— æ³•ç›´æ¥çš„è·å–æ­£ç¡®çš„å®Œæ•´åº•å›¾å’Œå¸¦ç¼ºå£çš„åº•å›¾(æœ‰äº›ç½‘ç«™ä¸ŠæéªŒéªŒè¯æ­£ç¡®çš„åº•å›¾å¯èƒ½æ˜¯ç”¨canvasåŠ è½½)ï¼Œæ‰€ä»¥éœ€è¦è¿›åˆ†æå¦‚ä½•ä»æ— åºçš„åº•å›¾å˜ä¸ºæœ‰åºçš„åº•å›¾ã€‚ ç¼ºå£ä½ç½®çš„è¯†åˆ«ï¼Œæœ‰2ç§æ–¹æ¡ˆã€‚ä¸€ç§æ˜¯é€šè¿‡æ¯”è¾ƒå®Œæ•´åº•å›¾å’Œç¼ºå£åº•å›¾ï¼Œåˆ©ç”¨åƒç´ ç‚¹çš„RGBåƒç´ å·®å€¼ï¼Œæ¥åˆ¤æ–­ç¼ºå£ä½ç½®ï¼›å¦ä¸€ç§æ˜¯é€šè¿‡æœºå™¨å­¦ä¹ è¿›è¡Œè®­ç»ƒï¼Œç„¶åå¾—åˆ°ä¸€ä¸ªæ¨¡å‹ç”¨äºè¯†åˆ«ç¼ºå£ä½ç½®ã€‚ ä¸Šé¢å‡ ç‚¹ï¼Œä¸ç®¡å¦‚ä½•å·æ‡’ï¼Œç¬¬ä¸‰æ­¥åº•å›¾çš„è¿˜åŸæ˜¯å¿…ç„¶éœ€è¦çš„ï¼Œä¸ç„¶æ²¡åŠæ³•è®¡ç®—ç¼ºå£ä½ç½®ï¼Œæ²¡åŠæ³•ç”Ÿæˆè½¨è¿¹ï¼Œè‡ªç„¶æ²¡åŠæ³•è¿›è¡ŒéªŒè¯ã€‚æ‰€ä»¥åº•å›¾è¿˜åŸæ˜¯æ•´ä¸ªæ»‘å—éªŒè¯çš„ç¬¬ä¸€æ­¥ã€‚ åº•å›¾ç¼ºå£è¿˜åŸæˆ‘ä»¬å…ˆçœ‹ä¸‹æ»‘å—çš„å¤§å°ï¼š image-20220420163229256 å›¾ç‰‡å¤§å° w = 260px, h = 116pxã€‚æˆ‘ä»¬ç‚¹å‡»å›¾ç‰‡é€‰æ‹©å®¡æŸ¥å…ƒç´ ã€‚ å¯ä»¥çœ‹åˆ°åº•å›¾æ˜¯ç”±52ä¸ªdivç»„æˆï¼Œæ¯ä¸ªdivçš„w = 10pxï¼Œh = 58pxã€‚åˆ†ä¸ºä¸Šä¸‹ä¸¤ä¸ªåŠåŒºï¼Œæ¯ä¸ªåŠåŒº26ä¸ªdivã€‚åˆšå¥½ç»„æˆ260px * 116pxçš„çŸ©å½¢éªŒè¯ç ã€‚ image-20220420163621256 æˆ‘ä»¬çœ‹ç¬¬ä¸€ä¸ªdivï¼Œå³ä¸ŠåŠåŒºå·¦ä¸Šè§’çš„ç¬¬ä¸€ä¸ªdivï¼Œbackground-position = -157px -58pxã€‚è¡¨ç¤ºå°†background-imageå‘å·¦åç§»157ä¸ªåƒç´ ï¼Œå‘ä¸Šåç§»58ä¸ªåƒç´ ï¼Œä½œä¸ºç¬¬ä¸€ä¸ªdivæ”¾åœ¨ä¸ŠåŠåŒºæœ€å·¦è¾¹ã€‚ç”±äºå‰é¢åˆ†æè¿‡ï¼Œæ¯ä¸ªdivçš„å®½æ˜¯10pxï¼Œé«˜æ˜¯58pxã€‚æ‰€ä»¥ç¬¬ä¸€ä¸ªdivå››ä¸ªé¡¶ç‚¹åœ¨background-imageä¸Šçš„ç›¸å¯¹åæ ‡æ˜¯(157, 58), (167, 58), (157, 116), (167, 116)ã€‚ åŒç†ï¼Œæˆ‘ä»¬æ¨æµ‹ä¸ŠåŠåŒºç¬¬äºŒä¸ªdivçš„å››ä¸ªé¡¶ç‚¹çš„ç›¸å¯¹åæ ‡åˆ†åˆ«æ˜¯(145, 0), (155, 0), (145, 58), (155, 58)ã€‚ æ­¤å¤–ï¼Œbackground-imageå°±æ˜¯æˆ‘ä»¬æŠ“åŒ…åˆ†æçš„ç¬¬ä¸‰æ­¥è·å–åˆ°çš„ä¹±åºå›¾ã€‚ çŸ¥é“äº†æ¯ä¸€ä¸ªä¸ªdivçš„åæ ‡ï¼Œä»¥åŠä¹±åºçš„èƒŒæ™¯å›¾ï¼Œå°±å¯ä»¥é€šè¿‡ä»ä¹±åºå›¾ä¸Šè£å‰ªå‡ºä¸€ä¸ªä¸ªdivï¼Œç„¶åå†æ‹¼æ¥åˆ°ä¸€èµ·ï¼Œè¿™æ ·ä¸å°±æ„æˆäº†æ­£ç¡®æœ‰åºçš„å›¾ç‰‡ï¼Ÿ ç¼–ç¨‹å®ç°123456789101112131415161718192021222324252627282930import mathfrom PIL import Imagediv_offset = [ &#123;&quot;x&quot;: -157, &quot;y&quot;: -58&#125;, # çœç•¥è‹¥å¹²è¡Œ &#123;&quot;x&quot;: -205, &quot;y&quot;: 0&#125;]def restore_pic(pic_path, new_pic_path): unordered_pic = Image.open(pic_path) ordered_pic = unordered_pic.copy() # è£å‰ªå¹¶æ‹¼æ¥ for i, d in enumerate(div_offset): im = unordered_pic.crop((math.fabs(d[&#x27;x&#x27;]), math.fabs(d[&#x27;y&#x27;]), math.fabs(d[&#x27;x&#x27;]) + 10, math.fabs(d[&#x27;y&#x27;]) + 58)) # ä¸ŠåŠåŒº if d[&#x27;y&#x27;] != 0: ordered_pic.paste(im, (10 * (i % (len(div_offset) // 2)), 0), None) else: ordered_pic.paste(im, (10 * (i % (len(div_offset) // 2)), 58), None) ordered_pic.save(new_pic_path)if __name__ == &#x27;__main__&#x27;: restore_pic(&quot;img.png&quot;, &quot;new_img.png&quot;) è¯´ä¸€ä¸‹ç”¨åˆ°çš„PILåº“çš„å‡ ä¸ªæ–¹æ³•ï¼šcopyè¡¨ç¤ºå¤åˆ¶ä¸€å¼ å›¾ç‰‡ï¼›cropè¡¨ç¤ºä»¥çŸ©å½¢åŒºåŸŸè£å‰ªï¼Œå…¥å‚æ˜¯ä¸€ä¸ªå››ä¸ªå…ƒç´ çš„å…ƒç»„ï¼Œåˆ†åˆ«æ˜¯çŸ©å½¢å·¦ä¸Šè§’é¡¶ç‚¹çš„xåæ ‡ï¼Œå·¦ä¸Šè§’é¡¶ç‚¹çš„yåæ ‡ï¼Œå³ä¸‹è§’é¡¶ç‚¹çš„xåæ ‡ï¼Œå³ä¸‹è§’é¡¶ç‚¹çš„yåæ ‡ï¼›pasteè¡¨ç¤ºç²˜è´´å›¾ç‰‡ã€‚ ç½—åˆ—ä¸€ä¸‹ç¨‹åºæ‰§è¡Œçš„ç»“æœï¼Œåº•å›¾ä¹±åºä¸æ­£åºå¦‚ä¸‹ï¼š image-20220420200318898 ä»£ç è·å–æ‰«ç å…³æ³¨å¾®ä¿¡å·â€”â€”é€†å‘ä¸€æ­¥æ­¥ï¼Œå…¬ä¼—å·å†…å›å¤å…³é”®è¯07å°±å¯ä»¥è·å–æœ¬æ¡ˆä¾‹çš„å…¨éƒ¨ä»£ç ã€‚ qrcode_for_gh_509fdefd3c81_258","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"éªŒè¯ç ","slug":"éªŒè¯ç ","permalink":"https://blog.heshipeng.com/tags/%E9%AA%8C%E8%AF%81%E7%A0%81/"}]},{"title":"JSé€†å‘æ¡ˆä¾‹â€”â€”ç½‘ä¸Šç®¡å®¶å©†","date":"2022-04-17T08:38:11.000Z","path":"JSé€†å‘æ¡ˆä¾‹â€”â€”ç½‘ä¸Šç®¡å®¶å©†/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ ç½‘å€ï¼šaHR0cHM6Ly9sb2dpbi53c2dqcC5jb20uY24v é€†å‘ç›®æ ‡ï¼šç™»å½•æ¥å£å‚æ•°clientinfoï¼ŒuserNameï¼Œpasswordç”Ÿæˆè§„åˆ™ å…ˆçœ‹ä¸‹è¿™å‡ ä¸ªå‚æ•°é•¿å•¥æ ·ï¼š image-20220418163645276 userNameå’Œpasswordé•¿åº¦éƒ½æ˜¯128ä½ï¼Œç›²çŒœæ˜¯AESã€‚ å…¨å±€æœç´¢ä¸€ä¸‹clientinfoï¼Œæ‰¾åˆ°äº†clientinfoç”Ÿæˆçš„åœ°æ–¹ï¼š image-20220418163838625 ç‚¹è¿›å»è¿™ä¸ªæ–¹æ³•ï¼š image-20220418163925615 å¯ä»¥çœ‹åˆ°å…ˆæ˜¯è°ƒç”¨ä¸€ä¸ªdoGetInfoè·å–infoä¿¡æ¯ï¼Œç„¶åè°ƒç”¨base64encodeæ–¹æ³•å¯¹infoè¿›è¡Œç¼–ç ï¼Œç›´æ¥æŠ å‡ºè¿™2ä¸ªæ–¹æ³•å³å¯ã€‚ æŠ å‡ºæ¥ä¹‹åï¼Œæ‰§è¡Œä¸‹doGetInfoå‡½æ•°ï¼Œç»“æœå¦‚ä¸‹ï¼Œå…¶å®å°±æ˜¯æŠŠç¯å¢ƒçš„ä¸€äº›å‚æ•°ä¿¡æ¯ç”¨ç‰¹æ®Šç¬¦å·æ‹¼æ¥ï¼Œä¸ºäº†ä¸è¢«æ£€æµ‹å‡ºæ¥ï¼Œæœ€å¥½å¯¹æ¯”æµè§ˆå™¨çš„å®é™…ç»“æœï¼ŒæŠŠç›¸åº”çš„å‚æ•°çš„å€¼è¡¥ä¸Šã€‚ image-20220418172659541 æ¥ç€çœ‹ä¸‹userNameå’Œpasswordï¼Œå…¨å±€æœç´¢ä¸‹passwordï¼š image-20220418173455546 å‘ç° userNameå’Œpasswordé‡‡ç”¨çš„ä¸€ç§åŠ å¯†ï¼Œå°±ä»¥passwordä¸ºä¾‹å§ã€‚ encryptedStringåŠ å¯†æ–¹æ³•æ¥å—2ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯keyï¼Œç¬¬äºŒä¸ªæ˜¯åŠ å¯†çš„æ˜æ–‡ã€‚keyçš„ç”Ÿæˆï¼Œå¾€ä¸Šé¢çœ‹å‡ è¡Œï¼Œå°±ä¼šæ‰¾åˆ°var key = new RSAKeyPair();è¿™è¡Œä»£ç ï¼Œç„¶åå»æŠ å‡ºRSAKeyPairè¿™ä¸ªå¯¹è±¡ï¼Œç¼ºå•¥è¡¥å•¥ï¼Œä¸€ç›´æŠ å°±å®Œäº‹äº†ï¼Œæ¯”è¾ƒç®€å•ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªæ³¨æ„çš„å°±æ˜¯ï¼Œä¸‹é¢ä¸€è¡Œä»£ç å¦‚æœæ¼æ‰äº†ï¼Œå°±ä¼šé™·å…¥æ­»å¾ªç¯ï¼Œå¯¼è‡´åŠ å¯†ç»“æœå‡ºä¸æ¥ï¼š image-20220418174523439 æˆ‘ä»¬åœ¨æŠ ä¸»è¦é€»è¾‘çš„æ—¶å€™ï¼Œä¸€å®šè¦çœ‹ä¸‹å®ƒå‰åçš„é€»è¾‘ï¼Œä¸€äº›çœ‹ä¼¼æ— å…³çš„é€»è¾‘èƒ½ä¿ç•™çš„å°½é‡ä¿ç•™ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦çš„encryptedStringæ–¹æ³•ï¼Œæ˜¯åœ¨postLoginæ–¹æ³•ä¸­è°ƒç”¨çš„ï¼ŒpostLoginå‰è¾¹éƒ¨åˆ†æ˜¯ä¸€äº›ä»htmlè¡¨å•ä¸­å–å€¼çš„é€»è¾‘ï¼Œåè¾¹éƒ¨åˆ†æ˜¯å‘åŒ…çš„é€»è¾‘ï¼Œé™¤å»è¿™2éƒ¨åˆ†ï¼Œä¸­é—´ä¸€æ¡setMaxDigits(129);è¿™ä¸ªé€»è¾‘ä¸çŸ¥é“æ˜¯å¹²å•¥ç”¨çš„ï¼Œå°±å°½é‡ä¿ç•™ã€‚ æŠ å®ŒJSå¹¶è¡¥å¥½ç¯å¢ƒåï¼Œæ•´ä¸ªæ‰§è¡Œçš„ç»“æœå¦‚ä¸‹ï¼š image-20220418175307668 è¡¥ç¯å¢ƒçš„ä»£ç å¦‚ä¸‹ï¼š 123456789101112var window = &#123;&#125;;var document = &#123;&#125;;var Navigator = function() &#123;&#125;Navigator.prototype.userAgent = &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.88 Safari/537.36&quot;;Navigator.prototype.platform = &quot;MacIntel&quot;;navigator = new Navigator();window = &#123;&quot;navigator&quot;: navigator&#125;; ä»£ç è·å–ï¼Ÿæ‰«ç å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€”â€”é€†å‘ä¸€æ­¥æ­¥ï¼Œå…¬ä¼—å·å†…å›å¤å…³é”®å­—06å°±å¯è·å–å®Œæ•´ä»£ç ã€‚ qrcode_for_gh_509fdefd3c81_258","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä¹‹Fiddlerç¼–ç¨‹çŒ«æ’ä»¶ä½¿ç”¨","date":"2022-04-10T11:17:22.000Z","path":"JSé€†å‘ä¹‹Fiddlerç¼–ç¨‹çŒ«æ’ä»¶ä½¿ç”¨/","text":"å®‰è£…FDï¼Œé…ç½®ç¼–ç¨‹çŒ«æ’ä»¶é¦–å…ˆéœ€è¦å®‰è£…Fiddlerï¼Œè¦æ±‚ç‰ˆæœ¬&gt;=4.6.3ã€‚å»ºè®®å®˜ç½‘ä¸‹è½½ï¼Œä¸‹è½½åœ°å€ï¼šhttps://www.telerik.com/download/fiddler/fiddler4 ä¸‹è½½å®‰è£…å®ŒFDä¹‹åï¼Œæ‰¾åˆ°FDçš„å®‰è£…ç›®å½•ï¼Œæ‰“å¼€ä¸€ä¸ªå«åšScriptsçš„æ–‡ä»¶å¤¹ï¼š image-20220410204247917 è§£å‹FDç¼–ç¨‹çŒ«æ’ä»¶(æ’ä»¶ä¸‹è½½åœ°å€è§æ–‡æœ«)ï¼Œå°†é‡Œé¢çš„æ‰€æœ‰.dllæ‰©å±•æ–‡ä»¶æ‹·è´åˆ°ä¸Šè¾¹çš„Scriptsæ–‡ä»¶å¤¹ä¸‹ï¼š image-20220410204433530 ç„¶åå…³é—­Fiddlerï¼Œå¹¶é‡æ–°å¯åŠ¨Fiddlerï¼Œæ³¨æ„ç¬¬ä¸€æ¬¡å¯åŠ¨éœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€‚æ‰“å¼€ä¹‹åç•Œé¢å¦‚ä¸‹è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š image-20220410204605262 Fiddlerçš„ä½¿ç”¨Chromeé…ç½®FiddleræŠ“åŒ…å®‰è£…SwitchyOmegaä»£ç†ç®¡ç†Chromeæµè§ˆå™¨æ’ä»¶ï¼Œåœ¨Chromeæ‰©å±•åº”ç”¨å•†åŸä¸­æœç´¢SwitchyOmegaï¼Œç„¶åå®‰è£…ã€‚æ·»åŠ å¥½æ’ä»¶åï¼Œæ‰“å¼€SwitchyOmegaç‚¹å‡»æ–°å»ºæƒ…æ™¯æ¨¡å¼ï¼š image-20220410222059063 æˆ‘ä»¬å°±æŠŠæ–°å»ºçš„æƒ…æ™¯å‘½åä¸ºFiddlerï¼Œç„¶åç¬¬ä¸€è¡Œï¼Œä»£ç†åè®®å¡«HTTPï¼Œä»£ç†æœåŠ¡å™¨åœ°å€å¡«ï¼š127.0.0.1(å› ä¸ºæˆ‘æ˜¯ç”¨çš„è™šæ‹Ÿæœºï¼Œæ‰€ä»¥è¿™é‡Œå¡«è™šæ‹Ÿæœºçš„ipåœ°å€)ï¼Œç«¯å£å¡«8888ã€‚ åœ¨æœ€å·¦è¾¹é€‰æ‹©åº”ç”¨é€‰é¡¹ï¼Œå°±ä¿å­˜äº†åˆšæ‰çš„é…ç½®ã€‚ image-20220410222742171 æ‰“å¼€ä¸€ä¸ªé¡µé¢ï¼Œæ¯”å¦‚ç™¾åº¦ï¼Œç„¶åç‚¹å‡»SwitchyOmegaï¼Œé€‰æ‹©Fiddleræ’ä»¶ï¼Œç„¶ååˆ·æ–°é¡µé¢ã€‚ image-20220410224632321 è¿™ä¸ªæ—¶å€™å¯ä»¥çœ‹åˆ°Fiddlerä¸­å·²ç»æˆåŠŸæŠ“åˆ°äº†ç™¾åº¦çš„é¡µé¢è¯·æ±‚ï¼Œä½†æ˜¯ç”±äºç™¾åº¦ä½¿ç”¨çš„æ˜¯HTTPSåè®®ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰é…ç½®è¯ä¹¦ï¼Œå¯¼è‡´FiddleræŠ“åŒ…çš„æ•°æ®ä¸æ­£å¸¸ï¼Œå¹¶ä¸”ç™¾åº¦é¦–é¡µä¹Ÿå¦‚åŒä¸Šè¾¹å±•ç¤ºçš„é‚£æ ·ã€‚FDé…ç½®è¯ä¹¦æŠ“å–HTTPSï¼Œä¹Ÿæ­£æ˜¯æ¥ä¸‹æ¥è¦è®²çš„ã€‚ image-20220410224830653 Fiddleré…ç½®æŠ“å–HTTPSæ‰“å¼€Fiddlerï¼Œç‚¹å‡»å·¥å…·æ çš„Tools-&gt;Optionsï¼Œç‚¹å‡»HTTPSé€‰é¡¹ï¼ŒæŒ‰ç…§å¦‚ä¸‹å›¾å‹¾é€‰ç›¸åº”çš„é€‰é¡¹ï¼š image-20220410225612499 ç‚¹å‡»Trust Root Certificateï¼Œç‚¹å‡»Export Root Certificateå°†FDçš„è¯ä¹¦ä¿å­˜åˆ°æ¡Œé¢ã€‚è¿™æ—¶å€™æ¡Œé¢ä¸Šä¼šå‡ºç°è¯ä¹¦FiddlerRoot.ceræ–‡ä»¶ï¼Œç‚¹å‡»OKè®¾ç½®æˆåŠŸï¼Œå…³é—­fiddlerã€‚ æ‰“å¼€Chromeæµè§ˆå™¨ï¼Œåœ¨æµè§ˆå™¨åœ°å€ä¸­è¾“å…¥ï¼šchrome://settings/è¿›å…¥chromeçš„è®¾ç½®é¡µé¢ï¼Œåœ¨æœç´¢æ ä¸­è¾“å…¥ç®¡ç†è¯ä¹¦ï¼Œç‚¹å‡»ç®¡ç†è¯ä¹¦ä¼šè·³è½¬åˆ°é’¥åŒ™ä¸²ç®¡ç†ç¨‹åº(Macç³»ç»Ÿ)ã€‚ å°†æ¡Œé¢çš„FDè¯ä¹¦æ‹–æ‹½åˆ°è¿™ä¸ªé’¥åŒ™ä¸²ç®¡ç†ç¨‹åºä¸­ï¼Œæ‹–æ‹½æˆåŠŸåï¼Œè¯ä¹¦é»˜è®¤æ˜¯ä¸ä¿¡ä»»çš„ï¼Œå¦‚ä¸‹å›¾ï¼š image-20220410230101918 åŒå‡»è¿™ä¸ªDO_NOT_TRUST_FiddlerRootè¯ä¹¦ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­ç‚¹å‡»ä¿¡ä»»ï¼Œé€‰æ‹©å§‹ç»ˆä¿¡ä»»ã€‚å¦‚ä¸‹å›¾ï¼š image-20220410230244807 ç‚¹å‡»å·¦ä¸Šè§’å…³é—­æŒ‰é’®ï¼Œå¼¹å‡ºå¯¹è¯æ¡†è¾“å…¥rootå¯†ç ã€‚ æ‰“å¼€Fiddlerï¼Œåˆ·æ–°ç™¾åº¦é¦–é¡µï¼Œå¯ä»¥çœ‹åˆ°ç™¾åº¦é¦–é¡µæ­£å¸¸åŠ è½½ï¼ŒFiddlerä¸­ä¹Ÿèƒ½æ­£å¸¸çš„æŠ“åˆ°ç™¾åº¦çš„è¯·æ±‚ã€‚ ç¼–ç¨‹çŒ«æ’ä»¶çš„ä½¿ç”¨ç‚¹å‡»å³è¾¹çš„ç¼–ç¨‹çŒ«ä¸“ç”¨æ’ä»¶ï¼Œä¼šå‡ºç°ä¸€åˆ—å¯¼èˆªï¼Œå¦‚ä¸‹ï¼š image-20220410234536919 ç”Ÿæˆæ˜“ä»£ç å¯ä»¥å¿½ç•¥ï¼Œæ˜¯æ˜“è¯­è¨€ä¸“ç”¨ã€‚JSè°ƒè¯•å·¥å…·ï¼Œå†…ç½®äº†ä¸€ä¸ªV8å¼•æ“ï¼Œå¯ä»¥åœ¨è¿™ä¸ªtabé‡Œé¢ç¼–è¾‘JSä»£ç ï¼Œç„¶åè¿›è¡Œè°ƒè¯•ã€‚JSONè§£ææ˜¯åªæ ¼å¼åŒ–JSONæ•°æ®ã€‚æ•°æ®åŠ å¯†è§£å¯†ï¼Œåˆ™æä¾›ä¸€äº›å¸¸è§çš„åŠ å¯†ç®—æ³•ï¼Œæ¯”å¦‚MD5ï¼ŒShaï¼ŒAESï¼ŒDESç­‰ã€‚ç¼–ç è§£ç åˆ™æä¾›äº†ä¸€äº›å¸¸è§çš„ç¼–ç å·¥å…·ï¼Œæ¯”å¦‚Base64ã€‚è¿™ä¸ªç¼–ç¨‹çŒ«å·¥å…·é‡ç‚¹å…³æ³¨çš„æ˜¯æ³¨å…¥Hookä¸å†…å­˜æ¼«æ¸¸ã€‚ é¦–å…ˆè¯´æ³¨å…¥Hookï¼Œé»˜è®¤æä¾›äº†ä¸€ä¸ªHook Cookieçš„ä»£ç ï¼Œå¦‚ä¸‹å›¾ã€‚å‹¾é€‰å·¦è¾¹çš„å¼€å¯ï¼Œç„¶ååœ°å€æ ä¸ºç©ºè¡¨ç¤ºå¯¹æ‰€æœ‰çš„åœ°å€éƒ½æ³¨å…¥Hookä»£ç ï¼Œå¦‚æœåªå¯¹ç‰¹å®šçš„åœ°å€æ³¨å…¥ä»£ç ï¼Œåˆ™å¡«ä¸Šåœ°å€å³å¯ã€‚ image-20220410235308981 æˆ‘ä»¬ä»¥ç™¾åº¦é¦–é¡µä¸ºä¾‹ï¼Œå¼€å¯æ³¨å…¥Hookä¹‹åï¼Œåˆ·æ–°ç™¾åº¦é¦–é¡µï¼Œåœ¨consoleæ§åˆ¶å°ä¸Šæ‰“å°äº†æ—¥å¿—ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾ï¼š image-20220410235817134 é™¤äº†æ³¨å…¥Hook Cookieçš„ä»£ç ï¼Œè¿˜å¯ä»¥æ³¨å…¥Hook windowå±æ€§ï¼Œwebsocketï¼Œå†…ç½®å‡½æ•°æˆ–è€…è‡ªå®šä¹‰å‡½æ•°ã€‚å‚è€ƒJSé€†å‘ä¹‹å¿«é€Ÿå®šä½å…³é”®ä»£ç  æ¥ç€è¯´å†…å­˜æ¼«æ¸¸ã€‚æ‰€è°“æµè§ˆå™¨å†…å­˜æ¼«æ¸¸ï¼Œå…¶åŸç†é€šè¿‡astæŠŠæµè§ˆå™¨ä¸­æ‰€æœ‰çš„å˜é‡ï¼Œå‚æ•°ä¸­é—´å€¼åœ¨å†…å­˜ä¸­çš„å˜åŒ–è¿›è¡Œå­˜å‚¨ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥æœç´¢è¿™äº›å€¼ï¼Œä»è€Œæ ¹æ®å€¼ç¡®å®šè¿™ä¸ªå‚æ•°åœ¨æµè§ˆå™¨ä¸­å‡ºç°çš„ä½ç½®ï¼Œå˜åŒ–æƒ…å†µç­‰ç­‰ã€‚ æˆ‘ä»¬ä»¥æéªŒçš„wå‚æ•°ä¸ºä¾‹ã€‚FDä¸Šç‚¹å‡»å†…å­˜æ¼«æ¸¸tabï¼Œç„¶åç‚¹å‡»ä¸‹è¾¹çš„å¼€å¯å†…å­˜æ¼«æ¸¸æŒ‰é’®ï¼š image-20220411002857220 æˆ‘ä»¬æ‰“å¼€æéªŒçš„æµ‹è¯•ç½‘å€ï¼šhttps://www.geetest.com/demo/slide-float.htmlï¼Œç„¶åæ‹–åŠ¨æ»‘å—å®ŒæˆéªŒè¯ã€‚æ‰¾åˆ°è¿™ä¸ªajax.phpçš„è¯·æ±‚ï¼Œå¤åˆ¶ä¸‹æ¥wå‚æ•°çš„å€¼ï¼Œå¦‚ä¸‹å›¾ï¼š image-20220411003041687 æ¥ç€åœ¨consoleé¢æ¿è¾“å…¥hook.search(åˆšæ‰å¤åˆ¶ä¸‹æ¥çš„wçš„å€¼)ï¼Œæ‰§è¡Œä¹‹åå°±å¯ä»¥çœ‹åˆ°wå‚æ•°åœ¨æµè§ˆå™¨ä¸­æ•´ä¸ªçš„è¿è¡Œæƒ…å†µï¼š image-20220411003509171 å¯ä»¥çœ‹åˆ°wå‚æ•°ä¸€å…±å‡ºç°äº†2æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯åˆå§‹åŒ–ï¼Œç¬¬äºŒæ¬¡æ˜¯è°ƒç”¨ã€‚æˆ‘ä»¬éšä¾¿ç‚¹å‡»ä¸€ä¸ªçš„æ–‡ä»¶ä½ç½®è¿›å»(æ¯”å¦‚ç‚¹å‡»ç¬¬ä¸€ä¸ª)ï¼Œç„¶åæ‰“ä¸Šæ–­ç‚¹ï¼š image-20220411003649162 åˆ·æ–°é¡µé¢ï¼Œå†æ¬¡è¿›è¡ŒéªŒè¯ç çš„éªŒè¯ï¼Œå¯ä»¥çœ‹åˆ°æˆåŠŸæ–­ä¸Šäº†ï¼Œå¹¶ä¸”debuggeré¢æ¿ä¸Šä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘ä»¬è·Ÿçš„å€¼æ˜¯wè¿™ä¸ªå‚æ•°ï¼š image-20220411003930689 ç¼–ç¨‹çŒ«æ’ä»¶ä¸‹è½½åœ°å€æ‰«ç å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€”â€”é€†å‘ä¸€æ­¥æ­¥ï¼Œç„¶åå…¬ä¼—å·å†…å›å¤â€œFDç¼–ç¨‹çŒ«æ’ä»¶â€ï¼Œå°±å¯ä»¥è·å¾—æ’ä»¶ä¸‹è½½åœ°å€ã€‚ qrcode_for_gh_509fdefd3c81_258","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘æ¡ˆä¾‹â€”â€”é—®è´¢ç½‘è¡¥ç¯å¢ƒ","date":"2022-04-10T04:43:49.000Z","path":"JSé€†å‘æ¡ˆä¾‹â€”â€”é—®è´¢ç½‘è¡¥ç¯å¢ƒ/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ å‰è¨€æœ¬ç¯‡æ–‡ç« é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹ä»‹ç»JSé€†å‘è¿‡ç¨‹ä¸­æŠ JSä¹‹åçš„è¡¥ç¯å¢ƒå·¥ä½œã€‚ é€†å‘è¿‡ç¨‹ç›®æ ‡ç½‘å€ï¼šaHR0cDovL3d3dy5pd2VuY2FpLmNvbS91bmlmaWVkd2FwL3Jlc3VsdD93PSVFNyVCQiVCRiVFOCU4OSVCMiVFNyU5NCVCNSVFNSU4QSU5QiVFNiVBNiU4MiVFNSVCRiVCNSZxdWVyeXR5cGU9c3RvY2s= é€†å‘ç›®æ ‡ï¼šcookieä¸­çš„vå€¼ Hook Cookieå¯¹äºå¤„ç†Cookieç§æŸä¸€ä¸ªé”®å€¼å¯¹ç”Ÿæˆè¿™ç±»é—®é¢˜ç¬¬ä¸€ååº”åº”è¯¥æ˜¯æƒ³åˆ°é‡‡ç”¨Hookçš„æ–¹å¼ã€‚è¿™é‡Œä»‹ç»2ç§Hookçš„æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡FDç¼–ç¨‹çŒ«æ’ä»¶ï¼Œä¸€ç§æ˜¯é€šè¿‡æ²¹çŒ´æ’ä»¶ã€‚ ä½¿ç”¨æ²¹çŒ´æ’ä»¶ æ²¹çŒ´æ’ä»¶çš„ä½¿ç”¨å‚ç…§ï¼šJSé€†å‘ä¹‹Tampermonkeyå·¥å…·ç¯‡ æ’ä»¶å†…å®¹ä¸ºï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// ==UserScript==// @name hook iwencai// @namespace http://tampermonkey.net/// @version 0.1// @description try to take over the world!// @author You// @include *// @icon https://www.google.com/s2/favicons?sz=64&amp;domain=aqistudy.cn// @grant none// ==/UserScript==(function() &#123; &#x27;use strict&#x27;; //endebug = function(off, code) &#123;&#125;; var cookie_cache = document.cookie; Object.defineProperty(document, &#x27;cookie&#x27;, &#123; get: function() &#123; console.log(&#x27;Getting cookie&#x27;); return cookie_cache; &#125;, set: function(val) &#123; console.log(&#x27;Setting cookie&#x27;, val); if (val.indexOf(&quot;v=&quot;) != -1) &#123; debugger; &#125; var cookie = val.split(&quot;;&quot;)[0]; var ncookie = cookie.split(&quot;=&quot;); var flag = false; var cache = cookie_cache.split(&quot;; &quot;); cache = cache.map(function(a)&#123; if (a.split(&quot;=&quot;)[0] === ncookie[0]) &#123; flag = true; return cookie; &#125; return a; &#125;); cookie_cache = cache.join(&quot;; &quot;); if (!flag) &#123; cookie_cache += cookie + &quot;; &quot;; &#125; this._value = val; return cookie_cache; &#125; &#125;) // Your code here...&#125;)(); ä½¿ç”¨FDç¼–ç¨‹çŒ«æ’ä»¶ FDç¼–ç¨‹çŒ«æ’ä»¶ç”¨æ³•å‚ç…§ï¼šJSé€†å‘ä¹‹Fiddlerç¼–ç¨‹çŒ«æ’ä»¶ä½¿ç”¨ 1234567891011121314151617181920212223242526//å½“å‰ç‰ˆæœ¬hookå·¥å…·åªæ”¯æŒContent-Typeä¸ºhtmlçš„è‡ªåŠ¨hook//ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹:è¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº†hookå…¨å±€çš„cookieè®¾ç½®ç‚¹(function() &#123; //ä¸¥è°¨æ¨¡å¼ æ£€æŸ¥æ‰€æœ‰é”™è¯¯ &#x27;use strict&#x27;; //document ä¸ºè¦hookçš„å¯¹è±¡ è¿™é‡Œæ˜¯hookçš„cookie var cookieTemp = &quot;&quot;; Object.defineProperty(document, &#x27;cookie&#x27;, &#123; //hook setæ–¹æ³•ä¹Ÿå°±æ˜¯èµ‹å€¼çš„æ–¹æ³• set: function(val) &#123; if (val.indexOf(&quot;v=&quot;)) &#123; debugger; &#125; //è¿™æ ·å°±å¯ä»¥å¿«é€Ÿç»™ä¸‹é¢è¿™ä¸ªä»£ç è¡Œä¸‹æ–­ç‚¹ //ä»è€Œå¿«é€Ÿå®šä½è®¾ç½®cookieçš„ä»£ç  console.log(&#x27;Hookæ•è·åˆ°cookieè®¾ç½®-&gt;&#x27;, val); cookieTemp = val; return val; &#125;, //hook getæ–¹æ³•ä¹Ÿå°±æ˜¯å–å€¼çš„æ–¹æ³• get: function() &#123; return cookieTemp; &#125; &#125;);&#125;)(); é€†å‘åˆ†ææ— è®ºæ˜¯é‡‡ç”¨å“ªä¸€ç§æ–¹å¼ï¼Œéƒ½å¯ä»¥æˆåŠŸæ–­ä½ï¼Œå¦‚ä¸‹å›¾ï¼š image-20220412203406372 è·Ÿæ ˆï¼Œè¿›åˆ°oæ–¹æ³•ï¼Œå‘ç°ç¬¬äºŒä¸ªå‚æ•°tå°±æ˜¯éœ€è¦çš„vçš„å€¼ã€‚ image-20220412213516531 ç»§ç»­è·Ÿæ ˆï¼Œè¿›åˆ°Dæ–¹æ³•ï¼ŒsetCookieå°±æ˜¯ä¸Šè¾¹çš„oæ–¹æ³•ï¼Œç¬¬äºŒä¸ªå‚æ•°nå°±æ˜¯ä¸Šè¾¹çš„tä¹Ÿå°±æ˜¯Cookie vçš„å€¼ã€‚è€Œä¸”næ˜¯ç”±rt.updateç”Ÿæˆçš„ã€‚ image-20220412213620698 æˆ‘ä»¬çœ‹ä¸‹rtå¯¹è±¡ï¼š image-20220412214401314 ä¸€ä¸ªInitæ–¹æ³•åº”è¯¥æ˜¯å¯¹ç®—æ³•è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸€ä¸ªupdateæ–¹æ³•åˆ™æ˜¯ç”Ÿæˆvã€‚ æˆ‘ä»¬æ–­è¿›å»updateæ–¹æ³•ï¼Œupdateæ–¹æ³•å°±æ˜¯è¿™ä¸ªDæ–¹æ³•ï¼ŒDæ–¹æ³•åˆè°ƒç”¨äº†Oæ–¹æ³•ï¼Œæˆ‘ä»¬è·Ÿè¿›å»ã€‚ image-20220413133045178 æˆ‘ä»¬å•æ­¥æ‰§è¡Œåˆ°S.toBuffer()ï¼›å¯ä»¥çœ‹åˆ°Sæ˜¯ä¸€ä¸ªlå¯¹è±¡ï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªbase_fieldså±æ€§ã€‚å¦‚ä¸‹å›¾ï¼š image-20220413133536272 é‚£æˆ‘ä»¬ç‚¹è¿›å»S.toBufferçœ‹çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°lå¯¹è±¡çš„åŸå‹ï¼Œqnè¿”å›äº†lä¹Ÿå°±æ˜¯å‰é¢çš„Sï¼Œæˆ‘ä»¬ä½éœ€è¦æŠ å‡ºqnå°±å¯ä»¥å¾—åˆ°läº†ï¼Œæ³¨æ„çš„æ˜¯qnæœ¬æ¥å°±æ‰§è¡Œäº†ï¼Œè¿”å›ä¸€ä¸ªé€—å·è¡¨è¾¾å¼ï¼Œé€—å·è¡¨è¾¾å¼çš„æœ€åæ˜¯lï¼Œæ‰€ä»¥ç”Ÿæˆlå¯¹è±¡çš„æ­£ç¡®å†™æ³•æ˜¯new qn(xxx)ã€‚ image-20220413152301870 lå¯¹è±¡åœ¨åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦ä¼ ä¸€ä¸ªrå‚æ•°ï¼Œæˆ‘ä»¬å…¨å±€æœç´¢ä¸€ä¸‹new qnçœ‹çœ‹æ˜¯å¦èƒ½æ‰¾åˆ°ä¸€ä¸ªå®ä¾‹ï¼Œçœ‹çœ‹è¿™ä¸ªrä¼ çš„æ˜¯å•¥ã€‚æœç´¢ç»“æœå¦‚ä¸‹ï¼š image-20220413153204291 æˆ‘ä»¬æ–­ä½è¿™ä¸ªåœ°æ–¹ï¼Œè°ƒè¯•å‘ç°aå›ºå®šä¸º4ï¼Œnå›ºå®šä¸º1ï¼Œeå›ºå®šä¸º3ï¼Œtå›ºå®šä¸º2ã€‚çŸ¥é“äº†å¦‚ä½•æŠ å‡ºSï¼Œä¹ŸçŸ¥é“äº†å¦‚æœåˆå§‹åŒ–Sï¼Œä¸‹é¢æˆ‘ä»¬è¿›è¡Œæ£€éªŒã€‚æˆ‘ä»¬æ–°å»ºä¸€ä¸ªsnippetç„¶åæ‹·è´å…¨éƒ¨çš„ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152var _qn;var TOKEN_SERVER_TIME = 1649765993.630;!function(n, t) &#123; !function() &#123; var r, e, a; // çœç•¥è‹¥å¹²è¡Œ var qn = function() &#123; var n, t, r; n = t = r = a; var e, o, i; e = o = i = s; var u = o[15] , c = o[102] , f = e[103]; function l(r) &#123; var a = o[102] , i = e[103]; this[n[76]] = r; for (var u = t[52], c = r[a + g + i]; u &lt; c; u++) this[u] = t[52] &#125; return l[e[104]][w + m + I + u] = function() &#123; for (var a = e[105], u = this[a + y], c = [], s = -e[0], v = o[2], f = u[r[56]]; v &lt; f; v++) for (var l = this[v], p = u[v], d = s += p; c[d] = l &amp; parseInt(t[77], n[78]), --p != r[52]; ) --d, l &gt;&gt;= parseInt(n[79], i[106]); return c &#125; , l[v(t[80], t[81], b)][ot(i[107])] = function(n) &#123; for (var r = e[8], a = this[ot(e[108], e[109])], o = t[52], u = e[2], s = a[c + r + f]; u &lt; s; u++) &#123; var v = a[u] , l = i[2]; do &#123; l = (l &lt;&lt; t[82]) + n[o++] &#125; while (--v &gt; t[52]); this[u] = l &gt;&gt;&gt; i[2] &#125; &#125; , l &#125;(), zn; _qn = qn; // çœç•¥è‹¥å¹²è¡Œ &#125;()&#125;([&quot;&quot;, 9527, /* çœç•¥è‹¥å¹²è¡Œ */ &quot;V587&quot;]); å®šä¸€ä¸ªå…¨å±€å˜é‡_qnï¼Œå¯¼å‡ºqnã€‚è¿è¡Œæ–‡ä»¶ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œç„¶åæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªSå¯¹è±¡ï¼š image-20220413154327048 è¿™é‡Œæˆ‘ä»¬å°±æˆåŠŸçš„ç”Ÿæˆäº†Sï¼Œå¹¶ä¸”å¯ä»¥çœ‹åˆ°decodeBufferæ–¹æ³•å’Œmm.toBufferæ–¹æ³•ä¹Ÿéƒ½æœ‰ã€‚åˆ«å¿˜äº†æˆ‘ä»¬çš„æœ€ç»ˆç›®æ ‡æ˜¯å¾—åˆ°Cookieä¸­çš„vï¼Œæˆ‘ä»¬å›åˆ°å‰é¢çš„Oæ–¹æ³•ï¼Œçœ‹åˆå§‹åŒ–å¹¶å¾—åˆ°Sä¹‹åï¼Œåç»­ç”Ÿæˆvçš„é€»è¾‘ã€‚æˆ‘ä»¬çœ‹åˆ°Jn.serverTimeNow()è¿™ä¸€è¡Œä»£ç ï¼Œå‘ç°æ¯æ¬¡å–å‡ºæ¥çš„éƒ½æ˜¯ä¸€ä¸ªå®šå€¼ã€‚ image-20220413155910667 å…¶å®è¿™ä¸ªè·å–çš„å°±æ˜¯è¯¥JSæ–‡ä»¶æœ€å‰é¢å®šä¹‰çš„TOKEN_SERVER_TIMEï¼Œè¿™ä¸ªå€¼å¯èƒ½ä¼šéšç€JSæ–‡ä»¶æ›´æ–°è€Œå‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡å–å±€éƒ¨æ‰£JSçš„æ–¹æ³•å¯èƒ½ä¼šå¾ˆéº»çƒ¦ï¼Œå› ä¸ºå¯èƒ½éœ€è¦å®šæœŸæ›´æ–°TOKEN_SERVER_TIMEçš„è¿™ä¸ªå€¼ã€‚é‚£åªèƒ½å…¨æ‰£äº†å•Šï¼Œé—®é¢˜æ˜¯æŠ ä¸‹æ¥å…¨éƒ¨çš„JSï¼Œæ”¾åœ¨æœ¬åœ°æ‰§è¡Œä¹‹åï¼Œå»å“ªé‡Œæ‹¿è¿™ä¸ªCookieå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä»documentä¸­æ‹¿ï¼Œä½†æ˜¯æœ¬åœ°æ²¡æœ‰documentå‘€ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å°±æ˜¯è¡¥ç¯å¢ƒäº†ã€‚ image-20220413161327925 è¡¥ç¯å¢ƒæŒ‰ç…§JSé€†å‘ä¹‹vscodeæ— ç¯å¢ƒè”è°ƒä»‹ç»çš„ï¼ŒæŠŠæ•´ä¸ªJSä»£ç ç²˜è´´åˆ°VS Codeä¸­ï¼Œç„¶åå¼€å¯DevToolsï¼Œè¿è¡Œä¹‹åæŠ¥documentä¸å­˜åœ¨ï¼š image-20220413164041346 åƒè¿™ç§æ‹·è´æ•´ä¸ªJSç„¶åè¡¥ç¯å¢ƒï¼Œéœ€è¦è¡¥å¤´è¡¥å°¾ï¼Œä¸­é—´çš„æ•´ä¸ªJSæ–‡ä»¶ä¸èƒ½åŠ¨ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ä¸­é—´çš„æ–‡ä»¶å¯ä»¥ç”¨ä¸€ä¸ªå ä½ç¬¦è¡¨ç¤ºï¼Œä»¥åæ¯æ¬¡JSæ›´æ–°äº†ï¼Œåªéœ€è¦æ›´æ–°è¿™ä¸ªå ä½ç¬¦çš„å†…å®¹ï¼Œè¿™æ ·æ›´åŠ é€šç”¨ï¼Œç»´æŠ¤èµ·æ¥æ›´åŠ å®¹æ˜“ æˆ‘ä»¬è¡¥å¥½windowå’Œdocumentä¹‹åï¼Œå†æ¬¡è¿è¡Œï¼Œæ¥ç€æŠ¥é”™ï¼š image-20220413165734237 è¿™é‡Œr[51]æ˜¯documentï¼ŒæŠ¥é”™çš„ä¸€å¥r[51].getElementsByTagName(p + d)[r[52]]å®é™…ä¸Šæ˜¯document.getElementsByTagName(â€˜headâ€™)[0]ï¼›ç»§ç»­è¡¥ä»£ç å¦‚ä¸‹ï¼š 12345678910var window = this;var Document = function() &#123;&#125;;Document.prototype.getElementsByTagName = function(x) &#123; if (x == &#x27;head&#x27;) &#123; return [&#123;&#125;] &#125; return [&#123;&#125;]&#125;;var document = new Document(); è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆè¿™ä¹ˆè¡¥ï¼Œè¡¥æ–¹æ³•çš„æ—¶å€™å…³æ³¨3ç‚¹ï¼Œä¸€æ˜¯å‚æ•°ä¸ªæ•°ï¼ŒäºŒæ˜¯è¿”å›å€¼ç±»å‹ï¼Œä¸‰æ˜¯å¯¹å®é™…ä¼ å…¥çš„å‚æ•°è¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚å› ä¸ºgetElementsByTagNameåªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥åªéœ€è¦å®šä¹‰ä¸€ä¸ªå½¢å‚xã€‚ image-20220413185332326 é€šè¿‡åœ¨åŸç½‘ç«™ä¸Šè°ƒè¯•çŸ¥ä¼ å…¥çš„å®é™…å‚æ•°ä¸ºå­—ç¬¦ä¸²headï¼Œä¸”è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„ã€‚æ‰€ä»¥ä¸Šè¾¹ä¹Ÿå¯¹headè¿›è¡Œäº†ç‰¹æ®Šå¤„ç†ï¼Œè€Œä¸”æ–¹æ³•çš„è¿”å›å€¼æ˜¯å¯¹è±¡æ•°ç»„ã€‚ è¡¥å¥½getElementsByTagNameæ–¹æ³•åï¼Œæ¥ç€è¿è¡Œï¼Œæ¥ç€æŠ¥é”™ã€‚ image-20220413202853960 æ¥ç€è¡¥createElementï¼š 12345Document.prototype.createElement = function(x) &#123; if (x == &quot;div&quot;) &#123; return function onwheel() &#123;&#125;; &#125;&#125;; ä¸ºä»€ä¹ˆè¿™ä¹ˆè¡¥ï¼Ÿæˆ‘ä»¬çœ‹ä¸‹é¢ä¸€å¼ å›¾ï¼Œä½œè¯´æ˜ï¼š image-20220413203850845 é¦–å…ˆå¾ˆæ˜¾ç„¶createElementè¦è¡¥åˆ°Documentå¯¹è±¡ä¸‹ï¼Œç„¶ås[171]ä¸ºdivï¼Œå¹¶ä¸”è°ƒç”¨createElementåè¦è¿”å›ä¸€ä¸ªonwheelæ–¹æ³•ã€‚ è¡¥å¥½ä¹‹åï¼Œè¿è¡Œæ¥ç€æŠ¥é”™ï¼Œå¦‚å›¾ï¼š image-20220413204248014 n.attachElementæ²¡æœ‰å®šä¹‰ï¼Œè¡¥ä¸€ä¸‹ï¼š 123Document.prototype.attachEvent = function(x, y) &#123;&#125;; è¡¥å¥½ä¹‹åï¼Œä¾æ—§æŠ¥é”™ï¼Œå—¯ï¼é€†å‘åˆ†æå°±æ˜¯éœ€è¦è€å¿ƒï¼š image-20220413212157946 è¡¥navigatorï¼Œå¯ä»¥çœ‹åˆ°navigator.pluginsæ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæˆ‘ä»¬è¿™é‡Œè¡¥ä¸€ä¸ªç©ºå°±è¡Œã€‚ image-20220413213604130 123Navigator = function() &#123;&#125;;Navigator.prototype.plugins = [];navigator = new Navigator(); è¡¥å¥½ä¹‹åï¼Œè¿è¡Œæ¥ç€æŠ¥é”™ï¼š image-20220413214446556 æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªå‡ ä¸ªå˜é‡æ˜¯ä»€ä¹ˆï¼Œå¦‚å›¾ï¼š image-20220413214519986 æˆ‘ä»¬æ‰¾ä¸€ä¸‹lçš„å£°æ˜å¤„ï¼Œå¦‚å›¾ï¼š image-20220414235906611 å¯ä»¥çœ‹åˆ°læ˜¯å–è‡ªwindowä¸­çš„documentï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠdocumentä½œä¸ºå±æ€§æ”¾åˆ°windowå¯¹è±¡ä¸‹ï¼š 12document = new Document();var window = &#123;&quot;document&quot;: document&#125;; è¡¥å¥½ä¹‹åï¼Œå†æ¬¡è¿è¡Œï¼Œå†æ¬¡æŠ¥é”™ï¼š image-20220415000927626 è¿™é‡Œå°±å¾ˆå¥‡æ€ªäº†ï¼Œå› ä¸ºåŸå§‹ç½‘ç«™è¿™é‡Œåº”è¯¥æ˜¯ç›´æ¥è¿›å»ä¸Šè¾¹çš„ifåˆ†æ”¯ï¼Œè€Œä¸æ˜¯è¿›åˆ°è¿™é‡Œçš„else ifåˆ¤æ–­ã€‚æˆ‘ä»¬è·Ÿè¿›å»è¿™ä¸ªæ–¹æ³•mï¼Œçœ‹çœ‹è¿™ä¸ªmæ˜¯ä»€ä¹ˆï¼Ÿ image-20220415001131494 å¯ä»¥çœ‹åˆ°oæ˜¯localStorageï¼Œs[83]æ˜¯windowå¯¹è±¡ï¼Œè¿™é‡Œçš„æ„æ€æ˜¯åˆ¤æ–­windowå¯¹è±¡ä¸‹æ˜¯å¦å­˜åœ¨localStorageï¼Œå¹¶åˆ¤æ–­è¿™ä¸ªå±æ€§æ˜¯å¦ä¸ºç©ºã€‚æˆ‘ä»¬è‡ªå·±å®šä¹‰ä¸€ä¸ªlocalStorageç»™åˆ°windowã€‚ 123LocalStorage = function() &#123;&#125;localStorage = new LocalStorage();window = &#123;&quot;document&quot;: document, &quot;localStorage&quot;: localStorage&#125;; è¡¥å¥½ä¹‹åè¿è¡Œï¼Œæ¥ç€æŠ¥é”™ï¼š image-20220415001954038 è¿™é‡Œçš„fæ˜¯localStorageï¼Œç¼ºå°‘getItemï¼Œæˆ‘ä»¬è¡¥ä¸€ä¸‹ï¼š 123456LocalStorage.prototype.getItem = function(x) &#123; if (x == &quot;hexin-v&quot;) &#123; return null; &#125; return null;&#125; æˆ‘ä»¬é€šè¿‡åŸç½‘ç«™ï¼Œçœ‹åˆ°è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”åªè°ƒç”¨äº†ä¸€æ¬¡ï¼Œä¼ çš„å‚æ•°æ˜¯hexin-vï¼Œè¿”å›nullï¼Œæˆ‘ä»¬ç…§ç€è¡¥å°±è¡Œã€‚ è¡¥å¥½ä¹‹åï¼Œæ¥ç€è¿è¡Œï¼š image-20220415002404829 é€šè¿‡è°ƒç”¨æ ˆæˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªnæ˜¯å•¥ï¼Ÿnå®é™…æ˜¯ä¸Šå±‚å‡½æ•°ä¼ å…¥çš„å‚æ•°ï¼Œå³navigator.userAgentï¼ŒåŸå§‹ç½‘ç«™æœ‰å€¼ï¼Œæˆ‘ä»¬æ²¡æœ‰å®šä¹‰ã€‚ image-20220415003226879 æˆ‘ä»¬è¡¥ä¸ŠuserAgentï¼š 1Navigator.prototype.userAgent = &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36&quot;; è¡¥å¥½ä¹‹åï¼Œè¿è¡ŒæŠ¥é”™ï¼Œå¦‚ä¸‹å›¾ï¼š image-20220415003446318 é€šè¿‡åŸå§‹ç½‘ç«™çŸ¥ï¼ŒjavaEnabledæ–¹æ³•è¿”å›falseï¼Œé‚£æˆ‘ä»¬ä¹Ÿç»™navigatorå¯¹è±¡åŠ ä¸€ä¸ªæ–¹æ³•javaEnabledè¿”å›falseå³å¯ï¼š 1Navigator.prototype.javaEnabled = function() &#123; return false &#125;; è¡¥å¥½ä¹‹åè¿è¡ŒæŠ¥é”™ï¼š image-20220415003756208 è¿™é‡Œa[65]æ˜¯windowå¯¹è±¡ï¼Œa[175]æ˜¯navigatorå¯¹è±¡ï¼Œä¸Šé¢æŠ¥é”™æ˜¯è¯´window.navigatorä¸ºundefineï¼Œæˆ‘ä»¬æŠŠnavigatorä½œä¸ºwindowçš„å±æ€§å³å¯ï¼Œä¿®æ”¹ä¸Šé¢è¡¥ç¯å¢ƒçš„ä»£ç ï¼š 1var window = &#123;&quot;document&quot;: document, &quot;localStorage&quot;: localStorage, &quot;navigator&quot;: navigator&#125;; æ”¹å¥½ä¹‹åè¿è¡Œï¼š image-20220415004026612 æç¤ºlocationæœªå®šä¹‰ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªlocationå¯¹è±¡ï¼š 12Location = function() &#123;&#125;location = new Location(); æ¥ç€è¿è¡Œï¼Œä¾ç„¶æŠ¥é”™ï¼š image-20220415004230766 è¿™é‡Œçš„c[140]æ˜¯hrefï¼Œlocation.hrefä¸ºç©ºï¼Œæˆ‘ä»¬æŸ¥çœ‹åŸå§‹ç½‘ç«™çŸ¥ï¼Œlocation.hrefå°±æ˜¯å½“å‰çš„é¡µé¢åœ°å€ï¼Œæˆ‘ä»¬è¡¥ä¸Šå³å¯ï¼š 1Location.prototype.href = &quot;http://www.iwencai.com/unifiedwap/result?w=%E7%BB%BF%E8%89%B2%E7%94%B5%E5%8A%9B%E6%A6%82%E5%BF%B5&amp;querytype=stock&quot;; æ¥ç€è¿è¡Œï¼š image-20220415004504041 æç¤ºlocation.hostnameä¸å­˜åœ¨ï¼Œæˆ‘ä»¬æ ¹æ®åŸç½‘ç«™å–åˆ°location.hostnameçš„å€¼è¡¥ä¸Šï¼š 1Location.prototype.hostname = &quot;www.iwencai.com&quot;; è¡¥å¥½è¿è¡Œï¼ŒæŠ¥é”™ï¼š image-20220415004845137 æç¤ºlocalStorageçš„setItemæ–¹æ³•ä¸å­˜åœ¨ï¼Œå¾—å˜ï¼Œè¡¥ä¸€ä¸ªç©ºæ–¹æ³•ï¼š 123LocalStorage.prototype.setItem = function(x, y) &#123;&#125; è¡¥å¥½ä¹‹åè¿è¡Œï¼Œæ²¡æœ‰æŠ¥é”™ï¼ï¼ï¼ æ­¤å¤„åº”è¯¥æœ‰æŒå£°è¡¨æƒ…åŒ…- æœç‹—å›¾ç‰‡æœç´¢ æˆ‘ä»¬å–ä¸€ä¸‹cookieçš„å€¼ï¼Œä¹ŸæˆåŠŸçœ‹åˆ°äº†vï¼š image-20220415005229606 ä¸Šé¢è¡¥ç¯å¢ƒçš„ä»£ç æ¯”è¾ƒé›¶æ•£ï¼Œè¿™é‡Œç»Ÿä¸€æ•´ç†å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647Document = function() &#123;&#125;;Document.prototype.getElementsByTagName = function(x) &#123; if (x == &#x27;head&#x27;) &#123; return [&#123;&#125;] &#125; return [&#123;&#125;]&#125;;Document.prototype.createElement = function(x) &#123; if (x == &quot;div&quot;) &#123; return function onwheel() &#123;&#125;; &#125; else if (x == &quot;canvas&quot;) &#123; return &#123;getContext: function(y) &#123; return undefined; &#125;&#125; &#125;&#125;;Document.prototype.attachEvent = function(x, y) &#123;&#125;;Document.prototype.documentElement = &#123; addBehavior: function() &#123;&#125;&#125;;document = new Document();Navigator = function() &#123;&#125;;Navigator.prototype.javaEnabled = function() &#123; return false &#125;;Navigator.prototype.plugins = [];Navigator.prototype.userAgent = &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36&quot;;navigator = new Navigator();Location = function() &#123;&#125;;Location.prototype.href = &quot;http://www.iwencai.com/unifiedwap/result?w=%E7%BB%BF%E8%89%B2%E7%94%B5%E5%8A%9B%E6%A6%82%E5%BF%B5&amp;querytype=stock&quot;;Location.prototype.hostname = &quot;www.iwencai.com&quot;;location = new Location();LocalStorage = function() &#123;&#125;LocalStorage.prototype.getItem = function(x) &#123; if (x == &quot;hexin-v&quot;) &#123; return null; &#125; return null;&#125;LocalStorage.prototype.setItem = function(x, y) &#123;&#125;localStorage = new LocalStorage();var window = &#123;&quot;document&quot;: document, &quot;localStorage&quot;: localStorage, &quot;navigator&quot;: navigator&#125;; æ€»ç»“æœ¬æ–‡é€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œä»‹ç»äº†æ‰‹åŠ¨è¡¥ç¯å¢ƒçš„è¿‡ç¨‹ï¼Œæ€»ç»“å¦‚ä¸‹ï¼šæ‹·è´æ•´ä¸ªJSç„¶åè¡¥ç¯å¢ƒï¼Œéœ€è¦è¡¥å¤´è¡¥å°¾ï¼ŒåŸåˆ™ä¸Šä¸­é—´çš„æ•´ä¸ªJSæ–‡ä»¶ä¸€ç‚¹ä¹Ÿä¸èƒ½åŠ¨ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ä¸­é—´çš„æ–‡ä»¶å¯ä»¥ç”¨ä¸€ä¸ªå ä½ç¬¦è¡¨ç¤ºï¼Œä»¥åæ¯æ¬¡JSæ›´æ–°äº†ï¼Œåªéœ€è¦æ›´æ–°è¿™ä¸ªå ä½ç¬¦çš„å†…å®¹ï¼Œè¿™æ ·æ›´åŠ é€šç”¨ï¼Œç»´æŠ¤èµ·æ¥æ›´åŠ å®¹æ˜“ã€‚ å…³äºä»£ç çš„è·å–æ‰«ç å…³æ³¨å¾®ä¿¡å·â€”â€”é€†å‘ä¸€æ­¥æ­¥ï¼Œå…¬ä¼—å·å†…å›å¤å…³é”®è¯05å°±å¯ä»¥è·å–æœ¬æ¡ˆä¾‹çš„å…¨éƒ¨ä»£ç ã€‚ qrcode_for_gh_509fdefd3c81_258","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä¹‹vscodeæ— ç¯å¢ƒè”è°ƒ","date":"2022-04-09T14:12:32.000Z","path":"JSé€†å‘ä¹‹vscodeæ— ç¯å¢ƒè”è°ƒ/","text":"ä¸ºå•¥ä½¿ç”¨VSCodeVSCodeå¼ºå¤§ï¼Œæ”¯æŒå¤šç§è¯­è¨€ã€‚åœ¨JSé€†å‘é¡¹ç›®ä¸­ï¼Œä¼šæ¶‰åŠåˆ°Pythonå’ŒJSä»£ç ï¼Œå¦‚æœPythonä½¿ç”¨Pycharmè°ƒè¯•ï¼ŒJSä½¿ç”¨WebStormæˆ–è€…Hbuilderè¿›è¡Œè°ƒè¯•ï¼Œé‚£ä¹ˆéœ€è¦åœ¨å¤šä¸ªå¼€å‘è€…å·¥å…·ä¸­åˆ‡æ¢ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼ŒVSCodeçš„å¤šè¯­è¨€æ”¯æŒå®Œç¾çš„è§£å†³è¿™ä¸ªéº»çƒ¦äº‹ã€‚æ­¤å¤–ï¼Œæœ€é‡è¦çš„æ˜¯VSCodeå¯ä»¥é…ç½®JSä»£ç çš„æ— ç¯å¢ƒè”è°ƒï¼Œå³å¯ä»¥ä¸æµè§ˆå™¨çš„dev-toolså·¥å…·äº¤äº’å®ç°åœ¨VSCodeä¸­å¼€å‘ï¼Œæµè§ˆå™¨å·¥å…·ä¸­è°ƒè¯•ï¼Œè¿™ä¹Ÿæ˜¯å…¶å®ƒå·¥å…·æ²¡æœ‰çš„ã€‚ å®‰è£…VSCodeVSCodeä¸‹è½½åœ°å€ï¼šhttps://code.visualstudio.com/ å®‰è£…å¥½VSCodeä¹‹åï¼Œå¯ä»¥é…ç½®è¯­è¨€ä¸ºä¸­æ–‡ã€‚å…·ä½“æ–¹æ³•æ˜¯ï¼Œç‚¹å‡»ä¸‹å›¾çš„å›¾æ ‡ï¼Œé€‰æ‹©Extensionï¼Œç„¶ååœ¨æœç´¢ä¸­è¾“å…¥â€Chineseâ€ï¼Œé€‰æ‹©ç®€ä½“ä¸­æ–‡ï¼Œç„¶åé‡å¯æµè§ˆå™¨å³å¯ã€‚ image-20220409223010250 é…ç½®æ— ç¯å¢ƒè”è°ƒé¦–å…ˆå®‰è£…å¥½NodeJSç¯å¢ƒã€‚ ç„¶åæ‰“å¼€å·¥ä½œç›®å½•ï¼Œé€‰æ‹©ä»»æ„ä¸€ä¸ªJSæ–‡ä»¶ï¼Œé€‰æ‹©è¿è¡Œ-&gt;å¯åŠ¨è°ƒè¯•å°±å¯ä»¥è¿è¡Œæˆ–è€…debug JSä»£ç äº†ã€‚ image-20220409235241659 ç„¶åé€šè¿‡å‘½ä»¤npm install -g node-inspectå…¨å±€å®‰è£…ä¾èµ–åŒ…ï¼Œå¦‚æœæ˜¯Linux/Macç³»ç»Ÿï¼Œéœ€è¦sudoæƒé™ã€‚ è¾“å…¥å‘½ä»¤node-inspectï¼ŒæŸ¥çœ‹node-inspectæ˜¯å¦å®‰è£…æˆåŠŸï¼š image-20220410000634331 æˆ‘ä»¬é€‰æ‹©è¿è¡Œ-&gt;æ‰“å¼€é…ç½®ï¼š image-20220409235420113 å‡ºç°ä¸€ä¸ªæ–°çš„æ–‡ä»¶launch.jsonæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ç”¨æ¥é…ç½®é¡¹ç›®çš„è¿è¡Œç¯å¢ƒï¼Œæ¯”å¦‚æ‰§è¡Œè„šæœ¬ï¼Œè§£é‡Šå™¨ï¼Œå‘½ä»¤è¡Œå‚æ•°ç­‰ç­‰ã€‚ä¿®æ”¹è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627&#123; // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚ // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387 &quot;version&quot;: &quot;0.2.0&quot;, &quot;configurations&quot;: [ &#123; &quot;type&quot;: &quot;node&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;name&quot;: &quot;å¯åŠ¨ç¨‹åº&quot;, &quot;skipFiles&quot;: [ &quot;&lt;node_internals&gt;/**&quot; ], &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;/aerfaying.js&quot; &#125;, &#123; &quot;type&quot;: &quot;node&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;name&quot;: &quot;æ— ç¯å¢ƒæµè§ˆå™¨&quot;, &quot;skipFiles&quot;: [ &quot;&lt;node_internals&gt;/**&quot; ], &quot;runtimeExecutable&quot;: &quot;node-inspect&quot;, &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;/aerfaying.js&quot; &#125;, ]&#125; æŠŠä¹‹å‰çš„è¿è¡Œç¯å¢ƒæ”¹äº†ä¸ªåï¼Œå«åšå¯åŠ¨ç¨‹åºï¼Œç„¶åæ–°å»ºäº†ä¸€ä¸ªç¯å¢ƒï¼Œå«åšæ— ç¯å¢ƒæµè§ˆå™¨ï¼Œè¿™ä¸ªç¯å¢ƒé™¤äº†åå­—ä¹‹å¤–å”¯ä¸€ä¸åŒçš„æ˜¯å¢åŠ äº†ä¸€ä¸ªruntimeExecutableï¼ŒæŠŠæˆ‘ä»¬ä¸Šè¾¹å®‰è£…çš„node-inspectåŒ…ç»™å¼•å…¥è¿›æ¥ã€‚ ä¿å­˜å¥½é…ç½®æ–‡ä»¶ä¹‹åï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å·¦ä¸Šè§’å°±å‡ºç°2ä¸ªç¯å¢ƒä¾›æˆ‘ä»¬é€‰æ‹©äº†ï¼š image-20220410001442317 æˆ‘ä»¬ç‚¹å‡»æ— ç¯å¢ƒæµè§ˆå™¨ï¼Œå°±ä¼šå¯åŠ¨æ— ç¯å¢ƒæµè§ˆå™¨æ¨¡å¼ä¸‹çš„è°ƒè¯•æ¨¡å¼ã€‚æ‰“å¼€ä»»æ„ä¸€ä¸ªChromeæµè§ˆå™¨çª—å£ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåœ¨å¼€å‘è€…å·¥å…·çš„Elementsé¢æ¿å·¦è¾¹å‡ºç°ä¸€ä¸ªç»¿è‰²çš„å›¾æ ‡ï¼Œå¦‚ä¸‹ï¼š image-20220410001701254 è¡¨ç¤ºå¼€å¯äº†VSCodeä¸æµè§ˆå™¨çš„è”è°ƒæ¨¡å¼ï¼Œå¦‚æœè¿™ä¸ªå›¾æ ‡ä¸ºç°è‰²ï¼Œè¡¨ç¤ºå…³é—­äº†è”è°ƒæ¨¡å¼ã€‚ ç‚¹å‡»è¿™ä¸ªå›¾æ ‡ï¼Œå°±å¼¹å‡ºäº†DevToolsï¼š image-20220410001856382 å¯ä»¥çœ‹åˆ°å·²ç»å¸®æˆ‘ä»¬æŠŠåˆšæ‰è°ƒè¯•çš„é‚£ä¸ªJSæ–‡ä»¶çš„å†…å®¹è‡ªåŠ¨å¯¼å…¥ï¼ŒåŒæ—¶å¼€å¯äº†debugæ¨¡å¼ã€‚ä¸ºä»€ä¹ˆå«åšæ— ç¯å¢ƒæµè§ˆå™¨ï¼Ÿå°±æ˜¯è¿™ä¸ªDevToolsè·Ÿæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è°ƒè¯•å‡ ä¹æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œåªä¸è¿‡ä¸€äº›æµè§ˆå™¨çš„ç¯å¢ƒå˜é‡æ²¡æœ‰ï¼Œæ¯”å¦‚windowï¼Œdocumentç­‰ç­‰ã€‚è¿™æ ·æ—¢å¯ä»¥ç»§ç»­ä½¿ç”¨æµè§ˆå™¨è¿›è¡Œè°ƒè¯•ï¼Œåˆå¯ä»¥æ²¡æœ‰window/documentç­‰ç¯å¢ƒï¼Œæ¨¡æ‹ŸçœŸå®ç‹¬ç«‹çš„å¼€å‘ç¯å¢ƒï¼Œæ–¹ä¾¿æˆ‘ä»¬è¡¥ç¯å¢ƒã€‚ image-20220410002734125 ç”¨VS Codeè¿›è¡Œè°ƒè¯•é¦–å…ˆçœ‹ä¸‹å·¦ä¸‹è§’çš„è¿™2ä¸ªé€‰é¡¹ï¼Œå¦‚ä¸‹å›¾ï¼š image-20220418165953520 Caught ExceptionæŒ‡çš„æ˜¯å¯¹äºåŠ äº†try catchçš„ä»£ç å—ï¼Œå¦‚æœæ‰§è¡Œäº†catché€»è¾‘(å³ä»£ç æŠ›äº†å¼‚å¸¸)ï¼Œä¾ç„¶åœ¨æŠ›å¼‚å¸¸çš„åœ°æ–¹æ–­ä½ã€‚å¦‚ä¸‹å›¾ï¼š image-20220418171006294 Uncaught ExceptionsæŒ‡çš„æ˜¯å¿½ç•¥try catchä¸­çš„å¼‚å¸¸ï¼Œåœ¨try ä¹‹å¤–çš„ä»£ç å—æŠ¥é”™ï¼Œæ‰ä¼šæ–­ä½ã€‚å¦‚å›¾ï¼š image-20220418171418283 ä¸€èˆ¬ä¼šå‹¾é€‰Uncaught Exceptionsï¼Œå› ä¸ºtryä¸­çš„ä»£ç æŠ›å¼‚å¸¸å±äºæ­£å¸¸é€»è¾‘ã€‚å¦‚æœè¿™ä¿©é€‰é¡¹éƒ½æ²¡å‹¾é€‰ï¼Œä¹Ÿæ²¡æœ‰è‡ªå®šä¹‰æ–­ç‚¹ï¼Œç¨‹åºå°±ä¼šç›´æ¥è¿è¡Œå®Œï¼Œå¹¶ä¸ä¼šæ–­ä½ã€‚å¦‚ä¸‹å›¾ï¼š image-20220418171636116 å†è¯´è¯´è°ƒè¯•ç”¨çš„çš„ä¸€ç»„æŒ‰é’®ï¼Œå¦‚ä¸‹å›¾ï¼š image-20220418171746410 ç¬¬ä¸€ä¸ªæŒ‰é’®ï¼Œè¡¨ç¤ºç»§ç»­ï¼Œä»å½“å‰åœé¡¿çš„åœ°æ–¹ä¸€ç›´æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼Œå¦‚æœæ²¡æœ‰ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼Œåˆ™æŒ‰ç…§ç¨‹åºçš„æ­£å¸¸æ‰§è¡Œé¡ºåºï¼Œé¡ºåºæ‰§è¡Œä¸€æ­¥ã€‚ ç¬¬äºŒä¸ªæŒ‰é’®ï¼Œè¡¨ç¤ºå•æ­¥æ‰§è¡Œï¼Œä»å½“å‰ä½ç½®å¼€å§‹ï¼Œé¡ºåºæ‰§è¡Œä¸€æ­¥ï¼Œå¦‚æœé‡åˆ°å‡½æ•°è°ƒç”¨ï¼Œä¸è¿›å…¥å‡½æ•°å†…éƒ¨é¡ºåºæ‰§è¡Œã€‚ ç¬¬ä¸‰ä¸ªæŒ‰é’®ï¼Œè¡¨ç¤ºå•æ­¥æ‰§è¡Œï¼Œä»å½“å‰ä½ç½®å¼€å§‹ï¼Œé¡ºåºæ‰§è¡Œä¸€æ­¥ï¼Œå¦‚æœé‡åˆ°å‡½æ•°è°ƒç”¨ï¼Œè¿›å…¥åˆ°å‡½æ•°å†…éƒ¨å•æ­¥æ‰§è¡Œã€‚ ç¬¬å››ä¸ªæŒ‰é’®ï¼Œè¡¨ç¤ºå•æ­¥æ‰§è¡Œï¼Œå¦‚æœå½“å‰è°ƒè¯•æ˜¯åœ¨å‡½æ•°å†…éƒ¨å•æ­¥æ‰§è¡Œï¼Œåˆ™è·³è¿‡å‡½æ•°å‰©ä½™çš„æ‰§è¡Œä»£ç ï¼Œå›åˆ°å‡½æ•°è°ƒç”¨å¤„ï¼Œå¾€ä¸‹æ‰§è¡Œä¸€æ­¥ã€‚ ç¬¬äº”ä¸ªæŒ‰é’®ï¼Œé‡å¯ç¨‹åºã€‚ ç¬¬å…­ä¸ªæŒ‰é’®ï¼Œåœæ­¢ã€‚","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘æ¡ˆä¾‹â€”â€”é˜¿å°”æ³•è¥webpackæŠ JS","date":"2022-04-06T12:35:48.000Z","path":"JSé€†å‘æ¡ˆä¾‹â€”â€”é˜¿å°”æ³•è¥webpackæŠ JS/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ å‰è¨€webpackæŠ JSçš„ä¸€ä¸ªæ¡ˆä¾‹ï¼ŒåŒæ ·ç”¨æ¥ç†Ÿç»ƒå¦‚ä½•ä»webpackæ‰“åŒ…çš„JSä»£ç ä¸­æŠ å…³é”®çš„JSä»£ç ã€‚ æŠ JSè¿‡ç¨‹ç½‘å€ï¼šaHR0cHM6Ly9hZXJmYXlpbmcuY29tLw== ç›®æ ‡ï¼šç™»å½•æ¥å£çš„è¯·æ±‚å‚æ•°tå’Œsåˆ†æã€‚ è€è§„çŸ©ï¼Œå…ˆæŠ“åŒ…ã€‚ image-20220406154058629 å¯ä»¥çœ‹åˆ°è¯·æ±‚å‚æ•°ä¸­usernameå’Œpasswordéƒ½æ˜¯æ˜æ–‡ï¼Œtå‚æ•°ç›®æµ‹æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œsæ˜¯ä¸€ä¸²åŠ å¯†ä¹‹åçš„å¯†æ–‡ã€‚ ä»è¯·æ±‚å †æ ˆInitiatorä¸­ä¸€ä¸ªä¸ªç‚¹è¿›å»ï¼Œçœ‹çœ‹èƒ½å¦æ‰¾åˆ°sç”Ÿæˆçš„åœ°æ–¹ã€‚ image-20220406154534518 ç‚¹å‡»ä¸Šé¢çš„æ–‡ä»¶ï¼Œå‘ç°æœ‰ä¸ªæŠ¥é”™ï¼š image-20220406154640011 é‡åˆ°è¿™ç§Could not load content for webpack:///çš„é”™è¯¯ï¼Œéœ€è¦æ›´æ”¹ä¸‹æµè§ˆå™¨çš„é»˜è®¤é…ç½®ï¼ŒSettings/Preferences/Sourcesï¼Œå»æ‰Enable Javascript source mapsçš„å‹¾é€‰ã€‚ image-20220406154623354 ä¿®æ”¹é…ç½®ä¹‹åï¼Œå°±å¯ä»¥çœ‹åˆ°ç›¸å…³JSæ–‡ä»¶çš„ä»£ç äº†ã€‚æ‰¾åˆ°ä¸€å—ç–‘ä¼¼åŠ å¯†çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼š image-20220406155132967 window.Blockey.SecuritySaltï¼Œwå’Œnéƒ½æ˜¯å›ºå®šçš„å€¼ã€‚ image-20220406160129468 æ ¹æ®ä¸Šé¢ç”Ÿæˆsçš„ä»£ç ï¼Œæˆ‘ä»¬æ•´ç†ä»£ç å¦‚ä¸‹ï¼š 12345678var window = global;var n = &quot;/WebApi/Users/Login&quot;;function get_sign(username, password) &#123; let x = &quot;DUE$DEHFYE(YRUEHD*&amp;&quot;; let w = &quot;username=&quot; + username + &quot;&amp;&quot; + &quot;password=&quot; + password; return c.default((n + &quot;?&quot; + w + x));&#125; ç„¶åæˆ‘ä»¬çš„ç›®æ ‡å°±å¾ˆæ˜ç¡®äº†ï¼Œå°±æ˜¯æŠ å‡ºc.defaultçš„å‡½æ•°ï¼Œå¡«å…¥åˆ°æˆ‘ä»¬çš„JSæ–‡ä»¶ï¼Œæˆ‘ä»¬æµè§ˆå™¨ä¸­ç‚¹è¿›å»c.defaultå‡½æ•°ï¼š image-20220406160747460 æˆ‘ä»¬ä¸Šè¾¹çŒœæƒ³çš„tæ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä¸å‡†ç¡®ï¼Œå¯ä»¥çœ‹åˆ°tæ˜¯ä¸€ä¸ªæ—¶é—´æˆ³åŠ ä¸Šäº†ä¸€ä¸ªå›ºå®šçš„æ•°å€¼ã€‚ç„¶åså‚æ•°æ˜¯ä¸€ä¸ªSha1ç®—æ³•ç”Ÿæˆçš„å¯†æ–‡ã€‚ æˆ‘ä»¬ç»§ç»­ç‚¹è¿›å»Sha1.hashå‡½æ•°ï¼š image-20220406161134381 ç„¶åå°†æŠ å‡ºæ¥çš„JSå‡½æ•°ä¸€ä¸ªä¸ªå¡«å……åˆ°JSæ–‡ä»¶ä¸­å»ï¼Œç¼ºå•¥æŠ å•¥ã€‚å…·ä½“è¯¦ç»†è¿‡ç¨‹ä¸ä¸€æ­¥æ­¥å±•ç¤ºäº†ã€‚æœ€ç»ˆæ•´ç†çš„ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546var n = &quot;/WebApi/Users/Login&quot;;var c = &#123;&#125;;var Sha1 = &#123;&#125;;Sha1.hash = function(n, t) &#123; // ä»£ç è¾ƒé•¿ï¼Œçœç•¥&#125;Sha1.f = function(n, t, i, r) &#123; switch (n) &#123; case 0: return t &amp; i ^ ~t &amp; r; case 1: return t ^ i ^ r; case 2: return t &amp; i ^ t &amp; r ^ i &amp; r; case 3: return t ^ i ^ r &#125;&#125;Sha1.ROTL = function(n, t) &#123; return n &lt;&lt; t | n &gt;&gt;&gt; 32 - t&#125;Sha1.utf8Encode = function(n) &#123; return unescape(encodeURIComponent(n))&#125;;c.default = function(e, t) &#123; var n = (new Date).getTime() + 2592e6 + (t || 3e4) , r = (e || &quot;&quot;) + &quot;&amp;t=&quot; + n; return &#123; t: n, s: Sha1.hash(r) &#125;&#125;function get_sign(username, password) &#123; let x = &quot;DUE$DEHFYE(YRUEHD*&amp;&quot;; let w = &quot;username=&quot; + username + &quot;&amp;&quot; + &quot;password=&quot; + password; return c.default((n + &quot;?&quot; + w + x));&#125;console.log(get_sign(&quot;17777777777&quot;, &quot;123456&quot;)); è¾“å‡ºç»“æœï¼Œè·Ÿé¢„æœŸä¸€è‡´ï¼š image-20220406161810100 æ€»ç»“è¿™ä¸ªæ¡ˆä¾‹æ¯”è¾ƒç®€å•ï¼Œæ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œæè¿™ä¸ªæ¡ˆä¾‹ä¸»è¦ç›®çš„æœ‰2ç‚¹ï¼Œç¬¬ä¸€å°±æ˜¯é‡åˆ°æŒ‰ç…§webpackæ–¹å¼ç»„ç»‡çš„JSä»£ç ï¼Œä¸ä¸€å®šéå¾—æŒ‰ç…§å‰é¢ä»‹ç»çš„åˆ†äº”æ­¥èµ°ï¼Œå…ˆæ‰¾æ¨¡å—åŠ è½½å™¨ï¼Œç„¶åç¼–å†™è‡ªæ‰§è¡Œç­‰ç­‰ï¼Œä¸€äº›ç®€å•çš„webpackå¯ä»¥ç›´æ¥å»æŠ JSä»£ç çš„ã€‚ç¬¬äºŒå°±æ˜¯é‡åˆ°`Could not load content for webpack:///è¿™ç§æŠ¥é”™ï¼Œéœ€è¦å»ä¿®æ”¹æµè§ˆå™¨é…ç½®ã€‚ å…³äºä»£ç æ‰«ç å…³æ³¨å¾®ä¿¡å·â€”â€”é€†å‘ä¸€æ­¥æ­¥ï¼Œå…¬ä¼—å·å†…å›å¤å…³é”®è¯04å°±å¯ä»¥è·å–æœ¬æ¡ˆä¾‹çš„å…¨éƒ¨ä»£ç ã€‚ qrcode_for_gh_509fdefd3c81_258","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"WebPack","slug":"WebPack","permalink":"https://blog.heshipeng.com/tags/WebPack/"}]},{"title":"JSé€†å‘æ¡ˆä¾‹â€”â€”æŸè¿œæµ·è¿å…¬å¸webpackæŠ JS","date":"2022-04-03T15:28:00.000Z","path":"JSé€†å‘æ¡ˆä¾‹â€”â€”æŸè¿œæµ·è¿å…¬å¸webpackæŠ JS/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ å‰è¨€webpackæŠ JSçš„ä¸€ä¸ªæ¡ˆä¾‹ï¼Œç”¨æ¥ç†Ÿç»ƒå¦‚ä½•ä»webpackæ‰“åŒ…çš„JSä»£ç ä¸­æŠ å…³é”®çš„JSä»£ç ã€‚ æŠ JSè¿‡ç¨‹ç½‘å€ï¼šaHR0cHM6Ly9zeW5jb25odWIuY29zY29zaGlwcGluZy5jb20v ç›®æ ‡ï¼šç™»å½•æ¥å£çš„å¯†ç åŠ å¯†JSä»£ç åˆ†æã€‚ è€è§„çŸ©ï¼Œå…ˆæŠ“åŒ…ã€‚ image-20220404150944421 å¯ä»¥çœ‹åˆ°ç™»å½•è¯·æ±‚çš„å¯†ç è¿™ä¸ªå‚æ•°æ˜¯åŠ å¯†çš„ã€‚ æœç´¢å…³é”®è¯passwordï¼Œæ‰¾åˆ°ä¸€ä¸ªç–‘ä¼¼åŠ å¯†çš„å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š image-20220404162426120 ç‚¹è¿›å»çœ‹åˆ°åŠ å¯†çš„åœ°æ–¹ï¼š image-20220404163306525 æ¥ç€ç‚¹è¿›å»çœ‹è¿™ä¸ªo.aå‡½æ•°ï¼š image-20220404163401493 å¯ä»¥çœ‹åˆ°ï¼Œå¯¹å¯†ç é‡‡ç”¨äº†RSAåŠ å¯†ï¼Œç„¶åè¿›è¡ŒBase64ç¼–ç ã€‚ç„¶åçœ‹ä¸‹ä»£ç ç»“æ„ï¼Œå¾ˆæ˜¾ç„¶æ˜¯æŒ‰ç…§webpackæ¨¡å—åŒ–ç¼–ç¨‹è¿›è¡Œç»„ç»‡çš„ã€‚ æŒ‰ç…§å‰é¢ä»‹ç»çš„â€”â€”JSé€†å‘ä¹‹webpackæ‰£JSæ€è·¯â€”â€”è¿™ç¯‡æ–‡ç« æ€»ç»“çš„æ–¹æ³•ï¼š æ‰¾åˆ°æ¨¡å—åŠ è½½å™¨ã€‚ å¿«é€Ÿå®šä½æ¨¡å—åŠ è½½å™¨ï¼Œä¸€èˆ¬å¯ä»¥é€šè¿‡æœç´¢&#125;(&#123;ï¼Œè¿…é€Ÿå®šä½åˆ°ï¼Œä½†æ˜¯åŒ…å«åŠ å¯†å‡½æ•°çš„JSæ–‡ä»¶ä¸­å¹¶æœªæ‰¾åˆ°æ¨¡å—åŠ è½½å™¨ï¼Œæ²¡æœ‰æ‰¾åˆ°çš„è¯ï¼Œæˆ‘ä»¬è‡ªå·±å†™ä¸€ä¸ªå¥½äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š 123456789101112function b(n) &#123; if (e[n]) return e[n].exports; var u = e[n] = &#123; i: n, l: !1, exports: &#123;&#125; &#125;; return c[n].call(u.exports, u, u.exports, b), u.l = !0, u.exports&#125; æ„é€ è‡ªæ‰§è¡Œã€‚ è¿™ä¸ªä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬æŠŠä¸Šè¾¹çš„ä»£ç ï¼Œç¨å¾®åšä¿®æ”¹ï¼š 123456789101112131415161718!function(c) &#123; var e = &#123;&#125;; function b(n) &#123; if (e[n]) return e[n].exports; var u = e[n] = &#123; i: n, l: !1, exports: &#123;&#125; &#125;; return c[n].call(u.exports, u, u.exports, b), u.l = !0, u.exports &#125; encode = b;&#125;(&#123; // TODO&#125;); æ‰¾åˆ°å¹¶æŠ å‡ºéœ€è¦çš„æ¨¡å—ã€‚ æŠ JSå°±å˜æˆäº†ä¸€é“å¡«ç©ºé¢˜ï¼ŒæŠŠåŠ å¯†æ–¹æ³•ä¾èµ–åˆ°çš„æ¨¡å—æŠ å‡ºæ¥ï¼Œä½œä¸ºå‚æ•°å¡«åˆ°ä¸Šè¾¹è‡ªæ‰§è¡Œå‡½æ•°ä¸­å»ã€‚æˆ‘ä»¬å…ˆæŠ å‡ºåŠ å¯†æ–¹æ³•ï¼Œ è§‚å¯Ÿä¸‹ä¾èµ–å“ªäº›æ¨¡å—ï¼š 123456789var r = n(&quot;XBrZ&quot;);var t = r.pki.publicKeyFromPem( &quot;-----BEGIN PUBLIC KEY-----\\n MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsy4xppPDUT2eAOR5h0cyydzxtKB9O80A\\n GjUT6FmDgg6CwelpnE0C2h2JQyP1gCveJs6GDwSDn20RVVpD67f//YPYErjaH/CBOxNG3k5IkW1o\\n Qx04uqFNMtWvjzk0aFh2eJLsBi7Ha4elw3WySg00B8oZCL4VBay4ML9kyOAjjCj5jHCX8a2yxIMJ\\n IF+EjW3kBR68IMwBvuDL45Qa0oB24vTffaSEs+hGjMTQvoCciOfti3pmEAlVc438/cBgAhK5cIMf\\n IMElxYAVvmsDy0I7RCUTrajetKjX94Q+JuQUxnIHNC3IVtYsl1x0lNRtb93IhlRCkZ9djOu350eq\\n hZIOXQIDAQAB\\n -----END PUBLIC KEY-----&quot;).encrypt(e, &quot;RSA-OAEP&quot;, &#123; md: r.md.sha256.create(), mgf1: &#123; md: r.md.sha1.create() &#125;&#125;);return window.btoa(t) é€šè¿‡debugçŸ¥eæ˜¯æˆ‘ä»¬å¡«å…¥çš„å¯†ç â€”â€”å³123456ï¼Œå”¯ä¸€ç”¨åˆ°çš„æ¨¡å—æ˜¯é”®ä¸ºXBrZçš„æ¨¡å—ã€‚æˆ‘ä»¬å…¨å±€æœç´¢XBrZ:æ‰¾åˆ°å¯¹åº”çš„æ¨¡å—å®šä¹‰ï¼š image-20220404165620085 ç‚¹è¿›å»å‘ç°è¿™ä¸ªæ¨¡å—åˆå¼•ç”¨äº†å¾ˆå¤šå…¶å®ƒçš„æ¨¡å—ï¼Œå¦‚æœæŒ‰ç…§æ¨¡å—ä¸€ä¸ªä¸€ä¸ªçš„æŠ çš„è¯ï¼Œæ¯”è¾ƒè´¹æ—¶ã€‚æ‰€ä»¥æˆ‘ä»¬å°†è¿™æ•´ä¸ªæ–‡ä»¶ä¸­å®šä¹‰çš„æ¨¡å—å…¨éƒ¨æŠ ä¸‹æ¥ï¼Œä½œä¸ºæˆ‘ä»¬ä¸Šè¾¹å®šä¹‰çš„è‡ªæ‰§è¡Œå‡½æ•°çš„å‚æ•°ã€‚ image-20220404165643735 æ•´ç†å®Œäº†ä¹‹åï¼Œæˆ‘ä»¬å°†ä»£ç æ”¾åˆ°æµè§ˆå™¨ä¸­æ£€éªŒä¸€ä¸‹ï¼Œé˜²æ­¢å‡ºé”™ï¼š image-20220404170102015 ä¸å‡ºæ„å¤–çš„è¯å°±ä¸ä¼šå‡ºæ„å¤–ï¼Œæ²¡æœ‰æŠ¥é”™ã€‚ å¯¼å‡ºç›¸åº”çš„æ¨¡å—ã€‚ æ¨¡å—é€šè¿‡æ¨¡å—åŠ è½½å™¨åŠ è½½ï¼Œæ‰€ä»¥æƒ³è¦å¾—åˆ°åŠ å¯†æ–¹æ³•ä¾èµ–çš„æ¨¡å—ï¼Œåªéœ€è¦å¯¼å‡ºæ¨¡å—å‡½æ•°å³å¯ã€‚å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæ¯”å¦‚encodeï¼Œç„¶åå°†ä¸Šè¾¹å®ç°çš„æ¨¡å—åŠ è½½å‡½æ•°èµ‹å€¼ç»™è¿™ä¸ªå…¨å±€å˜é‡å³å¯ã€‚ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920var encode;!function(c) &#123; var e = &#123;&#125;; function b(n) &#123; if (e[n]) return e[n].exports; var u = e[n] = &#123; i: n, l: !1, exports: &#123;&#125; &#125;; return c[n].call(u.exports, u, u.exports, b), u.l = !0, u.exports &#125; encode = b;&#125;(&#123; // æ­¤å¤„çœç•¥è‹¥å¹²è¡Œæ¨¡å—å‡½æ•°çš„å®šä¹‰&#125;); ç¼–å†™æµ‹è¯•ä»£ç ã€‚ å¯¹äºè¿™ä¸ªæ¡ˆä¾‹è€Œè¨€ï¼Œæµ‹è¯•ä»£ç å°±æ˜¯é‚£ä¸€ä¸²åŠ å¯†ä»£ç ï¼Œçœ‹èƒ½å¦å¦‚æœŸçš„å¾—åˆ°ç±»ä¼¼çš„åŠ å¯†å­—ç¬¦ä¸²ï¼Œå°±è¯æ˜æˆ‘ä»¬æŠ çš„JSæ²¡æœ‰é—®é¢˜ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š 123456789101112function get_pass(passwd) &#123; var r = encode(&quot;XBrZ&quot;); // é€šè¿‡æ¨¡å—åŠ è½½å™¨åŠ è½½XBrZæ¨¡å—ã€‚ var t = r.pki.publicKeyFromPem(&quot;-----BEGIN PUBLIC KEY-----\\n MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsy4xppPDUT2eAOR5h0cyydzxtKB9O80A\\n GjUT6FmDgg6CwelpnE0C2h2JQyP1gCveJs6GDwSDn20RVVpD67f//YPYErjaH/CBOxNG3k5IkW1o\\n Qx04uqFNMtWvjzk0aFh2eJLsBi7Ha4elw3WySg00B8oZCL4VBay4ML9kyOAjjCj5jHCX8a2yxIMJ\\n IF+EjW3kBR68IMwBvuDL45Qa0oB24vTffaSEs+hGjMTQvoCciOfti3pmEAlVc438/cBgAhK5cIMf\\n IMElxYAVvmsDy0I7RCUTrajetKjX94Q+JuQUxnIHNC3IVtYsl1x0lNRtb93IhlRCkZ9djOu350eq\\n hZIOXQIDAQAB\\n -----END PUBLIC KEY-----&quot;).encrypt(passwd, &quot;RSA-OAEP&quot;, &#123; md: r.md.sha256.create(), mgf1: &#123; md: r.md.sha1.create() &#125; &#125;); return window.btoa(t)&#125;console.log(get_pass(&quot;123456&quot;)); è¿è¡Œæµ‹è¯•ä»£ç ï¼Œæ­£å¸¸çš„è¾“å‡ºäº†å¯†ç åŠ å¯†ä¹‹åçš„å¯†æ–‡ï¼š image-20220404170927135 æ€»ç»“ä»webpackç»„ç»‡çš„JSä»£ç ä¸­æŠ JSï¼Œè™½ç„¶çœ‹èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å¦‚æœé‡åˆ°å¤æ‚ä¸€ç‚¹çš„æ¡ˆä¾‹ï¼Œå¹¶ä¸”å¯¹JSè¯­æ³•ä¸å¤ªç†Ÿçš„è¯ï¼Œè¿˜æ˜¯æœ‰ä¸€å®šçš„éš¾åº¦çš„çš„ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¿™ä¸€å—å¤šå¤šç»ƒä¹ ã€‚åè¾¹å…³äºwebpackçš„ï¼Œè¿˜ä¼šå†å‡ºä¸€äº›æ¡ˆä¾‹ï¼Œä¸€äº›æ›´åŠ å¤æ‚çš„æ¡ˆä¾‹ã€‚ å…³äºä»£ç çš„è·å–æ‰«ç å…³æ³¨å¾®ä¿¡å·â€”â€”é€†å‘ä¸€æ­¥æ­¥ï¼Œå…¬ä¼—å·å†…å›å¤å…³é”®è¯03å°±å¯ä»¥è·å–æœ¬æ¡ˆä¾‹çš„å…¨éƒ¨ä»£ç ã€‚ qrcode_for_gh_509fdefd3c81_258","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"WebPack","slug":"WebPack","permalink":"https://blog.heshipeng.com/tags/WebPack/"}]},{"title":"JSé€†å‘ä¹‹webpackæ‰£JSæ€è·¯","date":"2022-03-28T08:59:43.000Z","path":"JSé€†å‘ä¹‹webpackæ‰£JSæ€è·¯/","text":"å‰è¨€è¿™ç¯‡æ–‡ç« é€šè¿‡ç«™åœ¨é€†å‘çš„è§’åº¦ï¼Œè§£å†³é‡åˆ°JSæ–‡ä»¶å¦‚æœé€šè¿‡webpackçš„æ–¹å¼å»ç»„ç»‡ä»£ç æ¨¡å—å¦‚ä½•æ‰£JSä»£ç ï¼Œè¿›è¡Œé€†å‘åˆ†æçš„é—®é¢˜ã€‚ å…³äºwebpackJSçš„è‡ªæ‰§è¡Œå‡½æ•°IIFE å…¨ç§° Immediately-invoked Function Expressionsï¼Œå³è‡ªæ‰§è¡Œå‡½æ•°ã€‚è¿™ç§æ¨¡å¼æœ¬è´¨ä¸Šå°±æ˜¯å‡½æ•°è¡¨è¾¾å¼ï¼ˆå‘½åçš„æˆ–è€…åŒ¿åçš„ï¼‰åœ¨åˆ›å»ºåç«‹å³æ‰§è¡Œã€‚å½“å‡½æ•°å˜æˆç«‹å³æ‰§è¡Œçš„å‡½æ•°è¡¨è¾¾å¼æ—¶ï¼Œè¡¨è¾¾å¼ä¸­çš„å˜é‡ä¸èƒ½ä»å¤–éƒ¨è®¿é—®ã€‚IIFE ä¸»è¦ç”¨æ¥éš”ç¦»ä½œç”¨åŸŸï¼Œé¿å…æ±¡æŸ“ã€‚ è‡ªæ‰§è¡Œå‡½æ•°çš„å‡ ç§å½¢å¼ åŒ¿åå‡½æ•°å‰é¢åŠ ä¸Šä¸€å…ƒæ“ä½œç¬¦ï¼Œåé¢åŠ ä¸Š ()ã€‚ 123456789101112131415!function() &#123;&#125;();+function() &#123; &#125;();-function() &#123; &#125;();~function() &#123; &#125;(); åŒ¿åå‡½æ•°åè¾¹åŠ ä¸Š()ï¼Œç„¶åå†ç”¨()å°†æ•´ä¸ªæ‹¬èµ·æ¥ã€‚ 123(function() &#123; console.log(&quot;Hello, world!&quot;);&#125;)(); å…ˆç”¨ () å°†åŒ¿åå‡½æ•°æ‹¬èµ·æ¥ï¼Œå†åœ¨åé¢åŠ ä¸Š ()ã€‚ 123(function () &#123; console.log(&quot;Hello, world!&quot;);&#125;)(); ä½¿ç”¨ç®­å¤´å‡½æ•°è¡¨è¾¾å¼ï¼Œå…ˆç”¨ () å°†ç®­å¤´å‡½æ•°è¡¨è¾¾å¼æ‹¬èµ·æ¥ï¼Œå†åœ¨åé¢åŠ ä¸Š ()ã€‚ 123(() =&gt; &#123; console.log(&quot;Hello, world!&quot;);&#125;)(); åŒ¿åå‡½æ•°å‰é¢åŠ ä¸Š void å…³é”®å­—ï¼Œåé¢åŠ ä¸Š ()ï¼Œ void æŒ‡å®šè¦è®¡ç®—æˆ–è¿è¡Œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä½†æ˜¯ä¸è¿”å›å€¼ã€‚ 123void function () &#123; console.log(&quot;Hello, world!&quot;);&#125;(); æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜æœ‰å¯èƒ½è§åˆ°ç«‹å³æ‰§è¡Œå‡½æ•°å‰é¢ååˆ†å·çš„æƒ…å†µï¼Œæ¯”å¦‚ï¼š 1234567;(function () &#123; console.log(&quot;Hello, world!&quot;);&#125;());!function () &#123; console.log(&quot;Hello, world!&quot;);&#125;() è‡ªæ‰§è¡Œå‡½æ•°ä¼ å‚å°†å‚æ•°æ”¾åœ¨æœ«å°¾çš„ () é‡Œå³å¯å®ç°å‚æ•°ä¼ é€’ï¼Œå¦‚ï¼š 12345678910111213141516171819var list = [1, 2, 3, 4, 5];(function () &#123; var sum = 0; for (var i = 0; i &lt; list.length; i++) &#123; sum += list[i]; &#125; console.log(sum);&#125;)(list);var dict = &#123;name: &quot;Bob&quot;, age: &quot;20&quot;&#125;;(function () &#123; console.log(dict.name);&#125;)(dict);(function (a, b, c, d) &#123; console.log(a + b + c + d);&#125;)(1, 2, 3, 4); call, apply, bindä¸‰å…„å¼ŸFunction.prototype.call()ã€Function.prototype.apply()ã€Function.prototype.bind() éƒ½æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ã€‚å®ƒä»¬çš„ä½œç”¨ä¸€æ¯›ä¸€æ ·ï¼Œå³æ”¹å˜å‡½æ•°ä¸­çš„ this æŒ‡å‘ï¼Œå®ƒä»¬çš„åŒºåˆ«å¦‚ä¸‹ï¼š call() æ–¹æ³•ä¼šç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªå¤šä¸ªå‚æ•°ï¼Œå‚æ•°ä¹‹é—´ç”¨é€—å·éš”å¼€ï¼› apply() æ–¹æ³•ä¼šç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªåŒ…å«å¤šä¸ªå‚æ•°çš„æ•°ç»„ï¼› bind() æ–¹æ³•ä¸ä¼šç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªä¿®æ”¹è¿‡åçš„å‡½æ•°ï¼Œä¾¿äºç¨åè°ƒç”¨ï¼Œæ¥å—çš„å‚æ•°å’Œ call() ä¸€æ ·ã€‚ callcall() æ–¹æ³•æ¥å—å¤šä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•° thisArg æŒ‡å®šäº†å‡½æ•°ä½“å†… this å¯¹è±¡çš„æŒ‡å‘ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°å¤„äºéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒæŒ‡å®šä¸º null æˆ– undefined æ—¶ä¼šè‡ªåŠ¨æ›¿æ¢ä¸ºæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨ä¸­å°±æ˜¯ window å¯¹è±¡ï¼‰ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°ä½“å†…çš„ this è¿˜æ˜¯ä¸º nullã€‚ä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹å¾€åï¼Œæ¯ä¸ªå‚æ•°è¢«ä¾æ¬¡ä¼ å…¥å‡½æ•°ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 1function call(thisArg, arg1, arg2, ...) æ¯”å¦‚ï¼š 1234567891011121314151617function func1(a, b) &#123; return a + b;&#125;console.log(func1.call(null, 1, 2)); // 3function func2() &#123; return this[0] + this[1];&#125;console.log(func2.call([1, 2])); // 3function func3() &#123; return this.a + this.b;&#125;console.log(func3.call(&#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;)); // 3 applyapply() æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•° thisArg ä¸ call() æ–¹æ³•ä¸€è‡´ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå¸¦ä¸‹æ ‡çš„é›†åˆï¼Œè¿™ä¸ªé›†åˆå¯ä»¥ä¸ºæ•°ç»„ï¼Œä¹Ÿå¯ä»¥ä¸ºç±»æ•°ç»„ï¼Œapply() æ–¹æ³•æŠŠè¿™ä¸ªé›†åˆä¸­çš„å…ƒç´ ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¢«è°ƒç”¨çš„å‡½æ•°ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 1function.apply(thisArg, [arg1, arg2, ...]) æ¯”å¦‚ï¼š 1234567891011function func2() &#123; return this[0] + this[1];&#125;console.log(func2.apply([1, 2])); // 3function func3() &#123; return this.a + this.b;&#125;console.log(func3.apply(&#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;)); // 3 bindbind() æ–¹æ³•å’Œ call() æ¥å—çš„å‚æ•°æ˜¯ç›¸åŒçš„ï¼Œåªä¸è¿‡ bind() è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 1function.bind(thisArg, arg1, arg2, ...) æ¯”å¦‚ï¼š 1234567891011function func(a, b, c) &#123; return a + b + c;&#125;console.log(func.bind(null, 1, 2, 3)()); // 6function func1() &#123; return this[0] + this[1];&#125;console.log(func1.bind([1, 2])()); // 3 ç†è§£webpackæœ‰äº†ä»¥ä¸ŠçŸ¥è¯†åï¼Œæˆ‘ä»¬å†æ¥ç†è§£ä¸€ä¸‹æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œä¹Ÿå°±æ˜¯å‰é¢æ‰€è¯´çš„ webpack å†™æ³•ï¼š 12345678910111213141516!function (allModule) &#123; function useModule(whichModule, xxx, xxx, /*...*/) &#123; allModule[whichModule].call(null, xxx, xxx, /*...*/); &#125; useModule(0, &#x27;abc&#x27;, null, /*...*/)&#125;([ function module0(param) &#123; console.log(&quot;module0: &quot; + param) &#125;, function module1(param) &#123; console.log(&quot;module1: &quot; + param) &#125;, function module2(param) &#123; console.log(&quot;module2: &quot; + param) &#125;,]); æ‰€è°“webpackæ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå°±æ˜¯æŠŠä¸€ç±»å‡½æ•°â€”â€”è¿™äº›å‡½æ•°æœåŠ¡äºæŸä¸ªæˆ–è€…æŸå‡ ä¸ªåŠŸèƒ½èµ·ä½œç”¨â€”â€”ä»¥åˆ—è¡¨æˆ–è€…å¯¹è±¡çš„å½¢å¼æ”¾åœ¨ä¸€èµ·ï¼Œå°è£…åˆ°ä¸€ä¸ªè‡ªæ‰§è¡Œçš„å‡½æ•°ä¸­ï¼Œè¿™äº›å‡½æ•°å¯¹å¤–æ˜¯ä¸å¯è§çš„ï¼Œå¹¶ä¸”åªå¯¹å¤–æš´éœ²ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å«åšæ¨¡å—åŠ è½½å‡½æ•°ï¼Œå¤–éƒ¨é€šè¿‡è¿™ä¸ªåŠ è½½å‡½æ•°è®¿é—®è‡ªæ‰§è¡Œå‡½æ•°å†…éƒ¨çš„å‡½æ•°ï¼Œä»è€Œèµ·åˆ°æ¨¡å—åŒ–çš„ä½œç”¨ã€‚ webpackæ¨¡å—åŒ–ç¼–ç¨‹çš„JSä»£ç ç»“æ„ç‰¹ç‚¹12345678910111213141516171819function (x) &#123; /*åŠ è½½æ¨¡å—çš„æ–¹æ³•*/ function xx(yy) &#123; x[yy].call(x1, x2, x3); // x[yy].apply([x1, x2, x3]); // x[yy].bind(x1, x2, x3)(); &#125;([ // å¯ä¾›åŠ è½½çš„æ¨¡å—åˆ—è¡¨ function(x1, x2, x3) &#123;&#125;, function(x1, x2, x3) &#123;&#125; ] // æˆ–è€…æ˜¯ &#123; &quot;xxx&quot;: function(x1, x2, x3) &#123;&#125;, &quot;xxx&quot;: function(x1, x2, x3) &#123;&#125; &#125; );&#125; webpackæ¨¡å—åŒ–ç¼–ç¨‹çš„JSä»£ç ç‰¹ç‚¹æ˜¯åŒ…å«2ä¸ªéƒ¨åˆ†ï¼Œä¸Šé¢æ˜¯ä¸€ä¸ªåŠ è½½æ¨¡å—çš„æ–¹æ³•ï¼Œä¹Ÿå«æ¨¡å—åŠ è½½å™¨ã€‚ä¸‹é¢æ˜¯å¯ä¾›åŠ è½½çš„æ¨¡å—åˆ—è¡¨ã€‚å¯ä¾›åŠ è½½çš„æ¨¡å—åˆ—è¡¨æ˜¯ä¸€ä¸ªç±»æ•°ç»„(å¯ä»¥æ˜¯æ•°ç»„ï¼Œå¯ä»¥æ˜¯å¯¹è±¡)ã€‚ webpackæ‰£JSçš„æ­¥éª¤æˆ‘ä»¬ä»¥è¿™ä¸ªç½‘å€â€”â€”Gå¦¹æ¸¸æˆâ€”â€”ä¸ºä¾‹æ¥ä»‹ç»webpackæ‰£jsçš„ä¸€èˆ¬æ­¥éª¤ã€‚æˆ‘ä»¬çš„ç›®çš„æ˜¯æŠ å‡ºå¯†ç åŠ å¯†ç®—æ³•çš„é‚£ä¸€éƒ¨åˆ†JSä»£ç ã€‚ æ‰¾åˆ°æˆ‘ä»¬è¦æ‰£JSçš„é‚£ä¸ªæ–‡ä»¶ï¼ŒæŠ“åŒ…ï¼Œæ‰“æ–­ç‚¹åˆ†æçš„è¿‡ç¨‹å°±ä¸èµ˜è¿°äº†ï¼Œç›´æ¥è´´æ–‡ä»¶ï¼š image-20220329005533139 æ‰¾åˆ°æ¨¡å—åŠ è½½å™¨(åŠ è½½æ¨¡å—çš„æ–¹æ³•) æ ¹æ®å‰é¢æåˆ°çš„webpackæ¨¡å—åŒ–ç¼–ç¨‹çš„JSä»£ç ç»“æ„ç‰¹ç‚¹ï¼Œå¾ˆæ˜¾ç„¶è¿™ä¸ªæ¨¡å—åŠ è½½ä¸ºï¼š 12345678910111213function e(s) &#123; var i = &#123;&#125;; if (i[s]) return i[s].exports; var n = i[s] = &#123; exports: &#123;&#125;, id: s, loaded: !1 &#125;; return t[s].call(n.exports, n, n.exports, e), n.loaded = !0, n.exports&#125; æ„é€ ä¸€ä¸ªè‡ªæ‰§è¡Œã€‚å¯ä»¥æ˜¯æ„é€ ä¸€ä¸ªç©ºçš„è‡ªæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥æ˜¯æŠŠç½‘ç«™çš„è‡ªæ‰§è¡ŒJSæ‰£ä¸‹æ¥ï¼Œç„¶ååˆ é™¤ä¸å¿…è¦çš„æ–¹æ³•ã€‚å¦‚ä¸‹ï¼š 123456789101112131415!function(t) &#123; var i = &#123;&#125;; function e(s) &#123; if (i[s]) return i[s].exports; var n = i[s] = &#123; exports: &#123;&#125;, id: s, loaded: !1 &#125;; return t[s].call(n.exports, n, n.exports, e), n.loaded = !0, n.exports &#125;&#125;(); æ³¨æ„æ„é€ çš„è¿™ä¸ªè‡ªæ‰§è¡Œæ–¹æ³•åªéœ€è¦ä¿ç•™æ¨¡å—åŠ è½½æ–¹æ³•ã€‚ æ‰¾åˆ°å¹¶æŠ å‡ºè°ƒç”¨çš„æ¨¡å—ã€‚ä»å¯ä¾›åŠ è½½çš„æ¨¡å—åˆ—è¡¨ä¸­æŠ å‡ºåŒ…å«æˆ‘ä»¬éœ€è¦çš„åŠ å¯†æ–¹æ³•çš„æ¨¡å—ã€‚ image-20220329161258366 é€šè¿‡æŠ“åŒ…ï¼Œæ‰¾è¯·æ±‚è°ƒç”¨æ ˆï¼Œå®šä½åˆ°å¯†ç åŠ å¯†ç›¸å…³çš„åœ°æ–¹ã€‚æ‰“ä¸Šæ–­ç‚¹ï¼Œè°ƒè¯•è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š image-20220329161353804 æ¥ç€æ–­ç‚¹ï¼Œæ¥ç€è°ƒè¯•ï¼š image-20220329161453244 æœ€ç»ˆæ‰¾åˆ°éœ€è¦è°ƒç”¨çš„æ¨¡å—å¦‚å›¾ï¼š image-20220329161649646 æ¥ç€å°±æ˜¯æŠ å‡ºè¿™ä¸ªè°ƒç”¨æ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ•´ä¸ªæ–‡ä»¶å¤åˆ¶ä¸‹æ¥ï¼Œæˆ‘ä»¬å‘ç°å¯ä¾›åŠ è½½çš„æ¨¡å—æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ•°å­—ä½œä¸ºé”®ï¼Œæ¨¡å—ä½œä¸ºå€¼ï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬æŠŠé”®ä¸º0çš„å«åšæ¨¡å—0ï¼Œé”®ä¸º1çš„å«åšæ¨¡å—1ï¼Œä¾æ­¤ç±»æ¨ã€‚æœç´¢å…³é”®ä»£ç qe.prototype.encryptï¼Œæ ¹æ®ä»£ç ç¼©è¿›ï¼Œæ‰¾åˆ°å°è£…qe.prototype.encryptè¿™ä¸ªæ–¹æ³•çš„æ¨¡å—æ˜¯æ¨¡å—4ï¼Œæˆ‘ä»¬æ‹·è´æ•´ä¸ªæ¨¡å—4çš„ä»£ç ï¼Œç²˜è´´åˆ°æˆ‘ä»¬ç¬¬äºŒæ­¥æ„å»ºçš„é‚£ä¸ªè‡ªæ‰§è¡Œæ–¹æ³•çš„å¯ä¾›åŠ è½½çš„æ¨¡å—åˆ—è¡¨ä¸­å»ï¼Œæ³¨æ„æ˜¯ä»¥objectçš„æ–¹æ³•ï¼Œä¸è¦ç”¨åˆ—è¡¨å½¢å¼ï¼ŒåŒæ—¶ç»™è¿™ä¸ªæ¨¡å—å–ä¸€ä¸ªåå­—ï¼Œæ¯”å¦‚å°±å«åšencryptã€‚ æ³¨æ„åˆ°æˆ‘ä»¬å‰é¢è·Ÿæ ˆçš„ç¤ºæ„å›¾ï¼Œç”Ÿæˆå¯†ç çš„åœ°æ–¹æ˜¯è°ƒç”¨æ¨¡å—3çš„encode æ–¹æ³•ï¼Œè€Œencodeæ–¹æ³•æ˜¯è°ƒç”¨æ¨¡å—4çš„encryptæ–¹æ³•ï¼Œæˆ‘ä»¬ä¸Šè¾¹å·²ç»æŠ å‡ºæ¥äº†æ¨¡å—4ï¼Œä¸è¦å¿˜äº†æŠ å‡ºæ¨¡å—3(è™½ç„¶æ¨¡å—3æ¯”è¾ƒç®€å•ï¼Œå®Œå…¨å¯ä»¥è‡ªå·±å†™)ã€‚åŒæ ·çš„ç»™æ¨¡å—3é‡æ–°å–ä¸ªåä¸ºencodeã€‚ æœ€ç»ˆæ¨¡å—3å’Œæ¨¡å—4æŠ å‡ºæ¥çš„ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162!function(t) &#123; function e(s) &#123; if (i[s]) return i[s].exports; var n = i[s] = &#123; exports: &#123;&#125;, id: s, loaded: !1 &#125;; return t[s].call(n.exports, n, n.exports, e), n.loaded = !0, n.exports &#125;&#125;(&#123; &quot;encrypt&quot;: function(t, e, i) &#123; var s, n, r; s = function(t, e, i) &#123; /* çœç•¥è‹¥å¹²è¡Œä»£ç  */ qe.prototype.decrypt = function(t) &#123; try &#123; return this.getKey().decrypt(ye(t)) &#125; catch (t) &#123; return !1 &#125; &#125; , qe.prototype.encrypt = function(t) &#123; try &#123; return be(this.getKey().encrypt(t)) &#125; catch (t) &#123; return !1 &#125; &#125; /* çœç•¥è‹¥å¹²è¡Œä»£ç  */ &#125;) &#125; .call(e, i, e, t), !(void 0 !== s &amp;&amp; (t.exports = s)) &#125;, &quot;encode&quot;: function(t, e, i) &#123; var s; s = function(t, e, s) &#123; function n() &#123; &quot;undefined&quot; != typeof r &amp;&amp; (this.jsencrypt = new r.JSEncrypt, this.jsencrypt.setPublicKey(&quot;-----BEGIN PUBLIC KEY-----MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDq04c6My441Gj0UFKgrqUhAUg+kQZeUeWSPlAU9fr4HBPDldAeqzx1UR92KJHuQh/zs1HOamE2dgX9z/2oXcJaqoRIA/FXysx+z2YlJkSk8XQLcQ8EBOkp//MZrixam7lCYpNOjadQBb2Ot0U/Ky+jF2p+Ie8gSZ7/u+Wnr5grywIDAQAB-----END PUBLIC KEY-----&quot;)) &#125; var r = i(4); n.prototype.encode = function(t, e) &#123; var i = e ? e + &quot;|&quot; + t : t; return encodeURIComponent(this.jsencrypt.encrypt(i)) &#125; , s.exports = n &#125; .call(e, i, e, t), !(void 0 !== s &amp;&amp; (t.exports = s)) &#125;&#125;); æ‰£å®Œä»£ç ä¹‹åï¼Œæˆ‘ä»¬å°†æ•´ä¸ªä»£ç æ”¾åˆ°æµè§ˆå™¨ä¸­æ‰§è¡Œä¸€éï¼ŒéªŒè¯ä¸‹æŠ çš„JSä»£ç æ²¡æœ‰é—®é¢˜ï¼š image-20220329163418015 å¯¼å‡ºç›¸åº”çš„æ¨¡å—æ–¹æ³•ã€‚æˆ‘ä»¬åªéœ€è¦å¯¼å‡ºæ¨¡å—åŠ è½½å‡½æ•°å°±è¡Œï¼Œå› ä¸ºåŠ å¯†ä¸­ç”¨åˆ°çš„encodeå’Œencryptæ–¹æ³•éƒ½æ˜¯é€šè¿‡æ¨¡å—åŠ è½½å‡½æ•°åŠ è½½çš„ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è‡ªæ‰§è¡Œæ–¹æ³•å¤–é¢å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç„¶åæŠŠæ¨¡å—åŠ è½½å‡½æ•°èµ‹å€¼ç»™è¿™ä¸ªå…¨å±€å˜é‡ï¼Œè¿™æ ·å°±å¯ä»¥ä»è‡ªæ‰§è¡Œå‡½æ•°å†…éƒ¨å¯¼å‡ºæ¨¡å—åŠ è½½æ–¹æ³•äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324// å¯¹å¤–æš´éœ²æ¨¡å—åŠ è½½å‡½æ•°var _n = e;!function(t) &#123; function e(s) &#123; if (i[s]) return i[s].exports; var n = i[s] = &#123; exports: &#123;&#125;, id: s, loaded: !1 &#125;; return t[s].call(n.exports, n, n.exports, e), n.loaded = !0, n.exports &#125;&#125;(&#123; &quot;encrypt&quot;: function(t, e, i) &#123; // çœç•¥å‡½æ•°ä½“ &#125;, &quot;encode&quot;: function(t, e, i) &#123; // çœç•¥å‡½æ•°ä½“ &#125;&#125;); ä¿®æ”¹å®Œä»£ç ä¹‹åï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­éªŒè¯ä¸€ä¸‹ï¼š image-20220329181407362 å¯ä»¥çœ‹åˆ°æˆåŠŸåŠ è½½äº†encryptå‡½æ•°ï¼ŒåŠ è½½encodeå‡½æ•°çš„æ—¶å€™æŠ¥é”™ï¼Œæˆ‘ä»¬æ‰“ä¸Šæ–­ç‚¹è°ƒè¯•ï¼Œå‘ç°æŠ¥é”™çš„é‚£ä¸€è¡Œä»£ç æ˜¯ï¼š 1var r = i(4); è¿™é‡Œçš„iæ˜¯encodeçš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæ˜¯t[s].call(n.exports, n, n.exports, e)çš„ç¬¬å››ä¸ªå‚æ•°å³æ¨¡å—åŠ è½½å‡½æ•°(å‰é¢æåˆ°è¿‡callçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å½±å“thisæŒ‡é’ˆçš„å‚æ•°)ï¼Œè¡¨ç¤ºè°ƒç”¨æ¨¡å—4ï¼Œç„¶è€Œæ¨¡å—4æˆ‘ä»¬æ”¹åä¸ºencrypt(ç†Ÿæ‚‰çš„æ¨¡å—3è°ƒç”¨æ¨¡å—4ï¼Œä½†æ˜¯æ¨¡å—3ç›’æ¨¡å—4æˆ‘ä»¬éƒ½æ”¹åäº†ï¼ŒğŸ˜®â€ğŸ’¨çœŸæ˜¯ç»™è‡ªå·±æŒ–å‘ï¼Œå…¶å®å®Œå…¨è·ŸåŸå§‹JSçš„ä¿æŒä¸€è‡´çš„å‘½å)ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬åªéœ€è¦æŠŠè¿™è¡Œä»£ç æ”¹ä¸ºï¼š 1var r = i(&quot;encrpty&quot;); æ”¹å¥½ä¹‹åï¼Œæˆ‘ä»¬å†æ¬¡åœ¨æµè§ˆå™¨ä¸­è°ƒè¯•ï¼Œæ²¡æœ‰æŠ¥é”™ã€‚ ç¼–å†™ä»£ç æµ‹è¯•ã€‚ image-20220329200136091 å¯ä»¥çœ‹åˆ°æµ‹è¯•ç»“æœç¬¦åˆé¢„æœŸã€‚ output-onlinepngtools æ€»ç»“è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†webpackæ¨¡å—åŒ–ä»¥åŠå¦‚ä½•ä»ä¸­æŠ å‡ºç›¸åº”çš„æ¨¡å—ã€‚æŠ JSçš„æ–¹æ³•ï¼Œæ€»ç»“èµ·æ¥åˆ†äº”æ­¥ï¼š æ‰¾åˆ°æ¨¡å—åŠ è½½å™¨ æ„é€ è‡ªæ‰§è¡Œ æ‰¾åˆ°å¹¶æŠ å‡ºéœ€è¦çš„æ¨¡å— å¯¼å‡ºç›¸åº”çš„æ¨¡å—æ–¹æ³• ç¼–å†™ä»£ç æµ‹è¯•","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"WebPack","slug":"WebPack","permalink":"https://blog.heshipeng.com/tags/WebPack/"}]},{"title":"JSé€†å‘ä¹‹WebSocketåè®®","date":"2022-03-27T09:45:51.000Z","path":"JSé€†å‘ä¹‹WebSocketåè®®/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ å‰è¨€æœ¬æ–‡çš„ç›®çš„ä¸æ˜¯ç€é‡è®²WebSocketsï¼Œè€Œæ˜¯è§£å†³åœ¨JSé€†å‘è¿‡ç¨‹ä¸­é‡åˆ°ç½‘ç«™ä½¿ç”¨WebSocketsåè®®çš„æ—¶å€™å¦‚ä½•å¤„ç†ã€‚ WebSocketä»€ä¹ˆæ˜¯WebSocketWebSocketæ˜¯ä¸€ç§ç½‘ç»œä¼ è¾“åè®®ï¼Œå¯åœ¨å•ä¸ªTCPè¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šä¿¡ï¼Œä½äºOSIæ¨¡å‹çš„åº”ç”¨å±‚ã€‚WebSocketä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å˜å¾—æ›´åŠ ç®€å•ï¼Œå…è®¸æœåŠ¡ç«¯ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚WebSocketçš„æœ€å¤§ç‰¹ç‚¹å°±æ˜¯æµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦å®Œæˆä¸€æ¬¡æ¡æ‰‹ï¼Œä¸¤è€…ä¹‹é—´å°±å¯ä»¥åˆ›å»ºæŒä¹…æ€§çš„è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ã€‚ WebSocketåè®®è§„èŒƒå°†wsï¼ˆWebSocketï¼‰å’Œwssï¼ˆWebSocket Secureï¼‰å®šä¹‰ä¸ºä¸¤ä¸ªæ–°çš„ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦(URI)æ–¹æ¡ˆï¼Œåˆ†åˆ«å¯¹åº”æ˜æ–‡å’ŒåŠ å¯†è¿æ¥ã€‚é™¤äº†æ–¹æ¡ˆåç§°å’Œç‰‡æ®µIDï¼ˆä¸æ”¯æŒ#ï¼‰ä¹‹å¤–ï¼Œå…¶ä½™çš„URIç»„ä»¶éƒ½è¢«å®šä¹‰ä¸ºæ­¤URIçš„é€šç”¨è¯­æ³•ã€‚ WebSocketçš„å…¶å®ƒç‰¹ç‚¹ï¼š å»ºç«‹åœ¨ TCP åè®®ä¹‹ä¸Šï¼ŒæœåŠ¡å™¨ç«¯çš„å®ç°æ¯”è¾ƒå®¹æ˜“ã€‚ ä¸ HTTP åè®®æœ‰ç€è‰¯å¥½çš„å…¼å®¹æ€§ã€‚é»˜è®¤ç«¯å£ä¹Ÿæ˜¯80å’Œ443ï¼Œå¹¶ä¸”æ¡æ‰‹é˜¶æ®µé‡‡ç”¨ HTTP åè®®ï¼Œå› æ­¤æ¡æ‰‹æ—¶ä¸å®¹æ˜“å±è”½ï¼Œèƒ½é€šè¿‡å„ç§ HTTP ä»£ç†æœåŠ¡å™¨ã€‚ æ•°æ®æ ¼å¼æ¯”è¾ƒè½»é‡ï¼Œæ€§èƒ½å¼€é”€å°ï¼Œé€šä¿¡é«˜æ•ˆã€‚ å¯ä»¥å‘é€æ–‡æœ¬(json/xml/çº¯æ–‡æœ¬)ï¼Œä¹Ÿå¯ä»¥å‘é€äºŒè¿›åˆ¶æ•°æ®(protobuf)ã€‚ æ²¡æœ‰åŒæºé™åˆ¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¸ä»»æ„æœåŠ¡å™¨é€šä¿¡ã€‚ åè®®æ ‡è¯†ç¬¦æ˜¯wsï¼ˆå¦‚æœåŠ å¯†ï¼Œåˆ™ä¸ºwssï¼‰ï¼ŒæœåŠ¡å™¨ç½‘å€å°±æ˜¯ URLã€‚å¦‚ws(wss)://example.com:80/some/pathã€‚ ä¸ºä»€ä¹ˆéœ€è¦WebSocketæˆ‘ä»¬å·²ç»æœ‰äº† HTTP åè®®ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å¦ä¸€ä¸ªåè®®ï¼Ÿå®ƒèƒ½å¸¦æ¥ä»€ä¹ˆå¥½å¤„ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼Œå› ä¸º HTTP åè®®æœ‰ä¸€ä¸ªç¼ºé™·ï¼šé€šä¿¡åªèƒ½ç”±å®¢æˆ·ç«¯å‘èµ·ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œç°åœ¨æœ‰ä¸ªåœºæ™¯ï¼Œæ¯”å¦‚èŠå¤©å®¤ã€‚å¦‚æœAç”¨æˆ·ä¸Bç”¨æˆ·èŠå¤©ï¼Œå¦‚æœç”¨HTTPåè®®ï¼Œåªèƒ½æ˜¯Aç”¨æˆ·å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·ä¸€ä¸ªHTTPè¯·æ±‚ï¼Œè¯¢é—®æ˜¯å¦æœ‰Bç”¨æˆ·çš„æ¶ˆæ¯ï¼ŒåŒæ ·çš„å¯¹äºBç”¨æˆ·ä¹Ÿä¸€æ ·ã€‚è¿™ç§å•å‘è¯·æ±‚çš„ç‰¹ç‚¹ï¼Œæ³¨å®šäº†å¦‚æœæœåŠ¡å™¨æœ‰è¿ç»­çš„çŠ¶æ€å˜åŒ–ï¼Œå®¢æˆ·ç«¯è¦è·çŸ¥å°±éå¸¸éº»çƒ¦ã€‚å°±åªèƒ½ç”¨è½®è¯¢çš„æ–¹å¼ï¼šæ¯éš”ä¸€æ®µæ—¶é—´å°±å‘å‡ºä¸€ä¸ªè¯¢é—®ï¼Œäº†è§£æœåŠ¡å™¨æœ‰æ²¡æœ‰æ–°çš„ä¿¡æ¯ã€‚ è½®è¯¢çš„æ•ˆç‡ä½ï¼Œéå¸¸æµªè´¹èµ„æºï¼ˆå› ä¸ºå¿…é¡»ä¸åœè¿æ¥ï¼Œæˆ–è€… HTTP è¿æ¥å§‹ç»ˆæ‰“å¼€ï¼‰ã€‚å› æ­¤ï¼Œå·¥ç¨‹å¸ˆä»¬ä¸€ç›´åœ¨æ€è€ƒï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•ã€‚WebSocket å°±æ˜¯è¿™æ ·å‘æ˜çš„ã€‚ æ¡æ‰‹åè®®WebSocket æ˜¯ç‹¬ç«‹çš„ã€åˆ›å»ºåœ¨TCPä¸Šçš„åè®®ã€‚Websocket é€šè¿‡HTTP åè®®è¯´æ˜å®¢æˆ·ç«¯è¯·æ±‚ï¼š 12345678GET /chat HTTP/1.1Host: server.example.comUpgrade: websocketConnection: UpgradeOrigin: http://example.comSec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==Sec-WebSocket-Protocol: chat, superchatSec-WebSocket-Version: 13 æœåŠ¡å™¨å›åº”ï¼š 12345HTTP/1.1 101 Switching ProtocolsUpgrade: websocketConnection: UpgradeSec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=Sec-WebSocket-Protocol: chat å­—æ®µè¯´æ˜ï¼š Connectionå¿…é¡»è®¾ç½®Upgradeï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯å¸Œæœ›è¿æ¥å‡çº§ã€‚ Upgradeå­—æ®µå¿…é¡»è®¾ç½®Websocketï¼Œè¡¨ç¤ºå¸Œæœ›å‡çº§åˆ°Websocketåè®®ã€‚ Sec-WebSocket-Keyæ˜¯éšæœºçš„å­—ç¬¦ä¸²ï¼ŒæœåŠ¡å™¨ç«¯ä¼šç”¨è¿™äº›æ•°æ®æ¥æ„é€ å‡ºä¸€ä¸ªSHA-1çš„ä¿¡æ¯æ‘˜è¦ï¼Œç„¶åè¿›è¡ŒBase64ç¼–ç ã€‚ Sec-WebSocket-Version è¡¨ç¤ºæ”¯æŒçš„Websocketç‰ˆæœ¬ã€‚ Originå­—æ®µæ˜¯å¿…é¡»çš„ã€‚å¦‚æœç¼ºå°‘originå­—æ®µï¼ŒWebSocketæœåŠ¡å™¨éœ€è¦å›å¤HTTP 403 çŠ¶æ€ç ï¼ˆç¦æ­¢è®¿é—®ï¼‰ã€‚ WebSocket NodeJSç‰ˆçš„å®¢æˆ·ç«¯APIç®€å•ç¤ºä¾‹å®¢æˆ·ç«¯ä»£ç ï¼š 12345678910111213const WebSocket = require(&#x27;ws&#x27;)const ws = new WebSocket(&#x27;ws://localhost:3000&#x27;)// æ¥å—ws.on(&#x27;message&#x27;, (message) =&gt; &#123; console.log(message.toString()) // å½“æ•°å­—è¾¾åˆ° 10 æ—¶ï¼Œæ–­å¼€è¿æ¥ if (Number.parseInt(message) === 10) &#123; ws.send(&#x27;close&#x27;); ws.close() &#125;&#125;) æœåŠ¡ç«¯ä»£ç ï¼š 123456789101112131415const WebSocket = require(&#x27;ws&#x27;)const WebSocketServer = WebSocket.Server;// åˆ›å»º websocket æœåŠ¡å™¨ ç›‘å¬åœ¨ 3000 ç«¯å£const wss = new WebSocketServer(&#123;port: 3000&#125;)// æœåŠ¡å™¨è¢«å®¢æˆ·ç«¯è¿æ¥wss.on(&#x27;connection&#x27;, (ws) =&gt; &#123; // é€šè¿‡ ws å¯¹è±¡ï¼Œå°±å¯ä»¥è·å–åˆ°å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ä¿¡æ¯å’Œä¸»åŠ¨æ¨é€ä¿¡æ¯ç»™å®¢æˆ·ç«¯ let i = 0; setInterval(function f() &#123; ws.send(i++) // æ¯éš” 1 ç§’ç»™è¿æ¥æ–¹æŠ¥ä¸€æ¬¡æ•° &#125;, 1000)&#125;) è¯¦ç»†APIä»‹ç» WebSocket æ„é€ å‡½æ•° WebSocket å¯¹è±¡ä½œä¸ºä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨äºæ–°å»º WebSocket å®ä¾‹ã€‚ 1var ws = new WebSocket(&#x27;ws://localhost:8080&#x27;); æ‰§è¡Œä¸Šé¢è¯­å¥ä¹‹åï¼Œå®¢æˆ·ç«¯å°±ä¼šä¸æœåŠ¡å™¨è¿›è¡Œè¿æ¥ã€‚ webSocket.readyState readyStateå±æ€§è¿”å›å®ä¾‹å¯¹è±¡çš„å½“å‰çŠ¶æ€ï¼Œå…±æœ‰å››ç§ã€‚ CONNECTINGï¼šå€¼ä¸º0ï¼Œè¡¨ç¤ºæ­£åœ¨è¿æ¥ã€‚ OPENï¼šå€¼ä¸º1ï¼Œè¡¨ç¤ºè¿æ¥æˆåŠŸï¼Œå¯ä»¥é€šä¿¡äº†ã€‚ CLOSINGï¼šå€¼ä¸º2ï¼Œè¡¨ç¤ºè¿æ¥æ­£åœ¨å…³é—­ã€‚ CLOSEDï¼šå€¼ä¸º3ï¼Œè¡¨ç¤ºè¿æ¥å·²ç»å…³é—­ï¼Œæˆ–è€…æ‰“å¼€è¿æ¥å¤±è´¥ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š 1234567891011121314151617switch (ws.readyState) &#123; case WebSocket.CONNECTING: // do something break; case WebSocket.OPEN: // do something break; case WebSocket.CLOSING: // do something break; case WebSocket.CLOSED: // do something break; default: // this never happens break;&#125; webSocket.onopen å®ä¾‹å¯¹è±¡çš„onopenå±æ€§ï¼Œç”¨äºæŒ‡å®šè¿æ¥æˆåŠŸåçš„å›è°ƒå‡½æ•°ã€‚ 123ws.onopen = function () &#123; ws.send(&#x27;Hello Server!&#x27;);&#125; å¦‚æœè¦æŒ‡å®šå¤šä¸ªå›è°ƒå‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨addEventListeneræ–¹æ³•ã€‚ 123ws.addEventListener(&#x27;open&#x27;, function (event) &#123; ws.send(&#x27;Hello Server!&#x27;);&#125;); webSocket.onclose å®ä¾‹å¯¹è±¡çš„oncloseå±æ€§ï¼Œç”¨äºæŒ‡å®šè¿æ¥å…³é—­åçš„å›è°ƒå‡½æ•°ã€‚ 12345678910111213ws.onclose = function(event) &#123; var code = event.code; var reason = event.reason; var wasClean = event.wasClean; // handle close event&#125;;ws.addEventListener(&quot;close&quot;, function(event) &#123; var code = event.code; var reason = event.reason; var wasClean = event.wasClean; // handle close event&#125;); webSocket.onmessage å®ä¾‹å¯¹è±¡çš„onmessageå±æ€§ï¼Œç”¨äºæŒ‡å®šæ”¶åˆ°æœåŠ¡å™¨æ•°æ®åçš„å›è°ƒå‡½æ•°ã€‚ 123456789ws.onmessage = function(event) &#123; var data = event.data; // å¤„ç†æ•°æ®&#125;;ws.addEventListener(&quot;message&quot;, function(event) &#123; var data = event.data; // å¤„ç†æ•°æ®&#125;); æ³¨æ„ï¼ŒæœåŠ¡å™¨æ•°æ®å¯èƒ½æ˜¯æ–‡æœ¬ï¼Œä¹Ÿå¯èƒ½æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼ˆblobå¯¹è±¡æˆ–Arraybufferå¯¹è±¡ï¼‰ã€‚ 12345678910ws.onmessage = function(event)&#123; if(typeof event.data === String) &#123; console.log(&quot;Received data string&quot;); &#125; if(event.data instanceof ArrayBuffer)&#123; var buffer = event.data; console.log(&quot;Received arraybuffer&quot;); &#125;&#125; é™¤äº†åŠ¨æ€åˆ¤æ–­æ”¶åˆ°çš„æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨binaryTypeå±æ€§ï¼Œæ˜¾å¼æŒ‡å®šæ”¶åˆ°çš„äºŒè¿›åˆ¶æ•°æ®ç±»å‹ã€‚ 1234567891011// æ”¶åˆ°çš„æ˜¯ blob æ•°æ®ws.binaryType = &quot;blob&quot;;ws.onmessage = function(e) &#123; console.log(e.data.size);&#125;;// æ”¶åˆ°çš„æ˜¯ ArrayBuffer æ•°æ®ws.binaryType = &quot;arraybuffer&quot;;ws.onmessage = function(e) &#123; console.log(e.data.byteLength);&#125;; webSocket.send() å®ä¾‹å¯¹è±¡çš„send()æ–¹æ³•ç”¨äºå‘æœåŠ¡å™¨å‘é€æ•°æ®ã€‚ å‘é€æ–‡æœ¬çš„ä¾‹å­ã€‚ 1ws.send(&#x27;your message&#x27;); å‘é€ Blob å¯¹è±¡çš„ä¾‹å­ã€‚ 1234var file = document .querySelector(&#x27;input[type=&quot;file&quot;]&#x27;) .files[0];ws.send(file); å‘é€ ArrayBuffer å¯¹è±¡çš„ä¾‹å­ã€‚ 12345678// Sending canvas ImageData as ArrayBuffervar img = canvas_context.getImageData(0, 0, 400, 320);var binary = new Uint8Array(img.data.length);for (var i = 0; i &lt; img.data.length; i++) &#123; binary[i] = img.data[i];&#125;ws.send(binary.buffer); webSocket.bufferedAmount å®ä¾‹å¯¹è±¡çš„bufferedAmountå±æ€§ï¼Œè¡¨ç¤ºè¿˜æœ‰å¤šå°‘å­—èŠ‚çš„äºŒè¿›åˆ¶æ•°æ®æ²¡æœ‰å‘é€å‡ºå»ã€‚å®ƒå¯ä»¥ç”¨æ¥åˆ¤æ–­å‘é€æ˜¯å¦ç»“æŸã€‚ 12345678var data = new ArrayBuffer(10000000);socket.send(data);if (socket.bufferedAmount === 0) &#123; // å‘é€å®Œæ¯•&#125; else &#123; // å‘é€è¿˜æ²¡ç»“æŸ&#125; webSocket.onerror å®ä¾‹å¯¹è±¡çš„onerrorå±æ€§ï¼Œç”¨äºæŒ‡å®šæŠ¥é”™æ—¶çš„å›è°ƒå‡½æ•°ã€‚ 1234567socket.onerror = function(event) &#123; // handle error event&#125;;socket.addEventListener(&quot;error&quot;, function(event) &#123; // handle error event&#125;); é€†å‘æ¡ˆä¾‹ä»‹ç»èŒèšªèŠå¤©å®¤ç½‘å€ï¼šhttp://kedou.workerman.net/ æŒ‰ç…§JSé€†å‘çš„æ­¥éª¤ï¼Œå³æŠ“åŒ…ï¼Œåˆ†æåŒ…ä¿¡æ¯ï¼Œè°ƒè¯•ï¼Œæœ¬åœ°è¿è¡Œã€‚å…ˆè¿›è¡ŒæŠ“åŒ…ï¼Œç½‘ç»œé¢æ¿è¿‡æ»¤å™¨é€‰æ‹©WSï¼Œå¦‚ä¸‹ï¼š image-20220327225044186 ç‚¹ä¸­è¿™ä¸ªWebSocketè¯·æ±‚ï¼Œç„¶ååˆ‡æ¢åˆ°Messageé¢æ¿ï¼Œå¦‚å›¾ï¼š image-20220327225356124 è¿™ä¸ªMessageä¿¡æ¯æ˜¯å®æ—¶çš„æ¶ˆæ¯ï¼Œå› ä¸ºWebSocketä¸€ç»è¿æ¥ï¼Œé™¤éæ–­å¼€å°±ä¼šä¸€ç›´å­˜åœ¨ï¼Œä¼šå®æ—¶å‘é€æ¶ˆæ¯ã€‚ä¸Šè¾¹æ¯æ¡æ¶ˆæ¯å‰é¢éƒ½æœ‰ä¸€ä¸ªç®­å¤´ï¼Œçº¢è‰²çš„è¡¨ç¤ºæœåŠ¡å™¨å‘ç»™å®¢æˆ·ç«¯çš„ï¼Œç»¿è‰²çš„ç®­å¤´è¡¨ç¤ºæˆ‘ä»¬å‘é€ç»™æœåŠ¡å™¨çš„ã€‚éšä¾¿é€‰ä¸­ä¸€æ¡ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°å®ƒçš„è¯¦ç»†ä¿¡æ¯ï¼Œå¾ˆæ˜¾ç„¶è¿™é‡Œçš„æ¶ˆæ¯æ ¼å¼æ˜¯ä½¿ç”¨JSONã€‚ æ¥ä¸‹æ¥å°±æ˜¯æ–­ç‚¹åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªWebSocketè¯·æ±‚çš„Initiatoræ‰¾åˆ°ç›¸åº”çš„ä»£ç ï¼š image-20220327230133082 ä¹Ÿå¯ä»¥é€šè¿‡å…¨å±€æœç´¢å…³é”®å­—.onopenï¼Œå¦‚å›¾ï¼š image-20220327230318560 ä¸ç®¡ç”¨ä»€ä¹ˆæ–¹æ³•ï¼Œéƒ½ä¼šå®šä½åˆ°å¦‚ä¸‹çš„ä»£ç æ®µï¼š image-20220327230426306 ç‚¹è¿›å»onMessageæ–¹æ³•ï¼Œ ç„¶åæ‰“ä¸Šæ–­ç‚¹ï¼Œç„¶ååˆ·æ–°ç½‘é¡µï¼ŒæˆåŠŸæ–­ä¸Šï¼š image-20220327230536234 è¿™é‡Œçš„æ•°æ®æ¶ˆæ¯æ¯”è¾ƒç®€å•ï¼Œæ˜æ–‡JSONï¼Œæ²¡æœ‰ä»»ä½•çš„åŠ å¯†ã€‚ å‚è€ƒé“¾æ¥WebSocket æ•™ç¨‹ æ€»ç»“WebSocketä¸HTTPéƒ½æ˜¯ç½‘ç»œä¼ è¾“åè®®ï¼Œå®ƒä»¬çš„ç›¸åŒç‚¹æ˜¯ï¼š å»ºç«‹åœ¨TCPä¹‹ä¸Šï¼Œé€šè¿‡TCPåè®®æ¥ä¼ è¾“æ•°æ® éƒ½æ˜¯å¯é æ€§ä¼ è¾“åè®® éƒ½æ˜¯åº”ç”¨å±‚åè®® å®ƒä»¬çš„ä¸åŒç‚¹ï¼š WebSocketæ˜¯HTML5ä¸­çš„åè®®ï¼Œæ”¯æŒæŒä¹…è¿æ¥ï¼ŒHTTPä¸æ”¯æŒæŒä¹…è¿æ¥ HTTPæ˜¯å•å‘åè®®ï¼Œåªèƒ½ç”±å®¢æˆ·ç«¯å‘èµ·ï¼Œåšä¸åˆ°æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€ä¿¡æ¯","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"WebSockets","slug":"WebSockets","permalink":"https://blog.heshipeng.com/tags/WebSockets/"}]},{"title":"JSé€†å‘ä¹‹åŠ è§£å¯†è¿›é˜¶ç¯‡","date":"2022-03-22T12:43:08.000Z","path":"JSé€†å‘ä¹‹åŠ è§£å¯†è¿›é˜¶ç¯‡/","text":"ä¸ä¸€æ ·çš„åŠ å¯†ç®—æ³•æ …æ å¯†ç æ …æ å¯†ç (Rail-fence Cipher)å°±æ˜¯æŠŠè¦åŠ å¯†çš„æ˜æ–‡åˆ†ä¸ºNä¸ªä¸€ç»„ï¼Œç„¶åæŠŠæ¯ç»„çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ç»„åˆï¼Œæ¯ç»„çš„ç¬¬äºŒä¸ªå­—ç¬¦ç»„åˆâ€¦æ¯ç»„çš„ç¬¬Nä¸ª(æœ€åä¸€ä¸ªåˆ†ç»„å¯èƒ½ä¸è¶³Nä¸ª)ä¸ªå­—ç¬¦ç»„åˆï¼Œæœ€åæŠŠä»–ä»¬å…¨éƒ¨è¿æ¥èµ·æ¥å°±æ˜¯å¯†æ–‡ã€‚è¿™é‡Œä»¥2æ æ …æ åŠ å¯†ä¸ºä¾‹ã€‚ image-20220322162944513 ä»¥ä¸€å¥è¯Are you okä¸ºä¾‹ï¼š å»ç©ºæ ¼ï¼Œç»“æœä¸ºAreyouok åˆ†ç»„ï¼Œç»“æœä¸ºAr ey ou ok é‡ç»„ ç¬¬ä¸€ç»„ï¼šAeoo ç¬¬äºŒç»„ï¼šryuk ç”Ÿæˆå¯†æ–‡ï¼Œç»“æœä¸ºï¼šAeooryuk Pythonä»£ç æ¼”ç¤º 1234567891011121314151617181920212223242526272829303132333435363738def encode(flag, num): from math import ceil length = len(flag) lines = ceil(length / num) arr = [flag[i:i+num] for i in range(0, lines * num, num)] flag = &#x27;&#x27; for i in range(len(arr[0])): for j in arr: try: flag += j[i] except: pass return flagdef decode(flag, num): length = len(flag) # flagçš„é•¿åº¦ lines = length // num # åˆ¤æ–­å…±æœ‰å‡ å±‚å¹¶å‡ä¸€ remainder = num * (lines + 1) - length # ç›¸å·®çš„æ•°é‡ # è¡¥å…¨flag result = flag[:length-lines*remainder] for i in range(remainder-1, -1, -1): result += flag[length - (i + 1) * lines:length - i * lines] + &#x27;*&#x27; # è¿˜åŸflag lines += 1 arr = [result[i:i + lines] for i in range(0, len(result), lines)] flag = &#x27;&#x27; for i in range(len(arr[0])): for j in arr: flag += j[i] return flag[:length]if __name__ == &#x27;__main__&#x27;: print(encode(&quot;Are you ok&quot;, 2)) # Aeyuor o k print(decode(&quot;Aeyuor o k&quot;, 2)) # Are you ok åˆ—ä½ç§»å¯†ç åˆ—ä½ç§»å¯†ç (Columnar Transposition Cipher)æ˜¯ä¸€ç§æ¯”è¾ƒç®€å•ï¼Œæ˜“äºå®ç°çš„æ¢ä½å¯†ç ï¼Œé€šè¿‡ä¸€ä¸ªç®€å•çš„è§„åˆ™å°†æ˜æ–‡æ‰“ä¹±æ··åˆæˆå¯†æ–‡ã€‚å°†æ˜æ–‡å¡«å…¥äº‹å…ˆçº¦å®šå¡«å……çš„è¡Œåˆ—æ•°ï¼Œå¦‚æœæ˜æ–‡ä¸èƒ½å¡«å……å®Œè¡¨æ ¼ï¼Œå¯ä»¥çº¦å®šä½¿ç”¨æŸä¸ªå­—æ¯è¿›è¡Œå¡«å……ï¼Œç„¶åæ ¹æ®å¯†é’¥åœ¨å­—æ¯è¡¨ä¸­å‡ºç°çš„å…ˆåé¡ºåºè¿›è¡Œç¼–å·ï¼Œæ ¹æ®ç¼–ç å³å¯æ¨å‡ºå¯†æ–‡ã€‚ image-20220322194007474 è¿˜æ˜¯ä»¥é‚£å¥è¯Are you okä¸ºæ˜æ–‡ï¼Œä»¥carä¸ºå¯†é’¥ï¼Œxä¸ºå¡«å……å­—ç¬¦ï¼š å»ç©ºæ ¼ï¼Œç»“æœä¸ºï¼šAreyouok å› ä¸ºå¯†é’¥carçš„é•¿åº¦ä¸º3ï¼Œæ‰€ä»¥ä»¥3ä¸ªå­—ç¬¦ä¸ºä¸€ä¸ªå•ä½åˆ†ç»„ï¼Œå¦‚ä¸‹ï¼š c a r A r e y o u o k x æœ€åä¸€ç»„åªæœ‰2ä¸ªå…ƒç´ ä¸è¶³ä¸‰ä¸ªï¼Œæ‰€ä»¥ç”¨xå¡«å……ã€‚ç”±äºå¯†é’¥carçš„å­—æ¯é¡ºåºæ’åºæ˜¯a&gt;c&gt;rï¼Œæ‰€ä»¥ä¸Šè¿°åˆ—æ’åºä¹Ÿè¦æ ¹æ®è¿™ä¸ªé¡ºåºé‡æ–°æ’åˆ—ï¼Œå¦‚ä¸‹ï¼š a c r r A e o y u k o x é‡æ–°æ’åºå®Œæˆä¹‹åï¼Œä»ç¬¬ä¸€åˆ—åˆ°æœ€åä¸€åˆ—æŒ‰åˆ—å–å€¼ç»„æˆçš„å­—ç¬¦ä¸²å°±æ˜¯å¯†æ–‡äº†ï¼Œå¾ˆæ˜¾ç„¶å¯†é’¥æ˜¯ä¸èƒ½å‡ºç°åœ¨æ˜æ–‡ä¸­çš„ï¼Œå¡«å……å­—ç¬¦å¯ä»¥å‡ºç°åœ¨æ˜æ–‡ä¸­ï¼Œæ‰€ä»¥æ¯ä¸€åˆ—çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è¢«å¿½ç•¥ï¼Œæœ€ç»ˆçš„å¯†æ–‡ä¸ºï¼šrokAyoeuxã€‚ Pythonä»£ç æ¼”ç¤º 12345from pycipher import ColTransColTrans(&quot;car&quot;).encipher(&#x27;Are you ok&#x27;) # ROKAYOEUColTrans(&quot;car&quot;).decipher(&#x27;ROKAYOEU&#x27;) # AREYOUOK å‡¯æ’’å¯†ç å‡¯æ’’å¯†ç (Caesar Cipheræˆ–ç§°å‡¯æ’’åŠ å¯†ï¼Œå‡¯æ’’å˜æ¢ï¼Œå˜æ¢åŠ å¯†ï¼Œä½ç§»åŠ å¯†)æ˜¯ä¸€ç§æ›¿æ¢åŠ å¯†ï¼Œæ˜æ–‡ä¸­çš„æ‰€æœ‰å­—æ¯éƒ½åœ¨å­—æ¯è¡¨ä¸Šå‘å(æˆ–å‘å‰)æŒ‰ç…§ä¸€ä¸ªå›ºå®šçš„æ•°ç›®è¿›è¡Œåç§»åè¢«æ›¿æ¢æˆå¯†æ–‡ã€‚ä¾‹ï¼Œå½“åç§»é‡æ˜¯3çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„å­—æ¯Aéƒ½å°†è¢«æ›¿æ¢æˆDï¼ŒBå˜æˆEï¼Œä¾æ­¤ç±»æ¨ã€‚ image-20220322220707572 ä¾æ—§ä»¥Are you okä¸ºä¾‹ï¼š å»é™¤ç©ºæ ¼ï¼Œå˜ä¸ºAreyouok ä»¥5ä½œä¸ºåç§»æ˜ å°„ï¼ŒAå¯¹åº”Fï¼Œrå¯¹åº”wï¼Œeå¯¹åº”jï¼Œä¾æ­¤å¾€ä¸‹æ¨ï¼Œè½¬æ¢åçš„å¯†æ–‡ä¸ºFwjdtztpã€‚ Pythonä»£ç æ¼”ç¤º 123456789101112131415161718192021222324252627282930313233def encrypt_char(char, key): return chr(ord(&#x27;A&#x27;) + (ord(char) - ord(&#x27;A&#x27;) + key) % 26)def encrypt_message(message, key): message = message.upper() cipher = &#x27;&#x27; for char in message: if char not in &#x27; ,.&#x27;: cipher += encrypt_char(char, key) else: cipher += char return cipherdef decrypt_char(char, key): return chr(ord(&#x27;A&#x27;) + (ord(char) - ord(&#x27;A&#x27;) + 26 - key) % 26)def decrypt_message(cipher, key): cipher = cipher.upper() message = &#x27;&#x27; for char in cipher: if char not in &#x27; ,.&#x27;: message += decrypt_char(char, key) else: message += char return messageif __name__ == &#x27;__main__&#x27;: print(encrypt_message(&quot;Are you ok&quot;, 5)) # FWJ DTZ TP print(decrypt_message(&quot;FWJ DTZ TP&quot;, 5)) # ARE YOU OK å…¶å®ƒåŠ å¯†JSfuckä»…ä½¿ç”¨6ä¸ªå­—ç¬¦ï¼Œå³[]+()!ï¼Œæ¥ç¼–å†™jsç¨‹åºã€‚ jotheræ˜¯ä¸€ç§å¯ä»¥è¿ç”¨äºjavascriptè¯­è¨€ä¸­åˆ©ç”¨å°‘é‡å­—ç¬¦æ„é€ ç²¾ç®€çš„åŒ¿åå‡½æ•°æ–¹æ³•å¯¹äºå­—ç¬¦ä¸²è¿›è¡Œçš„ç¼–ç æ–¹å¼ã€‚å…¶ä¸­8ä¸ªå°‘é‡å­—ç¬¦åŒ…æ‹¬ï¼š!+()[]{}ã€‚åªç”¨è¿™äº›å­—ç¬¦å°±å¯ä»¥å®Œæˆä»»æ„å­—ç¬¦ä¸²çš„ç¼–ç ã€‚ jjencodeå°†JSä»£ç è½¬æ¢æˆåªæœ‰ç¬¦å·çš„å­—ç¬¦ä¸²ã€‚ aaencodeå¯ä»¥å°†JSä»£ç è½¬æ¢æˆå¸¸ç”¨çš„ç½‘ç»œè¡¨æƒ…ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„é¢œæ–‡å­—JSåŠ å¯†ã€‚ JSåŠ å¯†ä¸Šçš„å®ä¾‹åˆ†æä¸å˜åŒ–å‡¯æ’’åŠ å¯†å˜ç§åŠ å¯†ç®—æ³•åˆ†æå¯†æ–‡ï¼šlQyjcvi|dcQR pktg t 2 cxl 9tixQR0 wxujzzxg0 gxijgc cxl 9tixQR V t 3 ZYY0rQRR ç®—æ³•ï¼š 123456789101112131415161718function _$aU(_$Fj) &#123; var _$U4 = _$Fj.length; var _$_L, _$cu = new Array(_$U4 - 1), _$h9 = _$Fj.charCodeAt(0) - 97; for (var _$1B = 0, _$lp = 1; _$lp &lt; _$U4; ++_$lp) &#123; _$_L = _$Fj.charCodeAt(_$lp); if (_$_L &gt;= 40 &amp;&amp; _$_L &lt; 92) &#123; _$_L += _$h9; if (_$_L &gt;= 92) _$_L -= 52; &#125; else if (_$_L &gt;= 97 &amp;&amp; _$_L &lt; 127) &#123; _$_L += _$h9; if (_$_L &gt;= 127) _$_L -= 30; &#125; _$cu[_$1B++] = _$_L; &#125; return String.fromCharCode.apply(null, _$cu);&#125; ä½¿ç”¨ä¸Šè¿°ç®—æ³•è§£å¯†å¯†æ–‡ç»“æœå¦‚ä¸‹ï¼š image-20220323180744951 å¯ä»¥çœ‹åˆ°ä¸Šé¢æ˜¯ä¸€ä¸ªæ— é™debuggerçš„å­—ç¬¦ä¸²ï¼Œç„¶åé€šè¿‡evalè°ƒç”¨å¯ä»¥è¾¾åˆ°æ— é™debuggerçš„ç›®çš„ï¼Œé€šè¿‡å‰é¢å­¦ä¹ äº†å‡¯æ’’å¯†ç ä¹‹åï¼Œæˆ‘ä»¬é™¤äº†å¯ä»¥ä½¿ç”¨hookçš„æ–¹å¼ç»•è¿‡æ— é™debuggerï¼Œè¿˜å¯ä»¥ä½¿ç”¨å‡¯æ’’å¯†ç è¾¾åˆ°ç›®çš„ï¼Œæˆ‘ä»¬åˆ é™¤å¯†æ–‡ä¸­çš„wxujzzxg0ï¼Œç„¶åæ‰§è¡Œï¼š image-20220323181330460 å¯ä»¥çœ‹åˆ°ï¼ŒåŒæ ·å¹²æ‰äº†debuggerå…³é”®å­—ã€‚ å¸¸è§„åŠ å¯†ç®—æ³•çš„å˜ç§å€Ÿé‰´å¤å…¸å¯†ç å­¦æ”¹é€ ç°åœ¨å¯†ç å­¦çœ‹ä¸€æ®µAESå®é™…æ¡ˆä¾‹(æŸå¸¸è§äººæœºéªŒè¯ç ä»£ç éƒ¨åˆ†æ¡ˆä¾‹) 1234567891011121314151617181920212223242526272829303132var CryptoJS = require(&quot;crypto-js&quot;);const key = &quot;ABC1234567891234&quot;;const iv = &quot;1234567812345678&quot;;function encrypt(text) &#123; return CryptoJS.AES.encrypt(text, CryptoJS.enc.Utf8.parse(key), &#123; iv: CryptoJS.enc.Utf8.parse(iv), mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 &#125;)&#125;function decrypt(text) &#123; var result = CryptoJS.AES.decrypt(text, CryptoJS.enc.Utf8.parse(key), &#123; iv: CryptoJS.enc.Utf8.parse(iv), mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 &#125;); return result.toString(CryptoJS.enc.Utf8);&#125;let encrypted = encrypt(&quot;123456&quot;);var s = [];for (var i = 0; i &lt; encrypted.ciphertext.sigBytes; i++) &#123; var x = encrypted.ciphertext.words[i &gt;&gt;&gt; 2] &gt;&gt;&gt; 24 - i % 4 * 8 &amp; 255; s.push(x)&#125;let data = encrypt(String.fromCharCode.apply(null, s)).toString();console.log(encrypted.toString()); // 6S3YRylMmp9vIFOplWxypw==console.log(data); // u79HHbvmZtoSScagKO2JsQzytZH1L5SJGSh338DbaMA=console.log(decrypt(data)); // Ã©-Ã˜G)L\u0000\u0000o SÂ©\u0000lrÂ§ å¦‚ä¸Šï¼Œå‡å¦‚åŠ å¯†ä»£ç å‡ºç°äº†cryptojså…³é”®å­—ï¼Œç„¶åè®©äººä»¥ä¸ºæ˜¯ä¼ ç»Ÿçš„cryptojsåŠ å¯†ï¼Œä½†æ˜¯å®é™…ä¸Šåšäº†ä¸€ç‚¹ä¿®æ”¹ï¼Œå¯¼è‡´å¦‚æœç›´æ¥æ‹¿dataå»åšè§£å¯†ï¼Œä¼šå¾—åˆ°çš„ä¹±ç ï¼Œè¾¾åˆ°æ··æ·†è§†å¬çš„ç›®çš„ã€‚","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"ä½ ä¸å¯ä¸çŸ¥çš„CSSåçˆ¬","date":"2022-03-20T10:19:57.000Z","path":"ä½ ä¸å¯ä¸çŸ¥çš„CSSåçˆ¬/","text":"ä¸ºä»€ä¹ˆä½¿ç”¨CSSåšåçˆ¬ æˆæœ¬ä½ åªéœ€è¦å‰æ®µæ··æ·†æ ·å¼ ä¸éœ€è¦å¤æ‚çš„åŠ å¯†æŠ€æœ¯ ä¸éœ€è¦éªŒè¯ç ï¼Œæµé‡æ£€æµ‹ç­‰é¢å¤–é…ç½® å› æ­¤ï¼Œå¯¹äºä¼ä¸šæ¥è¯´ï¼Œä»…ä»…ç”¨ä¸€äº›CSSæŠ€å·§å°±å¯ä»¥é˜²ä½çˆ¬è™«ï¼Œå¯ä»¥ä¸éœ€è¦æŠ•å…¥å¾ˆå¤šèµ„æºï¼Œè¿™æ ·ä¼šèŠ‚çœèµ„é‡‘ä»¥åŠæ—¶é—´èµ„æºã€‚ æ•ˆæœå¥½ éš¾ä»¥è¯†åˆ« æŠ“å–å†…å®¹ä¸é¢„æœŸå†…å®¹ç›¸è¿‘ï¼Œå®¹æ˜“è¯¯å¯¼çˆ¬è™«å·¥ç¨‹å¸ˆ åçˆ¬æªæ–½ä¸å®¹æ˜“å‘è§‰ å¯ä»¥æ··æ·†ç«äº‰å¯¹æ‰‹ æ²¡æœ‰æˆç†Ÿçš„ç ´è§£å¥—è·¯ ç ´è§£CSSæ··æ·†çš„åçˆ¬æªæ–½éœ€è¦æƒ³è±¡åŠ› æ²¡æœ‰ç»Ÿä¸€çš„ç ´è§£å¥—è·¯ï¼Œéœ€è¦äººå·¥å¹²é¢„ ç”¨CSSçš„åçˆ¬æ•ˆæœå¥½ï¼Œæ‰€ä»¥ä¼ä¸šå¯ä»¥èŠ±å¾ˆå°‘çš„æ—¶é—´æˆæœ¬æ¥è·å–è¾ƒå¤§çš„åçˆ¬æ•ˆç›Šï¼Œè¿™ç§æªæ–½æ˜¾å¾—å°¤ä¸ºå…·æœ‰å¸å¼•åŠ›ã€‚ CSSåçˆ¬ç±»åˆ«å›¾ç‰‡ä¼ªè£…åçˆ¬è™«å›¾ç‰‡ä¼ªè£…æŒ‡çš„æ˜¯å°†å¸¦æœ‰æ–‡å­—çš„å›¾ç‰‡ä¸æ­£å¸¸æ–‡å­—æ··åˆåœ¨ä¸€èµ·ï¼Œä»¥è¾¾åˆ°â€œé±¼ç›®æ··ç â€çš„æ•ˆæœã€‚è¿™ç§æ··æ·†æ–¹å¼å¹¶ä¸ä¼šå½±å“ç”¨æˆ·é˜…è¯»ï¼Œä½†æ˜¯å¯ä»¥è®©çˆ¬è™«ç¨‹åºæ— æ³•è·å¾—â€œæ‰€è§â€çš„æ–‡å­—å†…å®¹ã€‚å›¾ç‰‡åçˆ¬è™«é€šå¸¸ä¼šå°†ä¸€äº›å…³é”®ä¿¡æ¯ä»¥å›¾ç‰‡çš„å½¢å¼å±•ç¤ºå‡ºæ¥ã€‚ ä¸¾ä¾‹ ç½‘å€ï¼šaHR0cHM6Ly93d3cuZ3hyYy5jb20vY29tcGFueS9hYmFmMjU1Yy1mZjE3LTQ2YjAtOWM0Zi03YzkyOTZiY2FmMTc=ï¼ŒæŠŠç”µè¯ä¿¡æ¯é€šè¿‡å›¾ç‰‡çš„å½¢å¼å±•ç¤ºï¼Œå¦‚ä¸‹ï¼š image-20220320193029220 å¯¹äºè¿™ç§å›¾ç‰‡çš„æ–‡å­—æå–ï¼Œéœ€è¦ç”¨åˆ°å…‰å­¦å­—ç¬¦è¯†åˆ«æŠ€æœ¯OCRã€‚ æ¨èå‡ ä¸ªå¥½ç”¨çš„OCRåº“ï¼š PaddleOCR ã€‚ EasyOCR pytesseract æœ¬æ¥æƒ³ç”¨PaddleOCRæ¥è¿›è¡Œæ–‡å­—æå–çš„ï¼Œä½†æ˜¯æˆ‘ç”¨çš„æ˜¯MacOS M1èŠ¯ï¼Œå®‰è£…çš„æ—¶å€™æœ‰å„ç§é—®é¢˜ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå…ˆä¸æŠ˜è…¾ï¼Œå°±ç”¨äº†EasyOCRè¿›è¡Œè¯†åˆ«ï¼Œè¯†åˆ«ç»“æœå¦‚ä¸‹ï¼š image-20220320221502215 è™½ç„¶çˆ¬è™«å·¥ç¨‹å¸ˆå¯ä»¥å€ŸåŠ©æ¸²æŸ“å·¥å…·è·å¾—é¡µé¢æ¸²æŸ“åçš„ç½‘é¡µæ–‡æœ¬ï¼Œä½†çˆ¬è™«æ— æ³•ç›´æ¥ä»å›¾ç‰‡è¿™ç§åª’ä½“æ–‡ä»¶ä¸­è·å–å­—ç¬¦ã€‚å…‰å­¦å­—ç¬¦è¯†åˆ«æŠ€æœ¯ä¹Ÿæœ‰ä¸€å®šçš„ç¼ºé™·ï¼Œåœ¨é¢å¯¹æ‰­æ›²æ–‡å­—ã€ç”Ÿåƒ»å­—å’Œæœ‰å¤æ‚å¹²æ‰°ä¿¡æ¯çš„å›¾ç‰‡æ—¶ï¼Œå®ƒå°±æ— æ³•å‘æŒ¥ä½œç”¨äº†ã€‚ åˆ©ç”¨å­—ä½“åçˆ¬è™«å­—ä½“åçˆ¬åŸç†ï¼š ä¸»è¦åˆ©ç”¨äº†font-familyè¿™ä¸ªå±æ€§ï¼Œä¾‹å¦‚è®¾ç½®ä¸ºmy-font åœ¨HTMLé‡Œä¸å¸¸è§çš„unicode åœ¨CSSçš„å­—ä½“ä¸­å°†å…¶æ˜ å°„åˆ°å¸¸è§çš„(å¯è¯»çš„)å­—ä½“ï¼Œä¾‹å¦‚æ•°å­— çˆ¬è™«åœ¨æŠ“å–æ•°æ®çš„æ—¶å€™åªèƒ½æŠ“åˆ°unicodeï¼Œè€Œä¸æ˜¯çœŸå®çš„æ•°æ® è§£å†³æ–¹æ¡ˆï¼š ä¸‹è½½woffå­—ä½“æ–‡ä»¶ï¼Œè½¬ä¸ºtffæ–‡ä»¶ ç”¨ç™¾åº¦å­—ä½“ç¼–è¾‘å™¨æ‰“å¼€ï¼Œå¹¶ç¡®å®šå…¶unicodeä¸å®é™…çš„æ˜ å°„å…³ç³» å°†ä¸‹è½½çš„HTMLå†…å®¹æŒ‰ç…§æ˜ å°„å…³ç³»è¿›è¡Œæ›¿æ¢ è§£æHTMLå¹¶è·å–æ­£ç¡®çš„æ•°æ® éš¾ç‚¹ï¼š æœ‰äº›ç½‘ç«™ä¼šåŠ¨æ€çš„ç”Ÿæˆwoffï¼Œè¿™ç§åçˆ¬æªæ–½æ¯”è¾ƒéš¾ä»¥è‡ªåŠ¨åŒ–ç»•å¼€ ä¸¾ä¾‹ ç½‘å€ï¼šaHR0cHM6Ly9jbHViLmF1dG9ob21lLmNvbS5jbi9iYnMvdGhyZWFkL2QxNzUxYzdiZDA1MzlkZTAvNzkyMjk2NjgtMS5odG1sï¼Œéƒ¨åˆ†æ–‡å­—ä»¥ç‰¹æ®Šå­—ä½“å±•ç¤ºï¼Œå¦‚å›¾ï¼š image-20220321200937272 æˆ‘ä»¬é€šè¿‡æŠ“åŒ…ï¼Œæ‹¿åˆ°å¯¹åº”çš„å­—ä½“æ–‡ä»¶ï¼Œç„¶åç”¨ç™¾åº¦æ–‡å­—ç¼–è¾‘å™¨æ‰“å¼€ï¼š image-20220321201048528 æ‹·è´å¤§å­—å¯¹åº”çš„é‚£ä¸€ä¸ªå¥‡æ€ªçš„å­—ç¬¦ï¼Œè½¬ä¸ºunicodeç¼–ç ï¼Œå¦‚å›¾ï¼š image-20220321201232378 å¯ä»¥çœ‹åˆ°ed68æ­£å¥½å¯¹åº”ä¸Šè¾¹çš„$ED68è¿™ä¸ªæ±‰å­ï¼Œå³å¤§ã€‚è¿™ä¸ªç½‘ç«™çš„å­—ä½“æ˜¯åŠ¨æ€åŠ è½½çš„ï¼Œæ¯æ¬¡ä½¿ç”¨ç‰¹æ®Šå­—ä½“çš„æ±‰å­æ˜¯éšæœºçš„ï¼Œå¢åŠ äº†åçˆ¬çš„éš¾åº¦ã€‚ CSSåç§»åçˆ¬è™«CSS åç§»åçˆ¬è™«æŒ‡çš„æ˜¯åˆ©ç”¨ CSS æ ·å¼å°†ä¹±åºçš„æ–‡å­—æ’ç‰ˆä¸ºäººç±»æ­£å¸¸é˜… è¯»é¡ºåºçš„è¡Œä¸ºã€‚è¿™ä¸ªæ¦‚å¿µä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹æ¯”ä¸¤æ®µæ–‡å­— æ¥åŠ æ·±å¯¹è¿™ä¸ªæ¦‚å¿µçš„ç†è§£ï¼š HTML æ–‡æœ¬ä¸­çš„æ–‡å­—:æˆ‘çš„å­¦å·æ˜¯ 1308205ï¼Œæˆ‘åœ¨åŒ—äº¬å¤§å­¦è¯»ä¹¦ã€‚ æµè§ˆå™¨æ˜¾ç¤ºçš„æ–‡å­—:æˆ‘çš„å­¦å·æ˜¯ 1380205ï¼Œæˆ‘åœ¨åŒ—äº¬å¤§å­¦è¯»ä¹¦ã€‚ çˆ¬è™«æå–åˆ°çš„å­¦å·æ˜¯ 1308205ï¼Œä½†ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°çš„å´æ˜¯ 1380205ã€‚å¦‚æœä¸ç»†å¿ƒè§‚å¯Ÿï¼Œçˆ¬è™«å·¥ç¨‹å¸ˆå¾ˆå®¹æ˜“è¢«çˆ¬å–ç»“æœç³Šå¼„ã€‚è¿™ç§æ··æ·†æ–¹æ³•å’Œå›¾ç‰‡ä¼ªè£…ä¸€æ ·ï¼Œæ˜¯ä¸ä¼šå½±å“ç”¨æˆ·é˜…è¯»çš„ã€‚è®©äººå¥½å¥‡çš„æ˜¯æµè§ˆå™¨å¦‚ä½•å°† HTML æ–‡æœ¬ä¸­çš„æ•°å­—æŒ‰ç…§å¼€å‘è€…çš„æ„æ„¿æ’åºæˆ–æ”¾ç½®å‘¢? è¿™ç§æ”¾ç½®è§„åˆ™æ˜¯å¦‚ä½•è¿ä½œçš„å‘¢ï¼Ÿ ä¸¾ä¾‹ ç½‘å€ï¼šhttp://www.porters.vip/confusion/flight.html# å¯ä»¥çœ‹åˆ°èˆªç­æœºç¥¨ä¸èƒ½ç›´æ¥æ‹¿åˆ°ï¼Œè€Œæ˜¯ç”¨åˆ°CSSåç§»ï¼š image-20220321204846610 æˆ‘ä»¬å¯ä»¥çœ‹å‡ºè§„å¾‹ï¼Œ77764æ’æˆä¸€åˆ—ï¼Œæ¯ä¸ªå®½åº¦ä¸º16pxï¼Œç„¶å6è¿™ä¸ªæ•°å­—å·¦åç§»32pxå°±å˜æˆäº†76774ï¼Œ4è¿™ä¸ªæ•°å­—å‘å·¦åç§»64ä¸ªpxå°±å˜æˆäº†46777ï¼Œç”±äºè®¾ç½®å±•ç¤ºå®½åº¦ä¸º48pxï¼Œæ‰€ä»¥åªçœ‹åˆ°å‰ä¸‰ä¸ªæ•°å­—ï¼Œå°±åˆšå¥½æ˜¯467ã€‚ åˆ©ç”¨ä¼ªç±»åçˆ¬è™«åçˆ¬åŸç†ï¼š ä¸ç›´æ¥å°†å†…å®¹å±•ç°åˆ°htmlçš„å…ƒç´ ä¸­ é€šè¿‡ä¼ªç±»çš„contentå±æ€§å°†è¦å±•ç¤ºçš„å€¼å±•ç¤ºå‡ºæ¥ã€‚ä¾‹å¦‚ï¼šé¼ æ ‡æ‚¬æµ®çš„æ—¶å€™å±•ç¤ºæ•°æ® è§£å†³æ–¹æ¡ˆï¼š åˆ©ç”¨playwrightæˆ–è€…pyppeteerè¿™æ ·çš„è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…· åœ¨é¡µé¢ä¸Šæ‰§è¡Œä¸‹é¢çš„JSä»£ç ï¼Œå³å¯è·å–contentã€‚æ³¨æ„ï¼šbeforeæ˜¯ä¼ªç±»ï¼Œä¹Ÿå¯èƒ½æ˜¯afterã€‚ 123const el = document.querySelector(&quot;ç±»é€‰æ‹©å™¨&quot;)const styles = getComputedStyle(el,&#x27;before&#x27;)console.log(styles.content) # æ‰“å°æ•°æ®å€¼ åˆ©ç”¨å­—ç¬¦åˆ‡å‰²åçˆ¬è™«åçˆ¬åŸç†ï¼š å°†å­—ç¬¦ä¸²ç”¨æ ‡ç­¾åˆ†å‰² ç”±äºæ˜¯å†…è”å—çº§ï¼ˆinline-blockï¼‰,å¯ä»¥ä¸€è¡Œå±•ç¤º é€šå¸¸è¿˜æ··æ·†æœ‰ä¸ç°å®çš„æ ‡ç­¾ï¼ˆdisplay:noneï¼‰ è§£å†³æ–¹æ¡ˆï¼š å°†å†…è”å—çº§æ ‡ç­¾çš„innerTextæ‹¼æ¥èµ·æ¥ æ³¨æ„è¿‡æ»¤æ‰æ‰€æœ‰çš„display:noneçš„å±æ€§ SVGæ˜ å°„åçˆ¬è™«SVG æ˜¯ç”¨äºæè¿°äºŒç»´çŸ¢é‡å›¾å½¢çš„ä¸€ç§å›¾å½¢æ ¼å¼ã€‚å®ƒåŸºäº XML æè¿°å›¾ å½¢ï¼Œå¯¹å›¾å½¢è¿›è¡Œæ”¾å¤§æˆ–ç¼©å°æ“ä½œéƒ½ä¸ä¼šå½±å“å›¾å½¢è´¨é‡ã€‚çŸ¢é‡å›¾å½¢çš„è¿™ ä¸ªç‰¹ç‚¹ä½¿å¾—å®ƒè¢«å¹¿æ³›åº”ç”¨åœ¨ Web ç½‘ç«™ä¸­ã€‚ SVGåçˆ¬è™«æ‰‹æ®µç”¨çŸ¢é‡å›¾å½¢ä»£æ›¿å…·ä½“çš„æ–‡å­—ï¼Œä¸ä¼šå½±å“ç”¨æˆ·æ­£å¸¸é˜…è¯»ï¼Œä½†çˆ¬è™«ç¨‹åº å´æ— æ³•åƒè¯»å–æ–‡å­—é‚£æ ·è·å¾—SVGå›¾å½¢ä¸­çš„å†…å®¹ã€‚ç”±äº SVGä¸­çš„å›¾å½¢ä»£è¡¨çš„ä¹Ÿæ˜¯ä¸€ä¸ªä¸ªæ–‡å­—ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨æ—¶å¿…é¡»åœ¨åç«¯æˆ–å‰ç«¯å°†çœŸå®çš„æ–‡å­—ä¸å¯¹åº”çš„SVGå›¾å½¢è¿›è¡Œæ˜ å°„å’Œæ›¿æ¢ï¼Œè¿™ç§åçˆ¬è™«æ‰‹æ®µè¢«ç§°ä¸ºSVGæ˜ å°„åçˆ¬è™«ã€‚ ä¸¾ä¾‹ï¼š ç½‘å€ï¼šhttp://www.porters.vip/confusion/food.html å¯ä»¥çœ‹åˆ°ï¼Œå¾ˆå¤šæ•°å­—åœ¨åŸå§‹HTMLé¡µé¢ä¸­éƒ½æ²¡æœ‰ï¼Œè€Œæ˜¯ä»¥æ ‡ç­¾å½¢å¼å‡ºç°ï¼Œå¦‚ä¸‹å›¾ï¼š image-20220321222654775 è€Œå•†å®¶ç”µè¯å·ç å¤„çš„æ˜¾ç¤ºå°±æ›´å¥‡æ€ªäº†ï¼Œä¸€ ä¸ªæ•°å­—éƒ½æ²¡æœ‰ã€‚å•†å®¶ç”µè¯å¯¹åº”çš„ HTML ä»£ç å¦‚ä¸‹: 1234567891011&lt;div class=&quot;col more&quot;&gt;ç”µè¯ï¼š &lt;d class=&quot;vhkbvu&quot;&gt;&lt;/d&gt; &lt;d class=&quot;vhk08k&quot;&gt;&lt;/d&gt; &lt;d class=&quot;vhk08k&quot;&gt;&lt;/d&gt; &lt;d class=&quot;&quot;&gt;-&lt;/d&gt; &lt;d class=&quot;vhk84t&quot;&gt;&lt;/d&gt; &lt;d class=&quot;vhk6zl&quot;&gt;&lt;/d&gt; &lt;d class=&quot;vhkqsc&quot;&gt;&lt;/d&gt; &lt;d class=&quot;vhkqsc&quot;&gt;&lt;/d&gt; &lt;d class=&quot;vhk6zl&quot;&gt;&lt;/d&gt;&lt;/div&gt; æˆ‘ä»¬æ¨æµ‹å®ƒæ˜¯ç”¨dæ ‡ç­¾æ¥å ä½ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼Œé€šè¿‡classå±æ€§æ¥åŒºåˆ†ä»£è¡¨æ•°å­—çš„å«ä¹‰ã€‚æˆ‘ä»¬é€šè¿‡é¡µé¢ä¸Šå·²ç»å±•ç¤ºçš„æ•°å­—ï¼Œæ¥å»ºç«‹ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œå¦‚ä¸‹ï¼š 1234567&lt;d class=&quot;vhk08k&quot;&gt;&lt;/d&gt; &lt;!-- 0 --&gt;&lt;d class=&quot;vhk6zl&quot;&gt;&lt;/d&gt; &lt;!-- 1 --&gt;&lt;d class=&quot;vhk9or&quot;&gt;&lt;/d&gt; &lt;!-- 2 --&gt;&lt;d class=&quot;vhkbvu&quot;&gt;&lt;/d&gt; &lt;!-- 4 --&gt;&lt;d class=&quot;vhk84t&quot;&gt;&lt;/d&gt; &lt;!-- 5 --&gt;&lt;d class=&quot;vhkqsc&quot;&gt;&lt;/d&gt; &lt;!-- 7 --&gt;&lt;d class=&quot;vhkjj4&quot;&gt;&lt;/d&gt; &lt;!-- 8 --&gt; é‚£å‰©ä½™çš„å‡ ä¸ªæ•°å­—å¦‚3ï¼Œ6ï¼Œ9åˆ°å“ªé‡Œå»æ‰¾å‘¢ï¼Ÿæ—¢ç„¶æ˜¯é€šè¿‡classåŒºåˆ†ï¼Œé‚£ä¹ˆclassçš„æ ·å¼è‚¯å®šä¼šåœ¨CSSæ–‡ä»¶ä¸­æœ‰å®šä¹‰ã€‚ image-20220321224556130 æˆ‘ä»¬å»CSSæ–‡ä»¶ä¸­æ‰¾ï¼Œæœç„¶æ‰¾åˆ°äº†ä»¥ä¸‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930.vhk08k &#123; background: -274px -141px;&#125;.vhk6zl &#123; background: -7px -15px;&#125;.vhk9or &#123; background: -330px -141px;&#125;.vhkfln &#123; background: -428px -15px;&#125;.vhkbvu &#123; background: -386px -97px;&#125;.vhk84t &#123; background: -176px -141px;&#125;.vhkvxd &#123; background: -246px -141px;&#125;.vhkqsc &#123; background: -288px -141px;&#125;.vhkjj4 &#123; background: -316px -141px;&#125;.vhk0f1 &#123; background: -316px -97px;&#125; ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡ä¸æˆ‘ä»¬ä¸Šè¾¹æ¨æ–­çš„å‡ ä¸ªæ•°å­—ç›¸å¯¹åº”ï¼Œå› æ­¤ï¼Œåˆ¤å®š&lt;d class=&quot;vhkfln&quot;&gt;&lt;/d&gt;å¯¹åº”æ•°å­—3ï¼Œ&lt;d class=&quot;vhkvxd&quot;&gt;&lt;/d&gt;å¯¹åº”æ•°å­—6ï¼Œ&lt;d class=&quot;vhk0f1&quot;&gt;&lt;/d&gt;å¯¹åº”æ•°å­—9ã€‚è‡³æ­¤ï¼Œå°±ç ´è§£äº†å…¨éƒ¨çš„æ•°å­—äº†ã€‚ æ€»ç»“æœ¬æ–‡ç®€å•ä»‹ç»äº†å‡ ç§å¸¸è§çš„CSSåçˆ¬ï¼Œç„¶åä¸¾äº†ä¸€äº›ç®€å•çš„ä¾‹å­åŠ ä»¥åˆ†æï¼Œå¹¶æ²¡æœ‰æ¶‰åŠå¤ªå¤šçš„ä»£ç å±‚é¢ï¼Œè€Œä¸”æ¶‰åŠåˆ°çš„çŸ¥è¯†ä¹Ÿæ¯”è¾ƒæµ…æ˜¾ï¼Œåªæ˜¯æµ…å°åˆ™æ­¢ã€‚å› ä¸ºæœ¬æ–‡æ˜¯ä½œä¸ºCSSåçˆ¬çš„å¼€ç¯‡å†…å®¹ï¼Œåè¾¹ä¼šæœ‰ä¸“é—¨çš„æ–‡ç« ï¼Œåˆ©ç”¨æ›´å¸¸è§çš„ç½‘ç«™ï¼Œéš¾åº¦æ›´å¤§çš„ç½‘ç«™ï¼Œå»æ·±å…¥åˆ†ææ¯ä¸€ç§CSSåçˆ¬ã€‚","tags":[{"name":"CSS","slug":"CSS","permalink":"https://blog.heshipeng.com/tags/CSS/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://blog.heshipeng.com/tags/%E7%88%AC%E8%99%AB/"}]},{"title":"JSé€†å‘ä¹‹æ··æ·†JSæ‰‹åŠ¨é€†å‘","date":"2022-03-08T12:24:52.000Z","path":"JSé€†å‘ä¹‹æ··æ·†JSæ‰‹åŠ¨é€†å‘/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ å‰è¨€å†™ä½œç›®çš„ï¼šè®°å½•æ‰‹åŠ¨é€†å‘ä¸€ä¸ªJSé«˜åº¦æ··æ·†çš„ç½‘ç«™çš„æ•´ä¸ªè¿‡ç¨‹ã€‚ ç½‘å€ï¼šaHR0cHM6Ly81NTI0OTY5Ni5jb206Nzc3Ny8= é€†å‘è¿‡ç¨‹è¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å§‹è°ƒè¯•ã€‚è¾“å…¥ç”¨æˆ·å17777777777å’Œå¯†ç 123456ç‚¹å‡»ç™»å½•ï¼Œå¼¹å‡ºéªŒè¯ç ï¼š image-20220308163635586 ä¸€èˆ¬æ¥è¯´ç½‘ç«™å¦‚æœå‡ºç°å¤æ‚éªŒè¯ç éƒ½ä¼šé…åˆJSå‚æ•°åŠ å¯†å¢åŠ é˜²æŠ¤ç­‰çº§ã€‚æˆ‘ä»¬æŠ“åŒ…æŠ“åˆ°2ä¸ªXHRè¯·æ±‚ï¼š image-20220308163823432 åˆæ­¥æ¨æµ‹ç¬¬ä¸€ä¸ªè¯·æ±‚getæ˜¯è·å–éªŒè¯ç ï¼Œç¬¬äºŒä¸ªè¯·æ±‚checkæ˜¯æ ¡éªŒéªŒè¯ç ã€‚ä»Šå¤©çš„ç›®æ ‡å°±æ˜¯ç ´è§£è¿™ä¸¤ä¸ªè¯·æ±‚çš„åŠ å¯†å‚æ•°ä¸è¿”å›å€¼ã€‚ æˆ‘ä»¬è§‚å¯Ÿè¿™2ä¸ªæ¥å£ï¼Œå‘ç°checkè¯·æ±‚çš„å‚æ•°åŒ…å«getè¯·æ±‚çš„å‚æ•°ï¼Œæ‰€ä»¥åªéœ€è¦è§£å†³checkè¯·æ±‚çš„å‚æ•°å°±è¡Œäº†ã€‚ æˆ‘ä»¬ç›´æ¥çœ‹checkè¯·æ±‚ï¼Œåœ¨Sourceé¢æ¿æ‰“ä¸ŠXHRæ–­ç‚¹ï¼Œæ–­ä½checkv3.phpè¯·æ±‚ï¼š image-20220308170430516 åœ¨Call Stackä¸­æ‰¾åˆ°ä¸€ä¸ªç–‘ä¼¼åŠ å¯†ç‚¹ï¼š image-20220308170529279 ç‚¹å‡»è¿›å»ï¼Œå¯ä»¥çœ‹åˆ°JSä»£ç åŸºæœ¬ä¸Šæ˜¯é«˜åº¦æ··æ·†çš„ï¼š image-20220308170617796 æˆ‘ä»¬æŠŠæ–­ç‚¹æ–­åˆ°æ‹¼æ¥è¯·æ±‚å‚æ•°çš„åœ°æ–¹ï¼š image-20220309105805200 é€†å‘URLç”Ÿæˆè§„åˆ™å…ˆçœ‹ä¸‹URLçš„ç”Ÿæˆï¼Œæ‰£å‡ºä»£ç ï¼š 1&#x27;url&#x27;: _0x15a5d0[_0x59cb56(0x8bc, 0x763, 0xba1, &#x27;0jdF&#x27;, 0x6bd)](_0x15a5d0[_0x59cb56(0x8ea, 0x8b8, 0x9b2, &#x27;m*3l&#x27;, 0xcfc)], _0x36b61f), æˆ‘ä»¬å†å–å‡º_0x15a5d0[_0x59cb56(0x8bc, 0x763, 0xba1, &#39;0jdF&#39;, 0x6bd)]æ”¾åˆ°consoleä¸Šè¾“å‡ºï¼Œå‘ç°å…¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š image-20220309110157210 ç‚¹å‡»è¿›å»ï¼Œçœ‹åˆ°å®ƒæ˜¯ä¸€ä¸ªèŠ±æŒ‡ä»¤ï¼Œå°±æ˜¯æŠŠä¸¤ä¸ªå‚æ•°ç›¸åŠ ï¼š image-20220309110253933 æ‰€ä»¥URLå‚æ•°çš„ç”Ÿæˆå®é™…ä¸Šæ˜¯è°ƒç”¨ä¸€ä¸ªåŠ æ³•ï¼ŒæŠŠä¸¤ä¸ªå‚æ•°ç›¸åŠ ã€‚æˆ‘ä»¬å†çœ‹è¿™ä¸ªåŠ æ³•ä¼ å…¥çš„2ä¸ªå‚æ•°ã€‚_0x15a5d0[_0x59cb56(0x8ea, 0x8b8, 0x9b2, &#39;m*3l&#39;, 0xcfc)]å’Œ_0x36b61fã€‚ `_0x15a5d0[_0x59cb56(0x8ea, 0x8b8, 0x9b2, &#39;m*3l&#39;, 0xcfc)]æ˜¯ä¸€ä¸ªå›ºå®šçš„åœ°å€ã€‚ image-20220309110445528 _0x36b61fæ˜¯ä¸€ä¸ª13ä½æ•°çš„æ—¶é—´æˆ³ã€‚ image-20220309110602734 æ‰€ä»¥URLå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå›ºå®šçš„åœ°å€æ‹¼æ¥ä¸€ä¸ª13ä½çš„æ—¶é—´æˆ³ï¼Œå³/yzmtest/checkv3.php?t={13ä½æ—¶é—´æˆ³}ã€‚ é€†å‘dataç”Ÿæˆè§„åˆ™å…ˆæ‰£å‡ºdataç”Ÿæˆé‚£ä¸€éƒ¨åˆ†ä»£ç ï¼š 1234567&#x27;data&#x27;: _0xf828e5[_0x59cb56(0x7c7, 0x4a1, 0x425, &#x27;F^5Z&#x27;, 0x1f3)](JSON[_0x2e7c5c(0x9ff, 0x5fa, 0x813, &#x27;Ra[M&#x27;, 0x821) + _0x160f59(0x921, 0x690, 0x2a4, &#x27;ZP*j&#x27;, 0x657)]( &#123; &#x27;d&#x27;: _0x15a5d0[_0x2e7c5c(0x2ce, 0x61d, 0xa5a, &#x27;4[E4&#x27;, 0x33d)](_0x15a5d0[_0x160f59(0x4a2, 0x99e, 0xb7e, &#x27;ZHhp&#x27;, 0xb6b)](_0x15a5d0[_0x59cb56(0x92b, 0x683, 0x968, &#x27;F^5Z&#x27;, 0x9a7)](_0x15a5d0[_0x160f59(0x11f, 0x403, 0x29d, &#x27;AVXK&#x27;, 0x518)](_0x4fd69b[_0x8eb3(0xc7a, 0x728, 0x704, &#x27;OBf4&#x27;, 0xc4c)](&#x27;&#x27;), &#x27;&#x27;), _0xf828e5[_0x8eb3(0x136, 0x44f, 0x748, &#x27;HZxj&#x27;, 0x2a3) + &#x27;en&#x27;]), _0x36b61f[_0x556be9(0x5cf, 0x870, 0x50b, &#x27;Ra[M&#x27;, 0x3af) + &#x27;r&#x27;](-(0x2670 + -0x77d * -0x2 + -0x3568 * 0x1))), _0xf828e5[_0x160f59(0xae3, 0x5f9, 0x92d, &#x27;NUpf&#x27;, 0x8a5)]), &#x27;username&#x27;: _0xf828e5[_0x2e7c5c(0x241, 0x70d, 0x75c, &#x27;o4oN&#x27;, 0x1eb) + _0x8eb3(0xac, 0x90, 0x5c9, &#x27;o4oN&#x27;, 0x3a8)], &#x27;password&#x27;: _0xf828e5[_0x2e7c5c(0x4b3, 0x757, 0x5d1, &#x27;*EQ3&#x27;, 0x86a) + _0x2e7c5c(0xb07, 0x6f1, 0xa86, &#x27;ZP*j&#x27;, 0x2bd)] &#125;)) åœ¨consoleé¢æ¿ä¸Šï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºï¼Œusernameæ˜¯æˆ‘ä»¬è¾“å…¥çš„è´¦å·17777777777å‰é¢æ‹¼æ¥äº†e5ã€‚ image-20220309181634727 â€‹ passwordåˆ™æ˜¯æ˜æ–‡ï¼š image-20220309181714546 â€‹ æ‰€ä»¥ä¸Šé¢çš„ä»£ç å¯ä»¥åŠ ä»¥ç®€åŒ–ä¸ºï¼š 1234567&#x27;data&#x27;: _0xf828e5[_0x59cb56(0x7c7, 0x4a1, 0x425, &#x27;F^5Z&#x27;, 0x1f3)](JSON[_0x2e7c5c(0x9ff, 0x5fa, 0x813, &#x27;Ra[M&#x27;, 0x821) + _0x160f59(0x921, 0x690, 0x2a4, &#x27;ZP*j&#x27;, 0x657)]( &#123; &#x27;d&#x27;: _0x15a5d0[_0x2e7c5c(0x2ce, 0x61d, 0xa5a, &#x27;4[E4&#x27;, 0x33d)](_0x15a5d0[_0x160f59(0x4a2, 0x99e, 0xb7e, &#x27;ZHhp&#x27;, 0xb6b)](_0x15a5d0[_0x59cb56(0x92b, 0x683, 0x968, &#x27;F^5Z&#x27;, 0x9a7)](_0x15a5d0[_0x160f59(0x11f, 0x403, 0x29d, &#x27;AVXK&#x27;, 0x518)](_0x4fd69b[_0x8eb3(0xc7a, 0x728, 0x704, &#x27;OBf4&#x27;, 0xc4c)](&#x27;&#x27;), &#x27;&#x27;), _0xf828e5[_0x8eb3(0x136, 0x44f, 0x748, &#x27;HZxj&#x27;, 0x2a3) + &#x27;en&#x27;]), _0x36b61f[_0x556be9(0x5cf, 0x870, 0x50b, &#x27;Ra[M&#x27;, 0x3af) + &#x27;r&#x27;](-(0x2670 + -0x77d * -0x2 + -0x3568 * 0x1))), _0xf828e5[_0x160f59(0xae3, 0x5f9, 0x92d, &#x27;NUpf&#x27;, 0x8a5)]), &#x27;username&#x27;: &#x27;e517777777777&#x27;, &#x27;password&#x27;: &#x27;123456&#x27; &#125;)) è°ƒè¯•ä¸‹_0x59cb56(0x7c7, 0x4a1, 0x425, &#39;F^5Z&#39;, 0x1f3) image-20220309182331379 å†è°ƒè¯•ä¸‹_0x2e7c5c(0x9ff, 0x5fa, 0x813, &#39;Ra[M&#39;, 0x821) + _0x160f59(0x921, 0x690, 0x2a4, &#39;ZP*j&#39;, 0x657)ï¼š image-20220309182359819 æŠŠä¸Šé¢çš„ä»£ç ç®€åŒ–ä¸‹ï¼š 1234567&#x27;data&#x27;: _0xf828e5.enc.JSON.stringify( &#123; &#x27;d&#x27;: _0x15a5d0[_0x2e7c5c(0x2ce, 0x61d, 0xa5a, &#x27;4[E4&#x27;, 0x33d)](_0x15a5d0[_0x160f59(0x4a2, 0x99e, 0xb7e, &#x27;ZHhp&#x27;, 0xb6b)](_0x15a5d0[_0x59cb56(0x92b, 0x683, 0x968, &#x27;F^5Z&#x27;, 0x9a7)](_0x15a5d0[_0x160f59(0x11f, 0x403, 0x29d, &#x27;AVXK&#x27;, 0x518)](_0x4fd69b[_0x8eb3(0xc7a, 0x728, 0x704, &#x27;OBf4&#x27;, 0xc4c)](&#x27;&#x27;), &#x27;&#x27;), _0xf828e5[_0x8eb3(0x136, 0x44f, 0x748, &#x27;HZxj&#x27;, 0x2a3) + &#x27;en&#x27;]), _0x36b61f[_0x556be9(0x5cf, 0x870, 0x50b, &#x27;Ra[M&#x27;, 0x3af) + &#x27;r&#x27;](-(0x2670 + -0x77d * -0x2 + -0x3568 * 0x1))), _0xf828e5[_0x160f59(0xae3, 0x5f9, 0x92d, &#x27;NUpf&#x27;, 0x8a5)]), &#x27;username&#x27;: &#x27;e517777777777&#x27;, &#x27;password&#x27;: &#x27;123456&#x27; &#125;)) å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæ˜¯ç”¨äº†æŸç§åŠ å¯†ç®—æ³•å¯¹{â€œdâ€: xxx, â€œusernameâ€: â€œxxxâ€, â€œpasswordâ€: â€œxxxâ€}è¿›è¡ŒåŠ å¯†ä»è€Œå¾—åˆ°dataã€‚è¿™ä¸ªåŠ å¯†ç®—æ³•åˆ°åº•æ˜¯ä»€ä¹ˆåŠ å¯†å‘¢ï¼Ÿæˆ‘ä»¬consoleé¢æ¿ä¸Šè¾“å…¥_0xf828e5.encç„¶åç‚¹å‡»è¿›å»ï¼š image-20220309184438821 çœ‹åˆ°äº†æ•´ä¸ªæ–¹æ³•æœ‰2ä¸ªåˆ†æ”¯ï¼Œæˆ‘ä»¬åˆ†åˆ«å¯¹2ä¸ªåˆ†æ”¯æ‰“ä¸Šæ–­ç‚¹ï¼Œå‘ç°åªè¿›å»elseäº†ã€‚å¦‚æœå¯¹JSå¸¸è§çš„åŠ å¯†æœ‰è¿‡äº†è§£çš„è¯ï¼Œè¿™é‡Œçœ‹åˆ°ivï¼Œmodeï¼Œpaddingè¿™ä¸‰ä¸ªå…³é”®å­—ç«‹é©¬ä¼šæƒ³åˆ°ç”¨çš„æ˜¯AESåŠ å¯†ç®—æ³•ã€‚ç¬¬ä¸€ä¸ªå‚æ•°_0x4d04a3æ˜¯å¾…åŠ å¯†çš„å­—ç¬¦ä¸²ï¼š image-20220310100612354 ç¬¬äºŒä¸ªå‚æ•°this[_0x19e2aa(0x93, 0x454, â€˜cu5Xâ€™, 0x139, 0x43d) + â€˜eâ€™]æ˜¯å¯†é’¥ã€‚æˆ‘ä»¬æ‰“å°å‡ºå…¶å†…å®¹ï¼š 123456789var key = &#123; &quot;words&quot;: [ 1701066809, 929182054, 1698117986, 1697659188 ], &quot;sigBytes&quot;: 16&#125;; ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯AESåŠ å¯†çš„ä¸€äº›å‚æ•°ï¼Œmodeä¸€èˆ¬æ˜¯CBCï¼Œpaddingä¸é‡è¦å¯ä»¥ä¸ä¼ ã€‚æœ€åæˆ‘ä»¬åœ¨consoleä¸Šè¾“å‡ºivçš„å€¼ï¼š 123456789var iv = &#123; &quot;words&quot;: [ 1668053103, 875983984, 1731224932, 943273826 ], &quot;sigBytes&quot;: 16&#125;; æœ‰äº†AESåŠ å¯†çš„è¿™å‡ ä¸ªå‚æ•°æˆ‘ä»¬å°±å¯ä»¥å¾ˆç®€å•çš„è¿˜åŸå‡ºè§£å¯†ç®—æ³•äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829var CryptoJS = require(&quot;crypto-js&quot;);var key = &#123; &quot;words&quot;: [ 1701066809, 929182054, 1698117986, 1697659188 ], &quot;sigBytes&quot;: 16&#125;; // å¯†é’¥ï¼Œå·²ç»è½¬åŒ–ä¸º128bitçš„æ ¼å¼ã€‚var iv = &#123; &quot;words&quot;: [ 1668053103, 875983984, 1731224932, 943273826 ], &quot;sigBytes&quot;: 16&#125;; // IVï¼Œå·²ç»è½¬åŒ–ä¸º128bitçš„æ ¼å¼ã€‚function Decrypt(word) &#123; let a = CryptoJS.AES.decrypt(word, key, &#123; iv: iv, mode: CryptoJS.mode.CBC &#125;); return CryptoJS.enc.Utf8.stringify(a);&#125;let data = &quot;&quot;;console.log(Decrypt(data)); è¿˜è®°å¾—å‰é¢æˆ‘ä»¬æåˆ°è¿‡æŠ“åˆ°2ä¸ªXHRè¯·æ±‚å—ï¼Ÿä¸€ä¸ªæ˜¯è¯·æ±‚éªŒè¯ç çš„ï¼Œä¸€ä¸ªæ˜¯è¿›è¡ŒéªŒè¯ç éªŒè¯çš„ã€‚æˆ‘ä»¬çœ‹ç¬¬ä¸€ä¸ªè¯·æ±‚éªŒè¯ç çš„è¯·æ±‚ã€‚ image-20220310101530093 è¿™ä¸ªè¿”å›å€¼cæ˜¯ä¸æ˜¯å°±æ˜¯ç”¨çš„AESåŠ å¯†å‘¢ï¼Ÿæˆ‘ä»¬ç”¨ä¸Šè¾¹çš„è§£ç ç¨‹åºè¯•éªŒä¸€ä¸‹ã€‚æœä¸å…¶ç„¶ï¼Œå¯ä»¥æ­£ç¡®åè§£å‡ºåŠ å¯†å†…å®¹ï¼š image-20220310101738862 é‡Œé¢çš„ä¸€ä¸²JSONæ­£å¥½æ˜¯æˆ‘ä»¬åˆšæ‰å‡ºç°çš„éªŒè¯ç çš„å†…å®¹ï¼š 12345678[ &#123;id: &#x27;90b389d8490d42a8&#x27;, txt: &#x27;é¸­å­&#x27;&#125;, &#123;id: &#x27;a7985fb229d9e935&#x27;, txt: &#x27;é•¿é¢ˆé¹¿&#x27;&#125;, &#123;id: &#x27;c38548f7b6c0a3d8&#x27;, txt: &#x27;å°é©¬&#x27;&#125;, &#123;id: &#x27;4c2c8bc886b8bf8d&#x27;, txt: &#x27;æµ·é©¬&#x27;&#125;, &#123;id: &#x27;25897767b2ffc531&#x27;, txt: &#x27;ç‰›&#x27;&#125;, &#123;id: &#x27;24bafe8f4a1eac0e&#x27;, txt: &#x27;æ–‘é©¬&#x27;&#125;,] è®°ä½è¿™ä¸ªJSONï¼Œæˆ‘ä»¬å¾…ä¼šè¿˜æœ‰ç”¨ã€‚æˆ‘ä»¬æ¥ç€å›åˆ°dataç ´è§£çš„æ€è·¯ä¸Šå»ã€‚dataçš„ç”Ÿæˆä»£ç è¿›ä¸€æ­¥ç®€åŒ–ï¼š 1234567&#x27;data&#x27;: AES.encode( &#123; &#x27;d&#x27;: _0x15a5d0[_0x2e7c5c(0x2ce, 0x61d, 0xa5a, &#x27;4[E4&#x27;, 0x33d)](_0x15a5d0[_0x160f59(0x4a2, 0x99e, 0xb7e, &#x27;ZHhp&#x27;, 0xb6b)](_0x15a5d0[_0x59cb56(0x92b, 0x683, 0x968, &#x27;F^5Z&#x27;, 0x9a7)](_0x15a5d0[_0x160f59(0x11f, 0x403, 0x29d, &#x27;AVXK&#x27;, 0x518)](_0x4fd69b[_0x8eb3(0xc7a, 0x728, 0x704, &#x27;OBf4&#x27;, 0xc4c)](&#x27;&#x27;), &#x27;&#x27;), _0xf828e5[_0x8eb3(0x136, 0x44f, 0x748, &#x27;HZxj&#x27;, 0x2a3) + &#x27;en&#x27;]), _0x36b61f[_0x556be9(0x5cf, 0x870, 0x50b, &#x27;Ra[M&#x27;, 0x3af) + &#x27;r&#x27;](-(0x2670 + -0x77d * -0x2 + -0x3568 * 0x1))), _0xf828e5[_0x160f59(0xae3, 0x5f9, 0x92d, &#x27;NUpf&#x27;, 0x8a5)]), &#x27;username&#x27;: &#x27;e517777777777&#x27;, &#x27;password&#x27;: &#x27;123456&#x27; &#125;)) æ¥ä¸‹æ¥çœ‹çœ‹æœ€æ ¸å¿ƒçš„dçš„ç”Ÿæˆè§„åˆ™ã€‚_0x15a5d0[_0x2e7c5c(0x2ce, 0x61d, 0xa5a, â€˜4[E4â€™, 0x33d)]æ˜¯ä¸€ä¸ªåŠ æ³•çš„èŠ±æŒ‡ä»¤ã€‚ image-20220310102400570 _0x15a5d0[_0x59cb56(0x92b, 0x683, 0x968, â€˜F^5Zâ€™, 0x9a7)]ä¹Ÿæ˜¯ä¸€ä¸ªåŠ æ³•çš„èŠ±æŒ‡ä»¤ï¼š image-20220310102640758 _0x15a5d0[_0x59cb56(0x92b, 0x683, 0x968, â€˜F^5Zâ€™, 0x9a7)]ä¹Ÿæ˜¯åŠ æ³•èŠ±æŒ‡ä»¤ã€‚ image-20220310102715978 _0x15a5d0[_0x160f59(0x11f, 0x403, 0x29d, â€˜AVXKâ€™, 0x518)]ä¾æ—§æ˜¯ä¸€ä¸ªåŠ æ³•èŠ±æŒ‡ä»¤ã€‚ image-20220310102811012 _0x4fd69b[_0x8eb3(0xc7a, 0x728, 0x704, â€˜OBf4â€™, 0xc4c)]æ˜¯å†…ç½®çš„joinæ–¹æ³•ã€‚ image-20220310102934544 _0x4fd69bæ˜¯ä¸ªå­—ç¬¦ä¸²ï¼š image-20220310105915453 _0x8eb3(0x136, 0x44f, 0x748, â€˜HZxjâ€™, 0x2a3) + â€˜enâ€™æ˜¯å­—ç¬¦ä¸²$strlen image-20220310103214178 _0xf828e5[_0x8eb3(0x136, 0x44f, 0x748, â€˜HZxjâ€™, 0x2a3) + â€˜enâ€™]åˆ™æ˜¯å–_0xf828e5è¿™ä¸ªobjectçš„$strlenå±æ€§ï¼Œè¿™é‡Œçš„å€¼æ˜¯3ã€‚ _0x556be9(0x5cf, 0x870, 0x50b, â€˜Ra[Mâ€™, 0x3af) + â€˜râ€™è¿™é‡Œæ˜¯substrã€‚ image-20220310104111880 _0x36b61fæ˜¯13ä½çš„æ—¶é—´æˆ³ã€‚ image-20220310104215390 -(0x2670 + -0x77d -0x2 + -0x3568 0x1)æ˜¯å›ºå®šçš„å¸¸é‡ï¼Œ-2ã€‚ image-20220310104254188 _0x160f59(0xae3, 0x5f9, 0x92d, â€˜NUpfâ€™, 0x8a5)æ˜¯å­—ç¬¦ä¸²$verã€‚è¿™ä¸ªverå…¶å®åœ¨æˆ‘ä»¬åˆšæ‰è§£ç ç¬¬ä¸€ä¸ªè¯·æ±‚çš„è¿”å›å€¼çš„é‡Œé¢å°±æœ‰äº†ï¼Œå€¼ä¸º3587ï¼Œè·Ÿè¿™é‡Œçš„å»åˆã€‚ image-20220310110046938 æœ€ç»ˆç®€åŒ–ä»£ç å¦‚ä¸‹ï¼š 12345678&#x27;data&#x27;: AES.encode( &#123; &#x27;d&#x27;: add(add(add(add(&quot;4c2c8bc886b8bf8d&quot;.join(&#x27;&#x27;), &#x27;&#x27;), _0xf828e5.$strlen), _0x36b61f.substr(-2)), _0xf828e5.$ver), // &#x27;d&#x27;: &quot;4c2c8bc886b8bf8d&quot; + _0xf828e5.$strlen + _0x36b61f.substr(-2)) + _0xf828e5.$ver &#x27;username&#x27;: &#x27;e517777777777&#x27;, &#x27;password&#x27;: &#x27;123456&#x27; &#125;)) åˆ°è¿™é‡Œdçš„ç”Ÿæˆç®—æ³•åŸºæœ¬ä¸Šä¸€ç›®äº†ç„¶äº†ã€‚d=å­—ç¬¦ä¸²(è¿™é‡Œæ˜¯4c2c8bc886b8bf8d)+_0xf828e5.$strlen(è¿™é‡Œæ˜¯3)+13ä½æ—¶é—´æˆ³çš„æœ€å2ä½(è¿™é‡Œæ˜¯17)+ç‰ˆæœ¬å·(ç¬¬ä¸€ä¸ªè¯·æ±‚æ¥å£æœ‰è¿”å›ä¸º3587)=4c2c8bc886b8bf8d3173587ã€‚æ‰£å‡ºdçš„ç”Ÿæˆä»£ç ï¼Œåœ¨consoleä¸Šè¾“å‡ºï¼ŒéªŒè¯ä¸‹ï¼š image-20220310111442039 å®Œå…¨å»åˆã€‚ç°åœ¨å”¯ä¸€çš„é—®é¢˜æ˜¯_0x4fd69bè¿™ä¸ªå­—ç¬¦ä¸²æ€ä¹ˆæ¥çš„ä»¥åŠ_0xf828e5.$strlenè¿™ä¸ªå€¼æ€ä¹ˆç®—å‡ºæ¥çš„ï¼Œè§£å†³äº†è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œdçš„ç”Ÿæˆè§„åˆ™å°±ç ´è§£äº†ã€‚ æˆ‘ä»¬æ‰‹åŠ¨æœç´¢_0x4fd69bè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œæ€»å…±æ‰¾åˆ°ä¸‰å¤„ï¼š image-20220310112140608 æ‰£å‡ºç¬¬äºŒå¤„çš„ä»£ç å¦‚ä¸‹ï¼š 1_0x4fd69b[_0x219591(&#x27;FZa9&#x27;, 0x79c, 0x826, 0x6a9, 0x45f)](_0xf828e5[_0x59b553(&#x27;W]B)&#x27;, 0xd30, 0x809, 0x809, 0x2c4)][_0x19f5d9[_0x3ebe03(&#x27;nCyg&#x27;, 0xb6c, 0x868, 0x4ee, 0xd78)](parseInt, _0x1bf4a9[_0x59b553(&#x27;#og4&#x27;, 0xbb9, 0x8a2, 0x953, 0x441) + &#x27;ce&#x27;](_0x19f5d9[_0x3ebe03(&#x27;F^5Z&#x27;, 0x448, 0xc1, -0x2ba, 0x8c)], &#x27;&#x27;))][&#x27;d&#x27;]); æŒ‰ç…§ä¸Šè¾¹æä¾›çš„æ–¹æ³•ï¼Œåœ¨consoleä¸Šåˆ†æ®µè°ƒè¯•ä»£ç å«ä¹‰ï¼Œä»£ç åæ··æ·†å¦‚ä¸‹(ä¸ºèŠ‚çœç¯‡å¹…ï¼Œä»è¿™é‡Œå¼€å§‹ï¼Œä»£ç åæ··æ·†è¿‡ç¨‹éƒ½ä¸ä¼šå†™äº†ï¼Œç›´æ¥ç»™å‡ºåæ··æ·†çš„ç»“æœ): 1_0x4fd69b.push(_0xf828e5.$list[parseInt(&quot;btncanv_3&quot;.replace(&quot;btncanv_&quot;, &quot;&quot;))][&#x27;d&#x27;]); è¿™ä¸ªä»£ç çš„æ„æ€å°±æ˜¯å–ä¸Šè¾¹æˆ‘ä»¬æåˆ°çš„éªŒè¯ç æ•°ç»„ä¸­ç´¢å¼•ä¸º3çš„å€¼ï¼Œå³4c2c8bc886b8bf8dï¼ŒæŠŠè¿™ä¸ªå€¼pushåˆ°æ•°ç»„_0x4fd69bï¼ˆè¿™é‡Œè™½ç„¶å–å¾—æ˜¯dè¿™ä¸ªå±æ€§ï¼Œä½†æ˜¯å®é™…ä¸Šdå±æ€§è·Ÿidå±æ€§çš„å€¼æ˜¯ä¸€æ ·çš„ï¼Œ_0x281004[â€˜dâ€™] = _0x3aa5c6[â€˜idâ€™]ï¼‰ã€‚è¿™é‡Œçš„è¿™ä¸ªbtncanv_3æ°å¥½æ˜¯éªŒè¯ç çš„ç­”æ¡ˆï¼Œå³æ­£ç¡®ç­”æ¡ˆçš„å…ƒç´ çš„idã€‚ image-20220310140550569 é‚£ä¹ˆè¿™ä¸ªbtncanv_3æ˜¯æ€ä¹ˆç¡®å®šçš„å‘¢ï¼Ÿæ˜¯æˆ‘ä»¬æ‰‹åŠ¨ç‚¹é€‰éªŒè¯ç å›¾æ¡ˆçš„æ—¶å€™é€‰ä¸­çš„ï¼Œæˆ‘ä»¬æ‰‹åŠ¨é€‰ä¸­äº†éªŒè¯ç å›¾æ¡ˆï¼ŒJSä»£ç ä¼šæ ¹æ®æˆ‘ä»¬é€‰ä¸­çš„å›¾æ¡ˆï¼Œæ‹¿åˆ°å®ƒçš„idï¼ˆå¦‚æœæœ‰é€‰ä¸­äº†å¤šä¸ªï¼Œä¹Ÿåªå–ç¬¬ä¸€ä¸ªï¼‰ï¼Œç„¶åè¿›è¡ŒJSåŠ å¯†ï¼Œåç«¯ä¼šæ ¹æ®ç›¸åº”çš„è§£å¯†ç®—æ³•ï¼Œæ‹¿åˆ°æˆ‘ä»¬ä¸Šä¼ çš„é‚£ä¸ªéªŒè¯ç ã€‚æˆ‘ä»¬å¼€ç¯‡æåˆ°è¿‡â€œä¸€èˆ¬æ¥è¯´ç½‘ç«™å¦‚æœå‡ºç°å¤æ‚éªŒè¯ç éƒ½ä¼šé…åˆJSå‚æ•°åŠ å¯†å¢åŠ é˜²æŠ¤ç­‰çº§â€ï¼Œè¿™é‡Œå°±éªŒè¯äº†è¿™å¥è¯ã€‚æˆ‘ä»¬è¿™é‡Œè™½ç„¶ç ´è§£äº†éªŒè¯ç éªŒè¯æ¥å£è¡¨å•æ•°æ®çš„åŠ å¯†ç®—æ³•ï¼Œä½†æ˜¯éªŒè¯ç çš„ç‚¹é€‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è¾…åŠ©ç›¸åº”çš„éªŒè¯ç è¯†åˆ«çš„ç®—æ³•ï¼Œå¸®åŠ©æˆ‘ä»¬å®ŒæˆéªŒè¯ç çš„è¯†åˆ«ä¸ç‚¹é€‰ã€‚è¿™é‡Œä¸»è¦æ˜¯è®²è§£æ‰‹åŠ¨åæ··æ·†æ–¹æ¡ˆï¼ŒéªŒè¯ç åè¾¹ä¼šæœ‰ä¸“é—¨çš„ä¸“é¢˜æ–‡ç« è¿›è¡Œä»‹ç»ï¼Œå…ˆåŸ‹ä¸€ä¸ªå‘åè¾¹è¡¥ä¸Šã€‚ æ¥ä¸‹æ¥çœ‹ä¸‹å¦å¤–ä¸€ä¸ª_0xf828e5.$strlençš„ç”Ÿæˆè§„åˆ™ã€‚æˆ‘ä»¬æ–‡ä»¶ä¸­å…¨å±€æœç´¢â€™enâ€™ï¼ˆä¸ºä»€ä¹ˆè¦æœç´¢è¿™ä¸ªï¼Ÿå› ä¸ºå‰é¢$strlençš„å­—ç¬¦ä¸²æ··æ·†æ˜¯_0x8eb3(0x136, 0x44f, 0x748, â€˜HZxjâ€™, 0x2a3) + â€˜enâ€™ï¼‰ï¼Œæœç„¶è¢«æˆ‘ä»¬æ‰¾åˆ°äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š 1this[_0x2a85c2(0x8a2, 0x60c, 0xa3d, 0x7b0, &#x27;0NjW&#x27;) + &#x27;en&#x27;] = _0x15a5d0[_0x19b874(0xc8f, 0xe5a, 0x13b9, 0xb8b, &#x27;W]B)&#x27;)](Math[_0x26b2f7(0xf44, 0xc7b, 0xbc1, 0x1077, &#x27;o4oN&#x27;)](_0x15a5d0[_0x26b578(0xfa3, 0xcfb, 0x820, 0x11b8, &#x27;m*3l&#x27;)](-0x1bcd + 0x1 * 0x1b23 + -0xaf * -0x1, Math[_0x2a85c2(0x11fb, 0xf8b, 0xd69, 0x137a, &#x27;*EQ3&#x27;) + &#x27;m&#x27;]())), -0x727 * 0x2 + 0x24d7 + -0x1f * 0xba) ä»£ç åæ··æ·†ä¹‹åæ•´ç†å¦‚ä¸‹ï¼š 1this.$strlen = Math.floor(5 * Math.random()) + 3 è‡³æ­¤ï¼Œæ•´ä¸ªdataæ•°æ®ç”Ÿæˆè¿‡ç¨‹è°ƒè¯•å®Œäº†ã€‚æœ€ç»ˆçš„ç®—æ³•ä¼ªä»£ç æ•´ç†å¦‚ä¸‹ï¼š 1234567891011121314151617181920let _0xf828e5.$strlen = Math.floor(5 * Math.random()) + 3;let _0x36b61f = new Date().getTime();let _0xf828e5.$ver = &quot;3587&quot;;let code = [ &#123;id: &#x27;90b389d8490d42a8&#x27;, txt: &#x27;é¸­å­&#x27;&#125;, &#123;id: &#x27;a7985fb229d9e935&#x27;, txt: &#x27;é•¿é¢ˆé¹¿&#x27;&#125;, &#123;id: &#x27;c38548f7b6c0a3d8&#x27;, txt: &#x27;å°é©¬&#x27;&#125;, &#123;id: &#x27;4c2c8bc886b8bf8d&#x27;, txt: &#x27;æµ·é©¬&#x27;&#125;, &#123;id: &#x27;25897767b2ffc531&#x27;, txt: &#x27;ç‰›&#x27;&#125;, &#123;id: &#x27;24bafe8f4a1eac0e&#x27;, txt: &#x27;æ–‘é©¬&#x27;&#125;,]; // è¿™ä¸ªéªŒè¯ç çš„JSONä»ç¬¬ä¸€ä¸ªæ¥å£ä¸­æ‹¿// AESçš„å¯†é’¥ä»¥åŠIVå€¼ä¸Šè¾¹å·²ç»ç»™å‡º&#x27;data&#x27;: AES.encode( &#123; &#x27;d&#x27;: code[/*äººå·¥é€‰ä¸­çš„ç¬¬ä¸€ä¸ªéªŒè¯ç çš„ç´¢å¼•*/].id + _0xf828e5.$strlen + _0x36b61f.substr(-2) + _0xf828e5.$ver &#x27;username&#x27;: &#x27;e517777777777&#x27;, &#x27;password&#x27;: &#x27;123456&#x27; &#125;)) é€†å‘clientidç”Ÿæˆè§„åˆ™æ‰£å‡ºclientidç”Ÿæˆç›¸å…³çš„ä»£ç ï¼š 1this[_0x26b2f7(0x9fc, 0xa9b, 0xe1c, 0x6b2, &#x27;%jat&#x27;) + _0x34ce5a(0x1321, 0xfb2, 0x11d0, 0x109c, &#x27;m*3l&#x27;)] = _0x1c3499[_0x2a85c2(0xf23, 0xc3d, 0x99d, 0xf50, &#x27;OBf4&#x27;)](&#x27;&#x27;)[_0x26b2f7(0xf47, 0xb49, 0xe76, 0xc02, &#x27;W]B)&#x27;) + &#x27;r&#x27;](0x4f * -0x1 + 0x1779 + -0x172a, -0x4ff * 0x3 + -0x3 * -0x75c + 0x1 * -0x70d) ä»£ç åæ··æ·†å¦‚ä¸‹ï¼š 12this.$clientid = _0x1c3499.join(&quot;&quot;).substr(0, 10)// _0x1c3499 = [&#x27;54mwjp6&#x27;, 8, &#x27;zvc&#x27;] $clientidçš„ç”Ÿæˆè§„åˆ™ä¾èµ–_0x1c3499ï¼Œæˆ‘ç»§ç»­å¾€ä¸‹çœ‹ï¼Œæ‰£å‡º_0x1c3499çš„ç›¸å…³ä»£ç ï¼š 1234_0x1c3499 = []_0x1c3499[_0x26b578(0xc37, 0xd61, 0x122c, 0xeeb, &#x27;g(lc&#x27;)](_0x3e49dd[_0x2a85c2(0x1ea, 0x608, 0x810, 0xf3, &#x27;o4oN&#x27;) + &#x27;r&#x27;](-0x5f * 0x1b + -0x1 * 0x15c1 + 0x1fc6, _0x15a5d0[_0x26b578(0xee3, 0xb7c, 0x893, 0xddb, &#x27;HZxj&#x27;)](_0x3badf1, -0x1 * -0x14e3 + 0x26 * -0x56 + 0x81e * -0x1))),_0x1c3499[_0x34ce5a(0x10ca, 0xef3, 0xa62, 0x10c1, &#x27;[tJe&#x27;)](_0x3badf1),_0x1c3499[_0x19b874(0x4bb, 0x55a, 0x35d, 0x7ce, &#x27;R[NP&#x27;)](_0x3e49dd[_0x2a85c2(0x11c, 0x5da, 0xde, 0x229, &#x27;FrGG&#x27;) + &#x27;r&#x27;](_0x3badf1, _0x3e49dd[_0x26b578(0xf55, 0xbca, 0x95d, 0xd00, &#x27;0jdF&#x27;) + &#x27;t&#x27;])), ä»£ç åæ··æ·†å¦‚ä¸‹ï¼š 123456_0x1c3499 = [];_0x1c3499.push(_0x3e49dd.substr(0, _0x3badf1 - 1)); //_0x1c3499.push(54mwjp6)_0x1c3499.push(_0x3badf1); //_0x1c3499.push(8)_0x3e49dd.push(_0x3e49dd.substr(_0x3badf1, _0x3e49dd.length)); //_0x1c3499.push(zvc)// _0x3e49dd = &quot;54mwjp6tzvc&quot;// _0x3badf1 = 8 å¯ä»¥çœ‹åˆ°__0x1c3499çš„å€¼åˆä¾èµ–_0x3e49ddå’Œ_0x3badf1ã€‚æˆ‘ä»¬å†æ‰£å‡ºç›¸åº”çš„ä»£ç ï¼š 123_0x3e49dd = _0x15a5d0[_0x2a85c2(0x240, 0x6a9, 0x570, 0x230, &#x27;ZP*j&#x27;)](Number, _0x15a5d0[_0x26b578(0x8cc, 0xaab, 0xa86, 0xf1d, &#x27;NUpf&#x27;)](Math[_0x19b874(0x12ba, 0xd7c, 0xb35, 0xe72, &#x27;o4oN&#x27;) + &#x27;m&#x27;]()[_0x34ce5a(0xffa, 0xa91, 0x802, 0xe92, &#x27;uUCz&#x27;) + _0x19b874(0x174, 0x684, 0x9d7, 0x737, &#x27;G0Im&#x27;)]()[_0x26b2f7(0xaa8, 0x6bd, 0x562, 0x35a, &#x27;F^5Z&#x27;) + &#x27;r&#x27;](0x10 * 0xc2 + 0x6d * -0x5 + -0x9 * 0x11c, 0xb3 * 0x35 + 0x13 * 0x1a5 + -0x444a * 0x1), Date[_0x26b2f7(0xbf3, 0xd8c, 0xaf2, 0xacf, &#x27;g(lc&#x27;)]()))[_0x26b578(0x326, 0x69f, 0xaa3, 0x78d, &#x27;*EQ3&#x27;) + _0x26b2f7(0x8dc, 0x900, 0x8f0, 0xa3a, &#x27;hROy&#x27;)](0x143b + 0x53c + -0x1953) _0x3badf1 = _0x15a5d0[_0x34ce5a(0x11ce, 0xdf7, 0x9a2, 0xad1, &#x27;!OnF&#x27;)](parseInt, _0x3577fe[Math[_0x19b874(0x871, 0xb0b, 0xf76, 0xb41, &#x27;#og4&#x27;)](_0x15a5d0[_0x2a85c2(0x123a, 0xeb6, 0xbf1, 0x10d4, &#x27;bsj&amp;&#x27;)](Math[_0x2a85c2(0x7ca, 0x776, 0x9aa, 0x847, &#x27;R[NP&#x27;) + &#x27;m&#x27;](), _0x3577fe[_0x26b2f7(0x2ac, 0x73b, 0xbfc, 0x1ff, &#x27;FrGG&#x27;) + &#x27;h&#x27;]))]) ä»£ç åæ··æ·†åç»“æœå¦‚ä¸‹ï¼š 12_0x3e49dd = Number(Math.random().toString().substr(3, 4) + Date.now().toString()).toString(36)_0x3badf1 = parseInt(_0x3577fe[Math.floor(Math.random() * _0x3577fe.length)]) _0x3577feçš„å€¼æ˜¯å›ºå®šçš„ä¸‰ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œå¦‚ä¸‹ï¼š 1_0x3577fe = [-0x2090 + -0x1b * 0x139 + 0x4197, 0x959 + -0x248c + 0x45 * 0x65, 0x2 * -0x1ea + 0x229f + -0x1ec3]; // 4 6 8 åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œ$clientidçš„ç”Ÿæˆè§„åˆ™å°±å…¨éƒ¨åæ··æ·†å‡ºæ¥äº†ï¼Œæœ€ç»ˆçš„ä»£ç æ•´ç†å¦‚ä¸‹ï¼š 1234567891011let _0x3577fe = [4, 6, 8];let _0x3e49dd = Number(Math.random().toString().substr(3, 4) + Date.now().toString()).toString(36);let _0x3badf1 = parseInt(_0x3577fe[Math.floor(Math.random() * _0x3577fe.length)]);let _0x1c3499 = [];_0x1c3499.push(_0x3e49dd.substr(0, _0x3badf1 - 1));_0x1c3499.push(_0x3badf1);_0x1c3499.push(_0x3e49dd.substr(_0x3badf1, _0x3e49dd.length));let clientid = _0x1c3499.join(&quot;&quot;).substr(0,10);console.log(clientid); çœŸæ˜¯ä¸€å±‚ä¸€å±‚å‰¥å¼€ä½ çš„å¿ƒğŸ¥´ é€†å‘tokenç”Ÿæˆè§„åˆ™æ‰£å‡ºtokenç”Ÿæˆçš„ç›¸å…³ä»£ç ï¼š 1&#x27;token&#x27;: _0xf828e5[_0x2e7c5c(0x3c9, 0x4c, -0x2fc, &#x27;hROy&#x27;, -0x1f8)](_0x15a5d0[_0x2e7c5c(0x78e, 0x6f8, 0x927, &#x27;(e@x&#x27;, 0x3d0)](_0x15a5d0[_0x59cb56(0x398, 0x6f8, 0x7eb, &#x27;(e@x&#x27;, 0x571)](_0x15a5d0[_0x160f59(0xbca, 0xad5, 0x7c2, &#x27;FZa9&#x27;, 0xa2c)](_0xf828e5[_0x2e7c5c(0x56b, 0x25a, 0x1e6, &#x27;g(lc&#x27;, -0x22c) + _0x556be9(0x527, 0x2b, 0x30c, &#x27;su5h&#x27;, 0x58f)], _0xf828e5[_0x8eb3(0x1bf, 0x17c, 0x58, &#x27;Ra[M&#x27;, -0xec) + _0x2e7c5c(0x203, 0x237, -0x41, &#x27;Qm)6&#x27;, 0x40c)]), _0xf828e5[_0x2e7c5c(0xd48, 0x8de, 0x717, &#x27;j[vi&#x27;, 0xd5e) + _0x59cb56(0x301, 0x4c3, 0x1e5, &#x27;0jdF&#x27;, 0x8fb)]), _0x15a5d0[_0x59cb56(-0x1ee, 0xb3, 0x35, &#x27;OBf4&#x27;, 0x524)])) åæ··æ·†ä¹‹åçš„æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š 1&#x27;token&#x27;: _0xf828e5[&quot;sign&quot;](_0xf828e5.$clientid + _0xf828e5.$username + _0x15a5d0.sGZgF)) åº†å¹¸çš„æ˜¯ï¼Œè¿™é‡Œçš„_0x15a5d0.sGZgFæ˜¯ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ï¼Œå†…å®¹ä¸ºâ€x045783â€ã€‚æ‰€ä»¥é‡ç‚¹åœ¨äºç ´è§£è¿™ä¸ªåŠ å¯†æ–¹æ³•signã€‚æˆ‘ä»¬æ‰£å‡ºç›¸åº”çš„ä»£ç ï¼š 12345678910111213_0x58b6e0[_0x339e58(0x61a, -0x24f, 0x94, &#x27;nCyg&#x27;, 0x267) + _0x18c3fa(0x813, 0x825, 0x36f, &#x27;TEE1&#x27;, 0x6be)][_0x1d90d1(0x18a, 0x8b2, -0x158, &#x27;Qm)6&#x27;, 0x348)] = function(_0x1c6621) &#123; // ...æ­¤å¤„çœç•¥è‹¥å¹²è¡Œ var _0x4f239d = [] , _0x4996c2 = cjs[_0x8a0b67(&#x27;FrGG&#x27;, 0x9dc, 0x3fa, 0xaba, 0x868)](_0x15a5d0[_0x343f8b(&#x27;ZiBy&#x27;, 0x377, 0x152, 0x542, 0x4df)](_0x1c6621, _0x46b6c3[_0x8a0b67(&#x27;TEE1&#x27;, 0x3db, 0x7c8, 0x6a4, 0x347) + _0x429176(&#x27;NUpf&#x27;, 0x241, -0x1c1, 0x4ab, 0x81)][_0x343f8b(&#x27;HZxj&#x27;, 0x49c, 0x718, 0xa22, 0x854)][_0x429176(&#x27;F^5Z&#x27;, 0x472, 0x2c9, 0x687, 0x272) + _0x8a0b67(&#x27;g(lc&#x27;, 0x39e, 0x19b, 0x616, 0x5b8) + &#x27;e&#x27;]()))[_0x4b55c2(&#x27;OBf4&#x27;, -0x22b, -0x342, 0x13a, 0x2c) + _0x8a0b67(&#x27;xVxp&#x27;, -0x78, 0x45c, 0x287, 0x16b)](); return _0x4f239d[_0xafe698(&#x27;Ra[M&#x27;, 0x1d0, -0x66b, 0x2ad, -0x177)](_0x4996c2[_0xafe698(&#x27;IF#P&#x27;, 0x2d0, 0x958, 0x506, 0x55e) + &#x27;r&#x27;](-0x15d + -0x49 * -0x45 + -0x1246, 0x8c2 + 0x25af + -0x2e6c)), _0x4f239d[_0x8a0b67(&#x27;g(lc&#x27;, 0x34a, 0x43e, 0x955, 0x683)](_0x4996c2[_0x4b55c2(&#x27;ZiBy&#x27;, 0x71, 0x10f, 0x9a7, 0x506) + &#x27;r&#x27;](0x142b * -0x1 + 0x21b7 + 0xd85 * -0x1, -0xb69 * -0x3 + -0x61 * 0x58 + -0xde)), _0x4f239d[_0x429176(&#x27;W]B)&#x27;, 0x82f, 0x119, 0x27e, 0x4fb)](_0x4996c2[_0x4b55c2(&#x27;AVXK&#x27;, 0x3e8, 0x4fc, 0x6f2, 0x79f) + &#x27;r&#x27;](0x61b + 0xc * -0x11e + 0x75c, -0x677 * 0x1 + -0x2272 * 0x1 + 0x28ee)), _0x4f239d[_0xafe698(&#x27;0NjW&#x27;, 0x3c5, 0x181, -0x47, 0x125)](_0x4996c2[_0x8a0b67(&#x27;uUCz&#x27;, 0xcea, 0x99c, 0x405, 0x8c3) + &#x27;r&#x27;](-0x4ba + -0x59d * 0x1 + 0xa6b, -0x2 * 0xe80 + 0x1c01 + 0x104)), _0x4f239d[_0x429176(&#x27;IF#P&#x27;, 0x2b, -0x2cb, 0x33e, 0x20d)](_0x4996c2[_0xafe698(&#x27;TEE1&#x27;, 0xcb6, 0x668, 0x5fa, 0x833) + &#x27;r&#x27;](-0x4b * -0x4 + -0x2a * 0x86 + 0x5 * 0x42e, -0xd * -0x119 + -0x1791 + 0x951)), _0x4f239d[_0x429176(&#x27;j[vi&#x27;, 0x5e6, 0x2bd, 0x5e2, 0x648)](_0x4996c2[_0x429176(&#x27;#og4&#x27;, 0xd5, 0x68e, 0x54b, 0x516) + &#x27;r&#x27;](-0x193d + 0x399 * -0x5 + -0x1 * -0x2b55, -0x8a8 * -0x4 + 0xd6 * 0x6 + 0x3 * -0xd35)), _0x4f239d[_0x8a0b67(&#x27;Cy2U&#x27;, 0x689, 0x578, 0x485, 0x71e)](_0x4996c2[_0x4b55c2(&#x27;4[E4&#x27;, 0x272, 0x5ce, 0x4e1, 0x668) + &#x27;r&#x27;](-0x97 * 0x17 + -0xe * 0x46 + 0x1166, -0x18f4 * -0x1 + -0x93 * 0x3b + 0x8ef * 0x1)), _0x4f239d[_0x343f8b(&#x27;&amp;zHf&#x27;, -0xb, -0x5bc, -0x16b, -0x108)](&#x27;&#x27;);&#125; çœ‹åˆ°è¿™ä¹ˆå¤§ä¸€æ®µä»£ç ä¸è¦æ…Œï¼ï¼ï¼æˆ‘ä»¬æ…¢æ…¢å¼€å§‹å‰¥æ´‹è‘±ã€‚ğŸ™ƒï¼Œå‰¥åˆ°æœ€åï¼Œå¾ˆç®€å•ã€‚ 1234_0x58b6e0.prototype.sign = function(_0x1c6621) &#123; var _0x4f239d = [], _0x4996c2 = MD5(_0x1c6621 + document.location.href.toLowerCase()).toString(); return _0x4f239d.push(_0x4996c2.substr(10, 5)), _0x4f239d.push(_0x4996c2.substr(7, 5)), _0x4f239d.push(_0x4996c2.substr(15, 5)), _0x4f239d.push(_0x4996c2.substr(20, 5)), _0x4f239d.push(_0x4996c2.substr(22, 5)), _0x4f239d.push(_0x4996c2.substr(27, 5)), _0x4f239d.push(_0x4996c2.substr(1, 2)), _0x4f239d.join(&quot;&quot;);&#125; å…¶å®å°±æ˜¯å¯¹ä¼ å…¥çš„å‚æ•°åšäº†ä¸€ä¸ªmd5çš„åŠ å¯†ï¼Œç„¶åè¿›è¡Œä¹±åºå¤„ç†ã€‚ åˆ°è¿™é‡Œæˆ‘ä»¬ä¸¤ä¸ªæ¥å£çš„æ‰€æœ‰è¯·æ±‚å‚æ•°åŠ å¯†ç®—æ³•ï¼Œä»¥åŠæ¥å£çš„è¿”å›å€¼çš„è§£å¯†ç®—æ³•éƒ½å·²ç»ç ´è§£äº†ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥ç®€å•éªŒè¯ä¸‹æ˜¯å¦æ­£ç¡®ã€‚ éªŒè¯ç”±äºcheckæ¥å£éœ€è¦æœºå™¨å­¦ä¹ å¯¹éªŒè¯ç è¿›è¡Œè¯†åˆ«ï¼Œæ‰€ä»¥è¿™é‡ŒåªéªŒè¯getæ¥å£çš„å‚æ•°ã€‚ç”¨NodeJSçš„Expressæ¡†æ¶æ­å»ºå¥½è·å–tokençš„æœåŠ¡ï¼Œä¾›Pythonè°ƒç”¨ã€‚ è¿è¡Œç»“æœå¦‚ä¸‹ï¼š image-20220312220733810 image-20220312220820149 æ€»ç»“æœ¬æ–‡é€šè¿‡ä¸€ä¸ªç½‘ç«™ï¼Œæ‰‹åŠ¨å¯¹ASTæ··æ·†ä»£ç è¿›è¡Œäº†ä¸€ä¸ªåæ··æ·†ã€‚åœ¨JSä»£ç å®‰å…¨é˜²æŠ¤åŸç†â€”â€”ASTæ··æ·†åŸç†ä¸­æåˆ°çš„å‡ ç§æ··æ·†åŸç†åŸºæœ¬éƒ½å‡ºç°è¿‡äº†ã€‚æ¯”å¦‚æ•°ç»„æ··æ·†ï¼Œæ•°ç»„é€†å‘ï¼ŒèŠ±æŒ‡ä»¤ï¼Œæµç¨‹å¹³å¦åŒ–ï¼Œé€—å·è¡¨è¾¾å¼æ··æ·†ï¼Œå­—ç¬¦ä¸²åŠ å¯†ï¼Œå¸¸é‡åŠ å¯†ç­‰ã€‚å¯ä»¥çœ‹åˆ°ï¼Œæ‰‹åŠ¨æ··æ·†çš„è¿‡ç¨‹æ˜¯æå…¶å®¹æ˜“å‡ºé”™ï¼Œå·¥ä½œé‡éå¸¸å¤§ä¸”ååˆ†ç—›è‹¦çš„ã€‚æ¥ä¸‹æ¥ä¼šå†™ç›¸å…³æ–‡ç« ï¼Œä»‹ç»å¦‚ä½•é€šè¿‡å·¥å…·å¯¹ASTæ··æ·†ä»£ç è¿›è¡Œè‡ªåŠ¨åæ··æ·†ï¼Œä¸è¿‡ï¼Œæ‰‹åŠ¨æ··æ·†è¿™ç§èƒ½åŠ›ä¹Ÿæ˜¯å¿…é¡»è¦æŒæ¡çš„ï¼Œä¸‡ä¸€ä½ ä½¿ç”¨çš„å·¥å…·å¤±æ•ˆäº†ï¼Œæˆ–è€…è¯´é‡åˆ°ä¸€äº›æ›´åŠ ç‰¹æ®Šçš„ç½‘ç«™ï¼Œåªèƒ½é€šè¿‡æ‰‹åŠ¨æ··æ·†å‘¢ï¼Ÿå¦‚æœæƒ³è·å–æœ¬æ–‡çš„å®Œæ•´ä»£ç ï¼Œæ‰«ç å…³æ³¨å…¬ä¼—å·ï¼Œç„¶åå…¬ä¼—å·å†…å›å¤å…³é”®å­—02å³å¯è·å–ã€‚ qrcode_for_gh_509fdefd3c81_258","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"AST","slug":"AST","permalink":"https://blog.heshipeng.com/tags/AST/"}]},{"title":"JSä»£ç å®‰å…¨é˜²æŠ¤åŸç†â€”â€”ASTæ··æ·†åŸç†","date":"2022-03-03T14:22:11.000Z","path":"JSä»£ç å®‰å…¨é˜²æŠ¤åŸç†â€”â€”ASTæ··æ·†åŸç†/","text":"å¸¸é‡çš„æ··æ·†åŸç†æœ¬ç¯‡æ‰€ç”¨çš„demoå¦‚ä¸‹ã€‚æ¥ä¸‹æ¥çš„æ¡ˆä¾‹éƒ½æ˜¯å›´ç»•è¿™ä¸ªdemoè¿›è¡Œæ··æ·†ã€‚ 12345678910Date.prototype.format = function(formatStr) &#123; var str = formatStr; var Week = [&#x27;æ—¥&#x27;, &#x27;ä¸€&#x27;, &#x27;äºŒ&#x27;, &#x27;ä¸‰&#x27;, &#x27;å››&#x27;, &#x27;äº”&#x27;, &#x27;å…­&#x27;]; str = str.replace(/yyyy|YYYY/, this.getFullYear()); str = str.replace(/MM/, (this.getMonth() + 1) &gt; 9 ? (this.getMonth() + 1).toString() : &#x27;0&#x27; + (this.getMonth() + 1)); str = str.replace(/dd|DD/, this.getDate() &gt; 9 ? this.getDate().toString() : &#x27;0&#x27; + this.getDate()); return str;&#125;console.log(new Date().format(&#x27;yyyy-MM-dd&#x27;)); å¯¹è±¡å±æ€§çš„ä¸¤ç§è®¿é—®æ–¹å¼çœ‹ä¸‹é¢ä¸€æ®µä»£ç ï¼š 1234567891011function People(name) &#123; this.name = name;&#125;People.prototype.sayHello = function() &#123; console.log(&#x27;Hello&#x27;);&#125;var p = new People(&#x27;zhang san&#x27;);console.log(p.name); // zhang sanp.sayHello(); // Helloconsole.log(p[&#x27;name&#x27;]); // zhang sanp[&#x27;sayHello&#x27;](); // Hello p.nameè¿™ç§æ–¹å¼nameæ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå¿…é¡»æ˜ç¡®å‡ºç°åœ¨ä»£ç ä¸­ï¼Œä¸èƒ½åŠ å¯†å’Œæ‹¼æ¥ã€‚ p[â€˜nameâ€™]è¿™ç§æ–¹å¼nameæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ç”±äºæ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è®¿é—®çš„æ—¶å€™å¯ä»¥è¿›è¡Œæ‹¼æ¥å’ŒåŠ å¯†ç­‰æ“ä½œã€‚æ‰€ä»¥åœ¨JSæ··æ·†ä¸­ï¼Œä¸€èˆ¬ä¼šé€‰æ‹©è¿™ç§æ–¹å¼è®¿é—®å±æ€§ã€‚ æ‰€ä»¥æ”¹å˜å¯¹è±¡å±æ€§çš„è®¿é—®æ–¹å¼ï¼Œæ˜¯ä»£ç æ··æ·†çš„å‰æã€‚ æ‰€ä»¥å¼€ç¯‡æåˆ°çš„demoæ”¹å˜å¯¹è±¡å±æ€§çš„è®¿é—®æ–¹å¼ä¹‹åï¼Œä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š 1234567891011window[&#x27;Date&#x27;][&#x27;prototype&#x27;][&#x27;format&#x27;] = function(formatStr) &#123; var str = formatStr; var Week = [&#x27;æ—¥&#x27;, &#x27;ä¸€&#x27;, &#x27;äºŒ&#x27;, &#x27;ä¸‰&#x27;, &#x27;å››&#x27;, &#x27;äº”&#x27;, &#x27;å…­&#x27;]; str = str[&#x27;replace&#x27;](/yyyy|YYYY/, this[&#x27;getFullYear&#x27;]()); str = str[&#x27;replace&#x27;](/MM/, (this[&#x27;getMonth&#x27;]() + 1) &gt; 9 ? (this[&#x27;getMonth&#x27;]() + 1).toString() : &#x27;0&#x27; + (this[&#x27;getMonth&#x27;]() + 1)); str = str[&#x27;replace&#x27;](/dd|DD/, this[&#x27;getDate&#x27;]() &gt; 9 ? this[&#x27;getDate&#x27;]().toString() : &#x27;0&#x27; + this[&#x27;getDate&#x27;]()); return str;&#125;console.log(new window[&#x27;Date&#x27;]()[&#x27;format&#x27;](&#x27;yyyy-MM-dd&#x27;)); Dateæ˜¯JSçš„å†…ç½®å¯¹è±¡ï¼Œåœ¨JSä¸­å¾ˆå¤šå†…ç½®å¯¹è±¡éƒ½å±äºwindowçš„å±æ€§ã€‚å¦å¤–ï¼Œä»£ç ä¸­å®šä¹‰çš„å…¨å±€å˜é‡éƒ½æ˜¯å…¨å±€å¯¹è±¡windowçš„å±æ€§ï¼Œä»£ç ä¸­å®šä¹‰çš„å…¨å±€æ–¹æ³•éƒ½æ˜¯å…¨å±€å¯¹è±¡windowçš„æ–¹æ³•ã€‚å…¨å±€å¯¹è±¡çš„å±æ€§æˆ–è€…æ–¹æ³•åœ¨è°ƒç”¨çš„æ—¶å€™å¯ä»¥çœç•¥å…¨å±€å¯¹è±¡åã€‚æ¯”å¦‚ï¼Œnew window.Date()ç­‰åŒäºnew Date()ã€‚ç”±äºæŠŠDateå˜æˆäº†å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å‰é¢å¿…é¡»åŠ windowã€‚ åå…­è¿›åˆ¶å­—ç¬¦ä¸²åœ¨JSä¸­æ”¯æŒå­—ç¬¦ä¸²çš„åå…­è¿›åˆ¶å½¢å¼è¡¨ç¤ºï¼Œæ‰€ä»¥å¯ä»¥ç”¨å­—ç¬¦ä¸²çš„åå…­è¿›åˆ¶å½¢å¼æ¥ä»£æ›¿åŸæœ‰çš„å­—ç¬¦ä¸²ã€‚æ¯”å¦‚â€™yyyy-MM-ddâ€™å¯ä»¥è¡¨ç¤ºæˆâ€™\\x79\\x79\\x79\\x79\\x2d\\x4d\\x4d\\x2d\\x64\\x64â€™ã€‚å…¶å®ï¼Œ0x79å°±æ˜¯å­—æ¯yçš„ASCIIç çš„åå…­è¿›åˆ¶å½¢å¼ï¼Œå…¶ä½™çš„å­—æ¯ç±»æ¨ã€‚å¯ä»¥ç”¨ä¸€ä¸ªæ–¹æ³•æ¥å®Œæˆåå…­è¿›åˆ¶å­—ç¬¦ä¸²çš„è½¬æ¢ã€‚ 12345678function hexEnc(code) &#123; let hexStr = [] for (let i = 0, s; i &lt; code.length; i++) &#123; s = code.charCodeAt(i).toString(16); hexStr += &#x27;\\\\x&#x27; + s; &#125; return hexStr;&#125; å¼€ç¯‡çš„demoè½¬æ¢ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²ä¹‹åå¦‚ä¸‹ï¼š 12345678910window[&#x27;\\x44\\x61\\x74\\x65&#x27;][&#x27;\\x70\\x72\\x6f\\x74\\x6f\\x74\\x79\\x70\\x65&#x27;][&#x27;\\x66\\x6f\\x72\\x6d\\x61\\x74&#x27;] = function(formatStr) &#123; var str = formatStr; var Week = [&#x27;\\x65e5&#x27;, &#x27;\\x4e00&#x27;, &#x27;\\x4e8c&#x27;, &#x27;\\x4e09&#x27;, &#x27;\\x56db&#x27;, &#x27;\\x4e94&#x27;, &#x27;\\x516d&#x27;]; str = str[&#x27;\\x72\\x65\\x70\\x6c\\x61\\x63\\x65&#x27;](/yyyy|YYYY/, this[&#x27;\\x67\\x65\\x74\\x46\\x75\\x6c\\x6c\\x59\\x65\\x61\\x72&#x27;]()); str = str[&#x27;\\x72\\x65\\x70\\x6c\\x61\\x63\\x65&#x27;](/MM/, (this[&#x27;\\x67\\x65\\x74\\x4d\\x6f\\x6e\\x74\\x68&#x27;]() + 1) &gt; 9 ? (this[&#x27;\\x67\\x65\\x74\\x4d\\x6f\\x6e\\x74\\x68&#x27;]() + 1).toString() : &#x27;\\x30&#x27; + (this[&#x27;\\x67\\x65\\x74\\x4d\\x6f\\x6e\\x74\\x68&#x27;]() + 1)); str = str[&#x27;\\x72\\x65\\x70\\x6c\\x61\\x63\\x65&#x27;](/dd|DD/, this[&#x27;\\x67\\x65\\x74\\x44\\x61\\x74\\x65&#x27;]() &gt; 9 ? this[&#x27;\\x67\\x65\\x74\\x44\\x61\\x74\\x65&#x27;]().toString() : &#x27;\\x30&#x27; + this[&#x27;\\x67\\x65\\x74\\x44\\x61\\x74\\x65&#x27;]()); return str;&#125;console.log(new window[&#x27;\\x44\\x61\\x74\\x65&#x27;]()[&#x27;\\x66\\x6f\\x72\\x6d\\x61\\x74&#x27;](&#x27;\\x79\\x79\\x79\\x79\\x2d\\x4d\\x4d\\x2d\\x64\\x64&#x27;)); unicodeå­—ç¬¦ä¸²åœ¨JSä¸­ï¼Œå­—ç¬¦ä¸²é™¤äº†å¯ä»¥è¡¨ç¤ºæˆåå…­è¿›åˆ¶çš„å½¢å¼å¤–ï¼Œè¿˜æ”¯æŒä½¿ç”¨unicodeå½¢å¼è¡¨ç¤ºã€‚æ¯”å¦‚ï¼š ä»¥var Week = [â€˜æ—¥â€™, â€˜ä¸€â€™, â€˜äºŒâ€™, â€˜ä¸‰â€™, â€˜å››â€™, â€˜äº”â€™, â€˜å…­â€™]ä¸ºä¾‹ï¼Œå¯ä»¥è¡¨ç¤ºæˆvar Week = [â€˜\\u65e5â€™, â€˜\\u4e00â€™, â€˜\\u4e8câ€™, â€˜\\u4e09â€™, â€˜\\u56dbâ€™, â€˜\\u4e94â€™, â€˜\\u516dâ€™] éä¸­æ–‡çš„æƒ…å†µï¼ŒDateå¯ä»¥è¡¨ç¤ºæˆâ€™\\u0044\\u0061\\u0074\\u0065â€™ ä»ä¸Šè¿°ä¾‹å­ä¸éš¾çœ‹å‡ºï¼Œunicodeå½¢å¼å°±æ˜¯\\uå¼€å¤´ï¼Œåé¢è·Ÿå››ä½æ•°çš„åå…­è¿›åˆ¶å½¢å¼ï¼Œä¸è¶³å››ä½çš„è¡¥0ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç å®Œæˆunicodeè½¬æ¢ï¼š 1234567function unicodeEnc(str) &#123; var value = &#x27;&#x27;; for (var i = 0; i &lt; str.length; i++) &#123; value += &quot;\\\\u&quot; + (&quot;0000&quot; + parseInt(str.charCodeAt(i)).toString(16)).substr(-4); &#125; return value;&#125; å¼€ç¯‡çš„demoè½¬æ¢ä¸ºunicodeç¼–ç ä¹‹åå¦‚ä¸‹ï¼š 12345678910window[&#x27;\\u0044\\u0061\\u0074\\u0065&#x27;][&#x27;\\u0070\\u0072\\u006f\\u0074\\u006f\\u0074\\u0079\\u0070\\u0065&#x27;][&#x27;\\u0066\\u006f\\u0072\\u006d\\u0061\\u0074&#x27;] = function(formatStr) &#123; var str = formatStr; var Week = [&#x27;\\u65e5&#x27;, &#x27;\\u4e00&#x27;, &#x27;\\u4e8c&#x27;, &#x27;\\u4e09&#x27;, &#x27;\\u56db&#x27;, &#x27;\\u4e94&#x27;, &#x27;\\u516d&#x27;]; str = str[&#x27;\\u0072\\u0065\\u0070\\u006c\\u0061\\u0063\\u0065&#x27;](/yyyy|YYYY/, this[&#x27;\\u0067\\u0065\\u0074\\u0046\\u0075\\u006c\\u006c\\u0059\\u0065\\u0061\\u0072&#x27;]()); str = str[&#x27;\\u0072\\u0065\\u0070\\u006c\\u0061\\u0063\\u0065&#x27;](/MM/, (this[&#x27;\\u0067\\u0065\\u0074\\u004d\\u006f\\u006e\\u0074\\u0068&#x27;]() + 1) &gt; 9 ? (this[&#x27;\\u0067\\u0065\\u0074\\u004d\\u006f\\u006e\\u0074\\u0068&#x27;]() + 1).toString() : &#x27;\\u0030&#x27; + (this[&#x27;\\u0067\\u0065\\u0074\\u004d\\u006f\\u006e\\u0074\\u0068&#x27;]() + 1)); str = str[&#x27;\\u0072\\u0065\\u0070\\u006c\\u0061\\u0063\\u0065&#x27;](/dd|DD/, this[&#x27;\\u0067\\u0065\\u0074\\u0044\\u0061\\u0074\\u0065&#x27;]() &gt; 9 ? this[&#x27;\\u0067\\u0065\\u0074\\u0044\\u0061\\u0074\\u0065&#x27;]().toString() : &#x27;\\u0030&#x27; + this[&#x27;\\u0067\\u0065\\u0074\\u0044\\u0061\\u0074\\u0065&#x27;]()); return str;&#125;console.log(new window[&#x27;\\u0044\\u0061\\u0074\\u0065&#x27;]()[&#x27;\\u0066\\u006f\\u0072\\u006d\\u0061\\u0074&#x27;](&#x27;\\u0079\\u0079\\u0079\\u0079\\u002d\\u004d\\u004d\\u002d\\u0064\\u0064&#x27;)); unicodeå­—ç¬¦å’Œåå…­è¿›åˆ¶å­—ç¬¦ä¸²éƒ½èƒ½è½»æ˜“çš„è¿˜åŸï¼Œå³ç›´æ¥æŠŠå­—ç¬¦ä¸²æ”¾åˆ°æ§åˆ¶å°æ‰“å°å³å¯è¿˜åŸã€‚ å­—ç¬¦ä¸²çš„ASCIIç æ··æ·†é¦–å…ˆå…³æ³¨2ä¸ªæ–¹æ³•ã€‚ 123console.log(&#x27;x&#x27;.charCodeAt(0)); //120console.log(&#x27;b&#x27;.charCodeAt(0)); //98console.log(String.fromCharCode(120, 98)); //xb charCodeAtæ–¹æ³•è¡¨ç¤ºæŠŠå­—ç¬¦ä¸²è½¬æ¢æˆASCIIç¼–ç ï¼ŒfromCharCodeè¡¨ç¤ºæŠŠASCIIç è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚ å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç å°†å­—ç¬¦ä¸²å˜æˆå­—èŠ‚æ•°ç»„ã€‚ 1234567function stringToByte(str) &#123; var byteArr = []; for (var i = 0; i &lt; str.length; i++) &#123; byteArr.push(str.charCodeAt(i)); &#125; return byteArr;&#125; æ¯”å¦‚demoä¸­çš„formatå¯ä»¥ç”¨å­—èŠ‚æ•°ç»„è¡¨ç¤ºä¸º[102, 111, 114, 109, 97, 116]ï¼Œå› æ­¤ä»£ç ä¸­çš„formatå¯ä»¥è¡¨ç¤ºæˆString.fromCharCode(102, 111, 114, 109, 97, 116)ã€‚æ³¨æ„ï¼ŒfromCharCodeæ¥å—çš„å‚æ•°ç±»å‹ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯å¯å˜å‚æ•°ç±»å‹ã€‚å¦‚æœéè¦ä¼ ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨String.fromCharCode.apply(null, [102, 111, 114, 109, 97, 116])ã€‚JSçš„å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå¯ä»¥ç»™å‡½æ•°å®šä¹‰å±æ€§å’Œæ–¹æ³•ï¼Œè€Œå‡½æ•°æœ¬èº«ä¹Ÿè‡ªå¸¦ä¸€äº›å±æ€§å’Œæ–¹æ³•ã€‚applyå°±æ˜¯ä»å‡½æ•°çš„åŸå‹å¯¹è±¡Function.prototypeç»§æ‰¿è¿‡æ¥çš„æ–¹æ³•ã€‚ ASCIIç æ··æ·†ä¸ä»…å¯ä»¥ç”¨äºæ··æ·†å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥ç”¨æ¥åšä»£ç æ··æ·†ã€‚æ¯”å¦‚æˆ‘ä»¬æŠŠä»£ç str = str[&#39;replace&#39;](/yyyy|YYYY/, this[&#39;getFullYear&#39;]());çœ‹ä½œä¸€ä¸ªå­—ç¬¦ä¸²ï¼š 12stringToByte(&quot;str = str[&#x27;replace&#x27;](/yyyy|YYYY/, this[&#x27;getFullYear&#x27;]());&quot;);// [ 115, 116, 114, 32, 61, 32, 115, 116, 114, 91, 39, 114, 101, 112, 108, 97, 99, 101, 39, 93, 40, 47, 121, 121, 121, 121, 124, 89, 89, 89, 89, 47, 44, 32, 116, 104, 105, 115, 91, 39, 103, 101, 116, 70, 117, 108, 108, 89, 101, 97, 114, 39, 93, 40, 41, 41, 59 ] ç„¶åå†æŠŠè¿™ä¸ªå­—ç¬¦ä¸²å½“ä½œä»£ç æ‰§è¡Œå³å¯ã€‚åœ¨JSä¸­æŠŠå­—ç¬¦ä¸²å½“ä½œä»£ç æ‰§è¡Œçš„æœ‰2ä¸ªæ–¹æ³•ï¼Œevalå’ŒFunctionã€‚å…¶ä¸­evalç”¨æ¥æ‰§è¡Œä¸€æ®µä»£ç ï¼ŒFunctionç”¨æ¥ç”Ÿæˆä¸€ä¸ªå‡½æ•°ã€‚ æ‰€ä»¥æˆ‘ä»¬ä¹‹å‰çš„demoå¯ä»¥æ”¹å†™å¦‚ä¸‹ï¼š 12345678910window[&#x27;\\u0044\\u0061\\u0074\\u0065&#x27;][&#x27;\\u0070\\u0072\\u006f\\u0074\\u006f\\u0074\\u0079\\u0070\\u0065&#x27;][&#x27;\\u0066\\u006f\\u0072\\u006d\\u0061\\u0074&#x27;] = function(formatStr) &#123; var str = formatStr; var Week = [&#x27;\\u65e5&#x27;, &#x27;\\u4e00&#x27;, &#x27;\\u4e8c&#x27;, &#x27;\\u4e09&#x27;, &#x27;\\u56db&#x27;, &#x27;\\u4e94&#x27;, &#x27;\\u516d&#x27;]; eval(String.fromCharCode(115, 116, 114, 32, 61, 32, 115, 116, 114, 91, 39, 114, 101, 112, 108, 97, 99, 101, 39, 93, 40, 47, 121, 121, 121, 121, 124, 89, 89, 89, 89, 47, 44, 32, 116, 104, 105, 115, 91, 39, 103, 101, 116, 70, 117, 108, 108, 89, 101, 97, 114, 39, 93, 40, 41, 41, 59)) str = str[&#x27;\\u0072\\u0065\\u0070\\u006c\\u0061\\u0063\\u0065&#x27;](/MM/, (this[&#x27;\\u0067\\u0065\\u0074\\u004d\\u006f\\u006e\\u0074\\u0068&#x27;]() + 1) &gt; 9 ? (this[&#x27;\\u0067\\u0065\\u0074\\u004d\\u006f\\u006e\\u0074\\u0068&#x27;]() + 1).toString() : &#x27;\\u0030&#x27; + (this[&#x27;\\u0067\\u0065\\u0074\\u004d\\u006f\\u006e\\u0074\\u0068&#x27;]() + 1)); str = str[&#x27;\\u0072\\u0065\\u0070\\u006c\\u0061\\u0063\\u0065&#x27;](/dd|DD/, this[&#x27;\\u0067\\u0065\\u0074\\u0044\\u0061\\u0074\\u0065&#x27;]() &gt; 9 ? this[&#x27;\\u0067\\u0065\\u0074\\u0044\\u0061\\u0074\\u0065&#x27;]().toString() : &#x27;\\u0030&#x27; + this[&#x27;\\u0067\\u0065\\u0074\\u0044\\u0061\\u0074\\u0065&#x27;]()); return str;&#125;console.log(new window[&#x27;\\u0044\\u0061\\u0074\\u0065&#x27;]()[&#x27;\\u0066\\u006f\\u0072\\u006d\\u0061\\u0074&#x27;](&#x27;\\u0079\\u0079\\u0079\\u0079\\u002d\\u004d\\u004d\\u002d\\u0064\\u0064&#x27;)); å­—ç¬¦ä¸²å¸¸é‡åŠ å¯†å­—ç¬¦ä¸²åŠ å¯†çš„æœ€æ ¸å¿ƒæ€æƒ³æ˜¯å…ˆæŠŠå­—ç¬¦ä¸²åŠ å¯†å¾—åˆ°å¯†æ–‡ï¼Œç„¶ååœ¨ä½¿ç”¨ä¹‹å‰ï¼Œè°ƒç”¨å¯¹åº”çš„å‡½æ•°å»è§£å¯†ï¼Œå¾—åˆ°æ˜æ–‡ã€‚ä»£ç ä¸­ä»…ä»…å‡ºç°è§£å¯†å‡½æ•°å’Œæ˜å¯†æ–‡ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„åŠ å¯†æ–¹æ³•å»åŠ å¯†å­—ç¬¦ä¸²ï¼Œç„¶åå†è°ƒç”¨ä¸åŒçš„è§£å¯†å‡½æ•°å»è§£å¯†ã€‚å­—ç¬¦ä¸²åŠ å¯†æœ€ç®€å•çš„æ–¹å¼æ˜¯Base64ç¼–ç ã€‚ æµè§ˆå™¨ä¸­è‡ªå¸¦Base64çš„ç¼–ç ä¸è§£ç çš„å‡½æ•°ï¼Œå…¶ä¸­btoaç”¨æ¥ç¼–ç ï¼Œatobç”¨æ¥è§£ç ã€‚ä½†æ˜¯å®é™…çš„åº”ç”¨ä¸­æœ€å¥½æ˜¯è‡ªå·±å»å®ç°ï¼Œç„¶ååŠ ä»¥æ··æ·†ã€‚æ³¨æ„ï¼Œå­—ç¬¦ä¸²åŠ å¯†ä¹‹åï¼Œéœ€è¦æŠŠå¯¹åº”çš„è§£ç å‡½æ•°æ”¾å…¥å…¶ä¸­ï¼Œæ–¹èƒ½æ­£å¸¸è¿è½¬ã€‚æ¯”å¦‚å¼€å¤´çš„demoå¯ä»¥æ”¹å†™å¦‚ä¸‹ï¼š 12345678910window[atob(&#x27;RGF0ZQ==&#x27;)][atob(&#x27;cHJvdG90eXBl&#x27;)][atob(&#x27;Zm9ybWF0&#x27;)] = function(formatStr) &#123; var str = formatStr; var Week = [&#x27;\\u65e5&#x27;, &#x27;\\u4e00&#x27;, &#x27;\\u4e8c&#x27;, &#x27;\\u4e09&#x27;, &#x27;\\u56db&#x27;, &#x27;\\u4e94&#x27;, &#x27;\\u516d&#x27;]; str = str[atob(&#x27;cmVwbGFjZQ==&#x27;)](/yyyy|YYYY/, this[atob(&#x27;Z2V0RnVsbFllYXI=&#x27;)]()); str = str[atob(&#x27;cmVwbGFjZQ==&#x27;)](/MM/, (this[atob(&#x27;Z2V0TW9udGg=&#x27;)]() + 1) &gt; 9 ? (this[atob(&#x27;Z2V0TW9udGg=&#x27;)]() + 1).toString() : atob(&#x27;MA==&#x27;) + (this[atob(&#x27;Z2V0TW9udGg=&#x27;)]() + 1)); str = str[atob(&#x27;cmVwbGFjZQ==&#x27;)](/dd|DD/, this[atob(&#x27;Z2V0RGF0ZQ==&#x27;)]() &gt; 9 ? this[atob(&#x27;Z2V0RGF0ZQ==&#x27;)]().toString() : atob(&#x27;MA==&#x27;) + this[atob(&#x27;Z2V0RGF0ZQ==&#x27;)]()); return str;&#125;console.log(new window[atob(&#x27;RGF0ZQ==&#x27;)]()[atob(&#x27;Zm9ybWF0&#x27;)](atob(&#x27;eXl5eS1NTS1kZA==&#x27;))); åœ¨å®é™…çš„æ··æ·†åº”ç”¨ä¸­ï¼Œæ ‡è¯†ç¬¦å¿…é¡»å¤„ç†æˆæ²¡æœ‰è¯­ä¹‰çš„ï¼Œä¸ç„¶å¾ˆå®¹æ˜“å®šä½åˆ°å…³é”®ä»£ç ã€‚æ­¤å¤–ï¼Œå»ºè®®å‡å°‘ä½¿ç”¨ç³»ç»Ÿå‡½æ•°ï¼Œè‡ªå·±å»å®ç°ç›¸åº”çš„å‡½æ•°ï¼Œå› ä¸ºä¸ç®¡æ€æ ·æ··æ·†ï¼Œæœ€ç»ˆæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå‡½æ•°æ˜¯å›ºå®šçš„ï¼Œé€šè¿‡HookæŠ€æœ¯å¾ˆå®¹æ˜“å®šä½åˆ°å…³é”®ä»£ç ã€‚ æ•°å€¼å¸¸é‡åŠ å¯†ç®—æ³•åŠ å¯†è¿‡ç¨‹ä¸­ï¼Œä¼šä½¿ç”¨ä¸€äº›å›ºå®šçš„æ•°å€¼å¸¸é‡ï¼Œå¦‚MD5ä¸­çš„å¸¸é‡0Ã—67452301ï¼Œ0xefcdab89ï¼Œ0x98badcfeå’Œ0x10325476ï¼Œä»¥åŠSHA1ä¸­çš„å¸¸é‡0x67452301ï¼Œ 0xefcdab89ï¼Œ0x98badcteï¼Œ0x10325476å’Œ0xc3d2e1f0ã€‚å› æ­¤ï¼Œåœ¨æ ‡å‡†ç®—æ³•é€†å‘ä¸­ï¼Œä¼šé€šè¿‡æœç´¢è¿™äº›æ•°å€¼é‡ï¼Œæ¥å®šä½ä»£ç å…³é”®ä½ç½®,æˆ–è€…ç¡®å®šä½¿ç”¨çš„æ˜¯å“ªä¸ªç®—æ³•ã€‚å½“ç„¶ï¼Œåœ¨ä»£ç ä¸­ä¸ä¸€å®šä¼šå†™åå…­è¿›åˆ¶å½¢å¼ï¼Œå¦‚0x67452301ï¼Œåœ¨ä»£ç ä¸­å¯èƒ½ä¼šä¸æˆåè¿›åˆ¶çš„1732584193ã€‚ å®‰å…¨èµ·è§ï¼Œå¯ä»¥æŠŠè¿™äº›æ•°å€¼å¸¸é‡ä¹Ÿè¿›è¡Œç®€å•åŠ å¯†ã€‚å¯ä»¥åˆ©ç”¨ä½å¼‚æˆ–çš„ç‰¹æ€§æ¥åŠ å¯†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœa^b=c,é‚£ä¹ˆc^b=aã€‚ä»¥SHA1ç®—æ³•ä¸­çš„0xc3d2e1f0å¸¸é‡ä¸ºä¾‹ï¼Œ0xc3d2elf0^0x12345678=0xd1e6b788ï¼Œé‚£ä¹ˆåœ¨ä»£ç ä¸­å¯ä»¥ç”¨0xd1e66788^0x12345678æ¥ä»£æ›¿0xc3d2e1f0ï¼Œå…¶ä¸­0x12345678å¯ä»¥ç†è§£æˆå¯†é’¥ï¼Œå®ƒå¯ä»¥éšæœºç”Ÿæˆã€‚ å¢åŠ JSé€†å‘è€…çš„å·¥ä½œé‡æ•°ç»„æ··æ·†çœ‹ä¸€è¡Œä»£ç ï¼š 1console.log(new window.Date().getTime()); æŒ‰ç…§å‰é¢ä»‹ç»çš„å¯¹è±¡å±æ€§çš„2ç§è®¿é—®æ–¹å¼ï¼Œä½¿ç”¨ç¬¬äºŒç§æ”¹å†™å¦‚ä¸‹ï¼š 1console[&#x27;log&#x27;](new window[&#x27;Date&#x27;]()[&#x27;getTime&#x27;]()); è¿™æ ·äº§ç”Ÿäº†ä¸‰ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æŠŠä¸‰ä¸ªå­—ç¬¦ä¸²æ”¾åœ¨æ•°ç»„é‡Œé¢ã€‚ 12var bigArr = [&#x27;Date&#x27;, &#x27;getTime&#x27;, &#x27;log&#x27;];console[bigArr[2]](new window[bigArr[0]]()[bigArr[1]]()); è¿™å°±æ˜¯æ•°ç»„æ··æ·†ã€‚å½“ä»£ç æœ‰ä¸Šåƒè¡Œï¼Œé‚£ä¹ˆæ•°ç»„å¯ä»¥æå–çš„å­—ç¬¦ä¸²å¯èƒ½ä¹Ÿæœ‰ä¸Šåƒä¸ªï¼Œç„¶ååœ¨ä»£ç ä¸­å¼•ç”¨å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå…¨éƒ¨ä»¥bigArr[1001]ï¼ŒbigArr[1002]è¿™ç§å»è®¿é—®ï¼Œè¿™æ ·æ›´åŠ ä¸å®¹æ˜“å»ºç«‹æ˜ å°„å…³ç³»äº†ã€‚ åœ¨JSä¸­ï¼ŒåŒä¸€ä¸ªæ•°ç»„å¯ä»¥å­˜æ”¾å„ç§ç±»å‹ï¼Œæ¯”å¦‚å¸ƒå°”ï¼Œæ•°å€¼ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°ç»„ï¼Œå¯¹è±¡å’Œå‡½æ•°ç­‰ã€‚å› æ­¤å¯ä»¥æŠŠä»£ç ä¸­çš„ä¸€éƒ¨åˆ†å‡½æ•°æå–åˆ°å¤§æ•°ç»„ä¸­å»ã€‚ä¸ºäº†å®‰å…¨ï¼Œé€šå¸¸å¯¹æå–åˆ°æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²è¿›è¡ŒåŠ å¯†å¤„ç†ï¼ŒæŠŠä»£ç å¤„ç†æˆå­—ç¬¦ä¸²å°±å¯ä»¥è¿›è¡ŒåŠ å¯†äº†ã€‚æ¯”å¦‚ï¼Œå¯¹äºString.fromCharCodeå¯ä»¥æ”¹å†™æˆï¼š 1&quot;&quot;[&quot;constructor&quot;][&quot;fromCharCode&quot;] æœ€å‰é¢çš„è¡¨ç¤ºä»»æ„å­—ç¬¦ä¸²å¯¹è±¡æˆ–è€…ç©ºå­—ç¬¦ä¸²ï¼Œconstructorè¡¨ç¤ºæ„é€ æ–¹æ³•ï¼Œè¿™æ ·&quot;&quot;[&quot;constructor&quot;]å°±ç›¸å½“äºStringã€‚å‰é¢çš„demoå¤„ç†æˆæ•°ç»„æ··æ·†çš„å½¢å¼å¦‚ä¸‹ï¼š 1234567891011121314var bigArr = [ &#x27;\\u65e5&#x27;, &#x27;\\u4e00&#x27;, &#x27;\\u4e8c&#x27;, &#x27;\\u4e09&#x27;, &#x27;\\u56db&#x27;, &#x27;\\u4e94&#x27;, &#x27;\\u516d&#x27;, &#x27;cmVwbGFjZQ==&#x27;, &#x27;Z2V0TW9udGg=&#x27;, &#x27;MA==&#x27;, &#x27;Z2V0RGF0ZQ==&#x27;, &#x27;RGF0ZQ==&#x27;, &#x27;Zm9ybWF0&#x27;, &#x27;eXl5eS1NTS1kZA==&#x27;, &quot;&quot;[&#x27;constructor&#x27;][&#x27;fromCharCode&#x27;]];window[atob(&#x27;RGF0ZQ==&#x27;)][atob(&#x27;cHJvdG90eXBl&#x27;)][atob(&#x27;Zm9ybWF0&#x27;)] = function(formatStr) &#123; var str = formatStr; var Week = [bigArr[0], bigArr[1], bigArr[2], bigArr[3], bigArr[4], bigArr[5], bigArr[6]]; eval(bigArr[14](115, 116, 114, 32, 61, 32, 115, 116, 114, 91, 39, 114, 101, 112, 108, 97, 99, 101, 39, 93, 40, 47, 121, 121, 121, 121, 124, 89, 89, 89, 89, 47, 44, 32, 116, 104, 105, 115, 91, 39, 103, 101, 116, 70, 117, 108, 108, 89, 101, 97, 114, 39, 93, 40, 41, 41, 59)); str = str[atob(bigArr[7])](/MM/, (this[atob(bigArr[8])]() + 1) &gt; 9 ? (this[atob(bigArr[8])]() + 1).toString() : atob(bigArr[9]) + (this[atob(bigArr[8])]() + 1)); str = str[atob(bigArr[7])](/dd|DD/, this[atob(bigArr[10])]() &gt; 9 ? this[atob(bigArr[10])]().toString() : atob(bigArr[9]) + this[atob(bigArr[10])]()); return str;&#125;console.log(new window[atob(bigArr[11])]()[atob(bigArr[12])](atob(bigArr[13]))); æ•°ç»„ä¹±åºä¸Šè¾¹è¿›è¡Œæ•°ç»„æ··æ·†ä¹‹åï¼Œæ•°ç»„ä¸‹æ ‡ç´¢å¼•ä¸æ•°ç»„æˆå‘˜æ˜¯ä¸€ä¸€å¯¹åº”ã€‚æ¯”å¦‚å¼•ç”¨bigArr[14]çš„åœ°æ–¹ï¼Œéœ€è¦æˆå‘˜String.fromCharCodeï¼Œè€Œè¯¥æ•°ç»„çš„ä¸‹æ ‡ä¸º14çš„æˆå‘˜åˆšå¥½æ˜¯è¿™ä¸ªæ–¹æ³•ã€‚å¯ä»¥å°†æ•°ç»„æˆå‘˜æ‰“ä¹±ï¼Œè¿™æ ·åœ¨åˆ†æçš„æ—¶å€™å°±æ›´åŠ è´¹åŠ›ï¼Œç„¶ååœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œé€šè¿‡ä¸€ä¸ªæ–¹æ³•å°†æ‰“ä¹±çš„æ•°ç»„è¿˜åŸï¼Œä»è€Œä¸å½±å“æ­£ç¡®çš„é€»è¾‘ã€‚ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ‰“ä¹±æ•°ç»„ï¼š 123456789101112 var bigArr = [ &#x27;\\u65e5&#x27;, &#x27;\\u4e00&#x27;, &#x27;\\u4e8c&#x27;, &#x27;\\u4e09&#x27;, &#x27;\\u56db&#x27;, &#x27;\\u4e94&#x27;, &#x27;\\u516d&#x27;, &#x27;cmVwbGFjZQ==&#x27;, &#x27;Z2V0TW9udGg=&#x27;, &#x27;MA==&#x27;, &#x27;Z2V0RGF0ZQ==&#x27;, &#x27;RGF0ZQ==&#x27;, &#x27;Zm9ybWF0&#x27;, &#x27;eXl5eS1NTS1kZA==&#x27;, &quot;&quot;[&#x27;constructor&#x27;][&#x27;fromCharCode&#x27;]];(function(arr, num) &#123; var shuffer = function(nums) &#123; while (--nums) &#123; arr.unshift(arr.pop()); &#125; &#125; shuffer(++num);&#125;(bigArr, 0x20)); å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç è¿˜åŸæ•°ç»„ï¼š 123456789101112var bigArr = [ &#x27;eXl5eS1NTS1kZA==&#x27;, &quot;&quot;[&#x27;constructor&#x27;][&#x27;fromCharCode&#x27;], &#x27;\\u65e5&#x27;, &#x27;\\u4e00&#x27;, &#x27;\\u4e8c&#x27;, &#x27;\\u4e09&#x27;, &#x27;\\u56db&#x27;, &#x27;\\u4e94&#x27;, &#x27;\\u516d&#x27;, &#x27;cmVwbGFjZQ==&#x27;, &#x27;Z2V0TW9udGg=&#x27;, &#x27;MA==&#x27;, &#x27;Z2V0RGF0ZQ==&#x27;, &#x27;RGF0ZQ==&#x27;, &#x27;Zm9ybWF0&#x27;];(function(arr, num) &#123; var shuffer = function(nums) &#123; while (--nums) &#123; arr[&#x27;push&#x27;](arr[&#x27;shift&#x27;]()); &#125; &#125; shuffer(++num);&#125;(bigArr, 0x20)); æ‰€ä»¥æœ€å‰é¢çš„demoç»è¿‡æ•°ç»„æ··æ·†å’Œæ•°ç»„ä¹±åºä¹‹åï¼Œå¯ä»¥æ”¹å†™ä¸ºå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223var bigArr = [ &#x27;eXl5eS1NTS1kZA==&#x27;, &quot;&quot;[&#x27;constructor&#x27;][&#x27;fromCharCode&#x27;], &#x27;\\u65e5&#x27;, &#x27;\\u4e00&#x27;, &#x27;\\u4e8c&#x27;, &#x27;\\u4e09&#x27;, &#x27;\\u56db&#x27;, &#x27;\\u4e94&#x27;, &#x27;\\u516d&#x27;, &#x27;cmVwbGFjZQ==&#x27;, &#x27;Z2V0TW9udGg=&#x27;, &#x27;MA==&#x27;, &#x27;Z2V0RGF0ZQ==&#x27;, &#x27;RGF0ZQ==&#x27;, &#x27;Zm9ybWF0&#x27;];(function(arr, num) &#123; var shuffer = function(nums) &#123; while (--nums) &#123; arr[&#x27;push&#x27;](arr[&#x27;shift&#x27;]()); &#125; &#125; shuffer(++num);&#125;(bigArr, 0x20));window[atob(&#x27;RGF0ZQ==&#x27;)][atob(&#x27;cHJvdG90eXBl&#x27;)][atob(&#x27;Zm9ybWF0&#x27;)] = function(formatStr) &#123; var str = formatStr; var Week = [bigArr[0], bigArr[1], bigArr[2], bigArr[3], bigArr[4], bigArr[5], bigArr[6]]; eval(bigArr[14](115, 116, 114, 32, 61, 32, 115, 116, 114, 91, 39, 114, 101, 112, 108, 97, 99, 101, 39, 93, 40, 47, 121, 121, 121, 121, 124, 89, 89, 89, 89, 47, 44, 32, 116, 104, 105, 115, 91, 39, 103, 101, 116, 70, 117, 108, 108, 89, 101, 97, 114, 39, 93, 40, 41, 41, 59)); str = str[atob(bigArr[7])](/MM/, (this[atob(bigArr[8])]() + 1) &gt; 9 ? (this[atob(bigArr[8])]() + 1).toString() : atob(bigArr[9]) + (this[atob(bigArr[8])]() + 1)); str = str[atob(bigArr[7])](/dd|DD/, this[atob(bigArr[10])]() &gt; 9 ? this[atob(bigArr[10])]().toString() : atob(bigArr[9]) + this[atob(bigArr[10])]()); return str;&#125;console.log(new window[atob(bigArr[11])]()[atob(bigArr[12])](atob(bigArr[13]))); èŠ±æŒ‡ä»¤æ‰€è°“èŠ±æŒ‡ä»¤ï¼Œå°±æ˜¯æ·»åŠ ä¸€äº›æ²¡æœ‰æ„ä¹‰å´å¯ä»¥æ··æ·†è§†å¬çš„ä»£ç ã€‚ä»¥å‰é¢æåˆ°çš„demoä¸­çš„æŸä¸€è¡Œä»£ç ä¸ºä¾‹ï¼š 1str = str.replace(/MM/, (this.getMonth() + 1) &gt; 9 ? (this.getMonth() + 1).toString() : &#x27;0&#x27; + (this.getMonth() + 1)); æŠŠthis.getMonth() + 1è¿™ä¸ªäºŒé¡¹å¼æ”¹å†™ä¸ºï¼š 1234function _0x20abefx1(a, b) &#123; return a + b;&#125;// str = str.replace(/MM/, (_0x20abefx1(new Date().getMonth(), 1)) &gt; 9 ? (_0x20abefx1(new Date().getMonth(), 1)).toString() : &#x27;0&#x27; + (_0x20abefx1(new Date().getMonth(), 1))); æœ¬è´¨æ˜¯æŠŠä¸€ä¸ªäºŒé¡¹å¼æ‹†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼Œæœ€å·¦è¾¹å’Œæœ€å³è¾¹çš„å‚æ•°ï¼Œä¸­é—´çš„è¿ç®—ç¬¦å¯ä»¥å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œä½†æ˜¯èƒ½ç¬é—´å¢åŠ ä»£ç é‡ï¼Œä»è€Œå¢åŠ JSä½ é€†å‘è€…çš„å·¥ä½œé‡ã€‚ äºŒé¡¹å¼è½¬æˆå‡½æ•°æ—¶ï¼Œè¿˜å¯ä»¥å¤šçº§åµŒå¥—ï¼š 1234567function _0x20abefx1(a, b) &#123; return a + b;&#125;function _0x20abefx2(a, b) &#123; return _0x20abefx1(a, b);&#125; å…·æœ‰åŒæ ·åŠŸèƒ½çš„äºŒé¡¹å¼ï¼Œå¯ä»¥è°ƒç”¨ä¸åŒçš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼š 12345678910111213function _0x20abefx1(a, b) &#123; return a + b;&#125;function _0x20abefx2(a, b) &#123; return a + b;&#125;function _0x20abefx3(a, b) &#123; return _0x20abefx1(a, b);&#125;// str = str.replace(/MM/, (_0x20abefx1(new Date().getMonth(), 1)) &gt; 9 ? (_0x20abefx2(new Date().getMonth(), 1)).toString() : &#x27;0&#x27; + (_0x20abefx3(new Date().getMonth(), 1))); é™¤äº†äºŒé¡¹å¼è½¬ä¸ºå‡½æ•°å¯ä»¥ä½¿ç”¨èŠ±æŒ‡ä»¤ï¼Œå‡½æ•°è°ƒç”¨è¡¨è¾¾å¼ä¹Ÿå¯ä»¥å¤„ç†æˆç±»ä¼¼çš„èŠ±æŒ‡ä»¤ï¼š 12345678910111213141516function _0x20abefx1(a, b, c) &#123; return a(b, c);&#125;function _0x20abefx2(a, b, c) &#123; return _0x20abefx1(a, b, c);&#125;function _0x20abefx3(a, b) &#123; return a + b;&#125;str = str.replace( /MM/, _0x20abefx2(_0x20abefx3, new Date().getMonth(), 1) &gt; 9 ? (_0x20abefx2(_0x20abefx3, new Date().getMonth(), 1)).toString() : _0x20abefx2(_0x20abefx3, &#x27;0&#x27;, (_0x20abefx2(_0x20abefx3, new Date().getMonth(), 1)))); jsfuckjsfuckå¯ä»¥çœ‹ä½œä¸€ç§ç¼–ç æ–¹å¼ï¼Œå¯ä»¥æŠŠJSä»£ç é€šè¿‡åªç”¨()ï¼Œ[]ï¼Œ+ï¼Œ!è¿™6ç§å­—ç¬¦è¡¨ç¤ºçš„ä»£ç ï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸é˜…è¯»ã€‚æ¯”å¦‚æ•°å€¼å¸¸é‡8å¯ä»¥è¡¨ç¤ºæˆï¼š 1(!+[]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+[]) []è¡¨ç¤ºç©ºæ•°ç»„ï¼Œ+[]è¡¨ç¤ºæŠŠç©ºæ•°ç»„è½¬æ¢ä¸ºæ•°å€¼ç„¶åè¿›è¡Œè¿è¡Œï¼Œç”±äºç©ºæ•°ç»„æ˜¯0ï¼Œæ‰€ä»¥+[]è¡¨ç¤ºæ•°å€¼0ï¼Œ!+[]è¡¨ç¤ºå¯¹æ•°å€¼0å–åä¸ºå¸ƒå°”å€¼trueã€‚ JSä¸­æœ‰ä¸ƒç§å€¼ä¸ºfalseï¼Œå…¶ä½™éƒ½ä¸ºtrueã€‚è¿™7ç§å€¼ä¸ºfalse, undefine, null, 0, -0, NaNå’Œâ€â€ã€‚æ‰€ä»¥!![]ä¸ºtrueã€‚ JSä¸­çš„+è¿ç®—ç¬¦ä½œä¸ºä¸€ä¸ªäºŒå…ƒè¿ç®—ç¬¦æ—¶ï¼Œå‡å¦‚æœ‰ä¸€è¾¹æ˜¯å­—ç¬¦ä¸²åˆ™ä»£è¡¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¦åˆ™ä»£è¡¨æ•°å€¼ç›¸åŠ ã€‚æ‰€ä»¥true + true = 2ã€‚ åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œjsfuckçš„åº”ç”¨æœ‰é™ã€‚åªä¼šåº”ç”¨äºjsæ–‡ä»¶ä¸­çš„ä¸€éƒ¨åˆ†ä»£ç ã€‚ä¸»è¦å®ƒçš„ä»£ç é‡éå¸¸åºå¤§ï¼Œä¸”æ˜“äºè¿˜åŸï¼Œåªéœ€è¦å°†ä»£ç å¤åˆ¶åˆ°consoleå³å¯è¿˜åŸã€‚åœ¨jsfuckçš„æ··æ·†ä¸­ï¼Œé€šè¿‡ç”¨()æ¥è¿›è¡Œåˆ†ç»„ï¼Œå¦‚æœæˆ‘ä»¬é‡åˆ°JSæ–‡ä»¶å±€éƒ¨åº”ç”¨jsfuckçš„ä»£ç ï¼Œå¯ä»¥å…ˆé€šè¿‡()å°†ä»£ç åˆ†ç»„ï¼Œç„¶åé€ç»„é€ç»„çš„åˆ†æè¿˜åŸã€‚ ä»£ç æ‰§è¡Œæµç¨‹çš„é˜²æŠ¤åŸç†æµç¨‹å¹³å¦åŒ–åœ¨æµç¨‹å¹³å¦åŒ–æ··æ·†ä¸­ï¼Œä¼šç”¨åˆ°switchè¯­å¥ï¼Œå› ä¸ºswitchè¯­å¥ä¸­çš„caseå—æ˜¯å¹³çº§çš„ï¼Œè€Œä¸”è°ƒæ¢caseå—çš„å‰åé¡ºåºå¹¶ä¸å½±å“ä»£ç åŸå…ˆçš„æ‰§è¡Œé€»è¾‘ã€‚çœ‹ä¸€æ®µä»£ç ï¼š 123456789function test() &#123; var a = 100; var b = a + 200; var c = b + 300; var d = c + 400; var e = d + 500; var f = e + 600; return f;&#125; æ··æ·†testæ–¹æ³•çš„æ‰§è¡Œæµç¨‹ä¸ºï¼šé¦–å…ˆæŠŠä»£ç åˆ†å—ï¼Œä¸”æ‰“ä¹±ä»£ç å—çš„é¡ºåºï¼Œåˆ†åˆ«æ·»åŠ åˆ°ä¸åŒçš„caseå—ä¸­ï¼Œæ–¹ä¾¿èµ·è§ï¼Œè¿™é‡Œå¤„ç†åœºä¸€è¡Œä»£ç å¯¹åº”ä¸€ä¸ªcaseå—çš„å½¢å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516switch () &#123; case &#x27;1&#x27;: var c = b + 300; case &#x27;2&#x27;: var e = d + 500; case &#x27;3&#x27;: var d = c + 400; case &#x27;4&#x27;: var f = e + 600; case &#x27;5&#x27;: var b = a + 200; case &#x27;6&#x27;: return f; case &#x27;7&#x27;: var a = 100;&#125; å¯ä»¥çœ‹åˆ°ï¼Œå½“ä»£ç å—æ‰“ä¹±ä¹‹åï¼Œå¦‚æœæƒ³è·ŸåŸå…ˆçš„æ‰§è¡Œé¡ºåºä¸€æ ·ï¼Œé‚£ä¹ˆcaseå—çš„è·³è½¬é¡ºåºåº”è¯¥æ˜¯7ï¼Œ5ï¼Œ1ï¼Œ3ï¼Œ2ï¼Œ4ï¼Œ6ã€‚åªæœ‰caseå—æŒ‰ç…§è¿™ä¸ªæµç¨‹æ‰§è¡Œï¼Œæ‰èƒ½è·ŸåŸå§‹ä»£ç å—çš„é¡ºåºä¿æŒä¸€è‡´ã€‚å…¶æ¬¡ï¼Œéœ€è¦ä¸€ä¸ªå¾ªç¯ï¼Œå› ä¸ºswitchè¯­å¥åªè®¡ç®—ä¸€æ¬¡switchè¡¨è¾¾å¼ã€‚æ•´ä¸ªä»£ç æ”¹å†™å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324while (!![]) &#123; switch () &#123; case &#x27;1&#x27;: var c = b + 300; continue; case &#x27;2&#x27;: var e = d + 500; continue; case &#x27;3&#x27;: var d = c + 400; continue; case &#x27;4&#x27;: var f = e + 600; continue; case &#x27;5&#x27;: var b = a + 200; continue; case &#x27;6&#x27;: return f; case &#x27;7&#x27;: var a = 100; &#125; break;&#125; è¿™æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œå‡å¦‚å‡½æ•°æœ‰è¿”å›å€¼ï¼Œåˆ™æ‰§è¡Œåˆ°ç›¸åº”çš„caseè¯­å¥å—åç›´æ¥è¿”å›ã€‚å‡å¦‚å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œåˆ™ä»£ç å—æ‰§è¡Œåˆ°æœ€åå°±éœ€è¦è®©switchè®¡ç®—å‡ºæ¥çš„è¡¨è¾¾å¼çš„å€¼ä¸æ¯ä¸€ä¸ªcaseçš„å€¼éƒ½ä¸åŒ¹é…ï¼Œé‚£ä¹ˆå°±ä¼šæ‰§è¡Œæœ€åçš„breakæ¥è·³å‡ºå¾ªç¯ã€‚ æ¥ç€æˆ‘ä»¬éœ€è¦æ„é€ ä¸€ä¸ªåˆ†å‘å™¨ï¼Œé‡Œé¢è®°å½•ä»£ç å—æ‰§è¡Œçš„çœŸå®é¡ºåºï¼Œä¾‹å¦‚var arrStr = â€˜7|5|1|3|2|4|6â€™.split(â€˜|â€™)ï¼Œi=0ã€‚æŠŠè¿™ä¸ªå­—ç¬¦ä¸²â€™7|5|1|3|2|4|6â€™é€šè¿‡splitåˆ†å‰²æˆä¸€ä¸ªæ•°ç»„ã€‚iä½œä¸ºè®¡æ•°å™¨ï¼Œæ¯æ¬¡é€’å¢ï¼ŒæŒ‰é¡ºåºå¼•ç”¨æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæˆå‘˜ã€‚å› æ­¤ï¼Œswitchä¸­çš„è¡¨è¾¾å¼å°±å¯ä»¥å†™æˆswitch(arrStr[i++])ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627function test() &#123; var arrStr = &#x27;7|5|1|3|2|4|6&#x27;.split(&#x27;|&#x27;)ï¼Œi=0; while (!![]) &#123; switch (arrStr[i++]) &#123; case &#x27;1&#x27;: var c = b + 300; continue; case &#x27;2&#x27;: var e = d + 500; continue; case &#x27;3&#x27;: var d = c + 400; continue; case &#x27;4&#x27;: var f = e + 600; continue; case &#x27;5&#x27;: var b = a + 200; continue; case &#x27;6&#x27;: return f; case &#x27;7&#x27;: var a = 100; &#125; break; &#125; &#125; å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œå³switchä¸­æ²¡æœ‰returnè¯­å¥ï¼Œæœ€åä¸€æ¬¡é€’å¢iä¼šå¯¼è‡´æ•°ç»„è¶Šç•Œï¼ŒJSä¸­æ•°ç»„è¶Šç•Œä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯å–å‡ºæ¥ä¸ºundefinedï¼Œç„¶ååŒ¹é…ä¸åˆ°ä»»ä½•çš„switchè¯­å¥å°±ä¼šæ‰§è¡Œbreakè·³å‡ºæ­»å¾ªç¯ã€‚ åœ¨äº†è§£äº†æµç¨‹å¹³å¦åŒ–ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä¹‹å‰çš„demoè¿›ä¸€æ­¥æ··æ·†ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859var bigArr = [ &#x27;eXl5eS1NTS1kZA==&#x27;, &quot;&quot;[&#x27;constructor&#x27;][&#x27;fromCharCode&#x27;], &#x27;\\u65e5&#x27;, &#x27;\\u4e00&#x27;, &#x27;\\u4e8c&#x27;, &#x27;\\u4e09&#x27;, &#x27;\\u56db&#x27;, &#x27;\\u4e94&#x27;, &#x27;\\u516d&#x27;, &#x27;cmVwbGFjZQ==&#x27;, &#x27;Z2V0TW9udGg=&#x27;, &#x27;MA==&#x27;, &#x27;Z2V0RGF0ZQ==&#x27;, &#x27;RGF0ZQ==&#x27;, &#x27;Zm9ybWF0&#x27;];(function(arr, num) &#123; var shuffer = function(nums) &#123; while (--nums) &#123; arr[&#x27;push&#x27;](arr[&#x27;shift&#x27;]()); &#125; &#125; shuffer(++num);&#125;(bigArr, 0x20));function _0x20abefx1(a, b, c) &#123; return a(b, c);&#125;function _0x20abefx2(a, b, c) &#123; return _0x20abefx1(a, b, c);&#125;function _0x20abefx3(a, b) &#123; return a + b;&#125;window[atob(&#x27;RGF0ZQ==&#x27;)][atob(&#x27;cHJvdG90eXBl&#x27;)][atob(&#x27;Zm9ybWF0&#x27;)] = function(formatStr) &#123; var arrStr = &#x27;7|5|1|3|2|4&#x27;.split(&quot;|&quot;), i = 0; while (!![]) &#123; switch (arrStr[i++]) &#123; case &#x27;1&#x27;: eval(bigArr[14](115, 116, 114, 32, 61, 32, 115, 116, 114, 91, 39, 114, 101, 112, 108, 97, 99, 101, 39, 93, 40, 47, 121, 121, 121, 121, 124, 89, 89, 89, 89, 47, 44, 32, 116, 104, 105, 115, 91, 39, 103, 101, 116, 70, 117, 108, 108, 89, 101, 97, 114, 39, 93, 40, 41, 41, 59)); continue; case &#x27;2&#x27;: str = str[atob(bigArr[7])]( /dd|DD/, this[atob(bigArr[10])] &gt; 9 ? this[atob(bigArr[10])]().toString() : _0x20abefx2(_0x20abefx3, atob(bigArr[9]), this[atob(bigArr[10])]())); continue; case &#x27;3&#x27;: str = str[atob(bigArr[7])]( /MM/, _0x20abefx2(_0x20abefx3, this[atob(bigArr[8])](), 1) &gt; 9 ? (_0x20abefx2(_0x20abefx3, this[atob(bigArr[8])](), 1)).toString() : _0x20abefx2(_0x20abefx3, atob(bigArr[9]), (_0x20abefx2(_0x20abefx3, this[atob(bigArr[8])](), 1)))); continue; case &#x27;4&#x27;: return str; case &#x27;5&#x27;: var Week = [bigArr[0], bigArr[1], bigArr[2], bigArr[3], bigArr[4], bigArr[5], bigArr[6]]; continue; case &#x27;7&#x27;: var \\u0073\\u0074\\u0072 = \\u0066\\u006f\\u0072\\u006d\\u0061\\u0074\\u0053\\u0074\\u0072; continue; &#125; break; &#125; return str;&#125;console.log(new window[atob(bigArr[11])]()[atob(bigArr[12])](atob(bigArr[13]))); é€—å·è¡¨è¾¾å¼æ··æ·†é€—å·è¿ç®—ç¬¦çš„ä¸»è¦ä½œç”¨æ˜¯æŠŠå¤šä¸ªè¡¨è¾¾å¼æˆ–è¯­å¥è¿æ¥æˆä¸€ä¸ªå¤åˆè¯­å¥ã€‚æ¯”å¦‚å‰é¢æåˆ°çš„testæ–¹æ³•ï¼Œå¯ä»¥æ”¹å†™ä¸ºï¼š 1234function test() &#123; var a, b, c, d, e, f; return a = 100, b = a + 200, c = b + 300, d = c + 400, e = d + 500, f = e + 600, f;&#125; returnè¯­å¥é€šå¸¸åªè·Ÿä¸€ä¸ªè¯­å¥ï¼Œä½†æ˜¯é€—å·è¡¨è¾¾å¼å¯ä»¥æŠŠå¤šä¸ªè¯­å¥ç¬¦åˆæˆä¸€ä¸ªè¯­å¥ï¼Œè¿™æ ·ä¼šä¾æ¬¡æ‰§è¡Œå‰é¢çš„è¯­å¥ï¼Œç„¶åæŠŠæœ€åä¸€æ¡è¯­å¥ä½œä¸ºè¿”å›å€¼ã€‚ å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š 12var a = (a = 100, a += 200)console.log(a); // 300 æ‹¬å·ä¼šä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œå…ˆæŠŠæ‹¬å·é‡Œé¢çš„è¿ç®—å®Œï¼Œç„¶åæŠŠè¿™ä¸ªæ•´ä½“çš„å€¼èµ‹å€¼ç»™aã€‚æ˜ç™½äº†è¿™ä¸ªé“ç†ï¼Œæˆ‘ä»¬å†æ”¹å†™ä¸‹testæ–¹æ³•ï¼š 1234function test() &#123; var a, b, c, d, e, f; return f = (e = (d = (c = (b = (a = 100, a + 200), b + 300), c + 400), d + 500), e + 600)&#125; å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œè¿™é‡Œå£°æ˜äº†ä¸€ç³»åˆ—çš„å˜é‡ï¼Œå¯ä»¥æŠŠè¿™äº›å˜é‡ä½œä¸ºå‚æ•°ä¼ å…¥ï¼ŒåŒæ—¶ï¼Œåœ¨æ¯ä¸€ä¸ªå˜é‡çš„èµ‹å€¼çš„é€—å·è¡¨è¾¾å¼ä¸­å¯ä»¥æ’å…¥èŠ±æŒ‡ä»¤ï¼š 123function test(a, b, c, d, e, f) &#123; return f = (e = (d = (c = (b = (a = 100, b + 1000, c + 2000, d + 3000, e + 4000, f + 5000, a + 200), c + 2000, d + 3000, e + 4000, f + 5000, b + 300), d + 3000, e + 4000, f + 5000, c + 400), e + 4000, f + 5000, d + 500), f + 5000, e + 600)&#125; è™½ç„¶éœ€è¦6ä¸ªå‚æ•°ï¼Œä½†æ˜¯å®é™…ä¸Šä¸ä¼ ä»»ä½•å‚æ•°ï¼Œä¾ç„¶æ˜¯æ­£ç¡®çš„ä»£ç é€»è¾‘ã€‚åŒæ—¶ä¸­é—´çš„èŠ±æŒ‡ä»¤ï¼Œb+1000ï¼Œc+2000ï¼Œd+3000ï¼Œe+4000ï¼Œf+5000æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ image-20220308150018181 æˆ‘ä»¬å¯¹å‰é¢ç»™çš„demoè¿›è¡Œæ”¹å†™ï¼š 1234567891011121314151617181920212223242526272829var bigArr = [ &#x27;eXl5eS1NTS1kZA==&#x27;, &quot;&quot;[&#x27;constructor&#x27;][&#x27;fromCharCode&#x27;], &#x27;\\u65e5&#x27;, &#x27;\\u4e00&#x27;, &#x27;\\u4e8c&#x27;, &#x27;\\u4e09&#x27;, &#x27;\\u56db&#x27;, &#x27;\\u4e94&#x27;, &#x27;\\u516d&#x27;, &#x27;cmVwbGFjZQ==&#x27;, &#x27;Z2V0TW9udGg=&#x27;, &#x27;MA==&#x27;, &#x27;Z2V0RGF0ZQ==&#x27;, &#x27;RGF0ZQ==&#x27;, &#x27;Zm9ybWF0&#x27;];(function(arr, num) &#123; var shuffer = function(nums) &#123; while (--nums) &#123; arr[&#x27;push&#x27;](arr[&#x27;shift&#x27;]()); &#125; &#125; shuffer(++num);&#125;(bigArr, 0x20));window[atob(&#x27;RGF0ZQ==&#x27;)][atob(&#x27;cHJvdG90eXBl&#x27;)][atob(&#x27;Zm9ybWF0&#x27;)] = function(formatStr, str, Week) &#123; return str = ( (str = ( Week = ( \\u0073\\u0074\\u0072 = \\u0066\\u006f\\u0072\\u006d\\u0061\\u0074\\u0053\\u0074\\u0072, [bigArr[0], bigArr[1], bigArr[2], bigArr[3], bigArr[4], bigArr[5], bigArr[6]] ), eval(bigArr[14](115, 116, 114, 32, 61, 32, 115, 116, 114, 91, 39, 114, 101, 112, 108, 97, 99, 101, 39, 93, 40, 47, 121, 121, 121, 121, 124, 89, 89, 89, 89, 47, 44, 32, 116, 104, 105, 115, 91, 39, 103, 101, 116, 70, 117, 108, 108, 89, 101, 97, 114, 39, 93, 40, 41, 41, 59)), str[atob(bigArr[7])](/MM/, (this[atob(bigArr[8])]() + 1) &gt; 9 ? (this[atob(bigArr[8])]() + 1).toString() : atob(bigArr[9]) + (this[atob(bigArr[8])]() + 1)) ), str[atob(bigArr[7])](/dd|DD/, this[atob(bigArr[10])]() &gt; 9 ? this[atob(bigArr[10])]().toString() : atob(bigArr[9]) + this[atob(bigArr[10])]()) ) )&#125;console.log(new window[atob(bigArr[11])]()[atob(bigArr[12])](atob(bigArr[13]))); å…¶å®ƒä»£ç é˜²æŠ¤æ–¹æ¡ˆevalåŠ å¯†çœ‹ä¸€æ®µä»£ç ï¼š 12345678910111213141516171819202122eval(function (p, a, c, k, e, r) &#123; e = function (c) &#123; return c.toString(36) &#125;; if (&#x27;0&#x27;.replace(0, e) == 0) &#123; while (c--) r[e(c)] = k[c]; k = [function (e) &#123; return r[e] || e &#125; ]; e = function () &#123; return &#x27;[2-8a-f]&#x27; &#125;; c = 1 &#125;; while (c--) if (k[c]) p = p.replace(new RegExp(&#x27;\\\\b&#x27; + e(c) + &#x27;\\\\b&#x27;, &#x27;g&#x27;), k[c]); return p&#125;(&#x27;7.prototype.8=function(a)&#123;b 2=a;b Week=[\\&#x27;æ—¥\\&#x27;,\\&#x27;ä¸€\\&#x27;,\\&#x27;äºŒ\\&#x27;,\\&#x27;ä¸‰\\&#x27;,\\&#x27;å››\\&#x27;,\\&#x27;äº”\\&#x27;,\\&#x27;å…­\\&#x27;];2=2.4(/c|YYYY/,3.getFullYear());2=2.4(/d/,(3.5()+1)&gt;9?(3.5()+1).e():\\&#x27;0\\&#x27;+(3.5()+1));2=2.4(/f|DD/,3.6()&gt;9?3.6().e():\\&#x27;0\\&#x27;+3.6());return 2&#125;;console.log(new 7().8(\\&#x27;c-d-f\\&#x27;));&#x27;, [], 16, &#x27;||str|this|replace|getMonth|getDate|Date|format||formatStr|var|yyyy|MM|toString|dd&#x27;.split(&#x27;|&#x27;), 0, &#123;&#125;)) ä¼ ç»™evalçš„æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™å°±æ˜¯è¯´å…ˆé€šè¿‡åŒ¿åå‡½æ•°å°†åŠ å¯†çš„ä»£ç è§£å¯†æˆå­—ç¬¦ä¸²ä»£ç ï¼Œç„¶åå†é€šè¿‡evalä¹‹å¿ƒè¿™ä¸²ä»£ç ã€‚æ‰€ä»¥evalåŠ å¯†è·Ÿevalå…³ç³»ä¸å¤§ï¼Œé‡è¦çš„æ˜¯è¿™ä¸ªè§£å¯†å‡½æ•°ï¼Œevalåªæ˜¯æ‰§è¡Œè§£å¯†åçš„ç»“æœï¼Œå¹¶ä¸å‚ä¸åŠ è§£å¯†ã€‚ é€šè¿‡è§£å¯†å‡½æ•°è§£å¯†å‡ºæ¥çš„å­—ç¬¦ä¸²ä»£ç ä¸ºï¼š image-20220308153442661 é€šè¿‡evalæ‰§è¡Œè§£å¯†å‡ºæ¥çš„å­—ç¬¦ä¸²ç»“æœä¸ºï¼š image-20220308153523029 å†…å­˜çˆ†ç ´å†…å­˜çˆ†ç ´æ˜¯æŒ‡åœ¨ä»£ç ä¸­åŠ å…¥æ­»ä»£ç ï¼Œæ­£å¸¸æƒ…å†µä¸‹è¿™æ®µä»£ç ä¸æ‰§è¡Œã€‚å½“æ£€æµ‹åˆ°å‡½æ•°è¢«æ ¼å¼åŒ–æˆ–è€…å‡½æ•°è¢«Hookçš„æ—¶å€™ï¼Œå°±è·³è½¬åˆ°è¿™æ®µä»£ç æ‰§è¡Œï¼Œç›´åˆ°å†…å­˜æº¢å‡ºï¼Œæµè§ˆå™¨ä¼šæç¤ºOut of Memoryç¨‹åºå¥”æºƒã€‚å†…å­˜çˆ†ç ´çš„ä»£ç å¦‚ä¸‹ï¼š 1234567var d = [0x1, 0x0, 0x0];function b() &#123; for(var i = 0x0, c = d.length; i &lt; c; i++) &#123; d.push(Math.round(Math.round())); c = d.length; &#125;&#125; ä¸Šè¿°ä»£ç ä¸­çš„forå¾ªç¯æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œä½†æ˜¯ä»£ç å†™çš„åˆä¸åƒ while(true) è¿™æ ·æ˜æ˜¾ã€‚å°¤å…¶æ˜¯ä»£ç æ··æ·†ä»¥åï¼Œä¼šæ›´å…·è¿·æƒ‘æ€§ã€‚è¿™æ®µä»£ç å…¶å®æ˜¯ä»æŸç½‘ç«™ç®€åŒ–è€Œæ¥ï¼ŒåŸå…ˆçš„ä»£ç å¦‚ä¸‹ï¼š 12345678910this[&#x27;NsTJKl&#x27;] = [0x1, 0x0, 0x0]......0x4b1809[&#x27;prototype&#x27;][&#x27;xTDWoN&#x27;] = function(_0x597ca7) &#123; for (var _0x3e27c4 = 0x0, _0x192434 = this[&#x27;NsTJKl&#x27;][&#x27;length&#x27;]; _0x3e27c4 &lt; _0x192434; _0x3e27c4++) &#123; this[&#x27;NsTJKl&#x27;][&#x27;push&#x27;](Math[&#x27;round&#x27;](Math[&#x27;random&#x27;]())) _0x192434 = this[&#x27;NsTJKl&#x27;][&#x27;length&#x27;] &#125; return _0x597ca7(this[&#x27;NsTJKl&#x27;][0x0])&#125; forå¾ªç¯çš„ç»“æŸæ¡ä»¶æ˜¯ _03e27c4 &lt; _0x92434ï¼Œå…¶ä¸­ _0x192434 çš„åˆå§‹åŒ–å€¼æ˜¯æ•°ç»„çš„å¤§å°ã€‚çœ‹ç€åƒæ˜¯ä¸€ä¸ªéå†æ•°ç»„çš„æ“ä½œï¼Œæ˜¯åœ¨å¾ªç¯ä¸­ï¼Œåˆå¾€æ•°ç»„ä¸­pushäº†æˆå‘˜ï¼Œæ¥ç€åˆé‡æ–°ç»™ _0x192434 èµ‹å€¼ä¸ºæ•°ç»„çš„å¤§å°ã€‚è¿™æ—¶è¿™æ®µä»£ç å°±æ°¸è¿œä¹Ÿä¸ä¼šç»“æŸäº†ï¼Œç›´åˆ°å†…å­˜æº¢å‡ºã€‚ æ£€æµ‹ä»£ç æ˜¯å¦è¢«æ ¼å¼åŒ–æ£€æµ‹çš„æ€è·¯å¾ˆç®€å•ï¼Œåœ¨JSä¸­ï¼Œå‡½æ•°æ˜¯å¯ä»¥è½¬ä¸ºå­—ç¬¦ä¸²çš„ã€‚å› æ­¤å¯ä»¥é€‰æ‹©ä¸€ä¸ªå‡½æ•°è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åè·Ÿå†…ç½®çš„å­—ç¬¦ä¸²å¯¹æ¯”æˆ–è€…ç”¨æ­£åˆ™åŒ¹é…ã€‚å‡½æ•°è½¬ä¸ºå­—ç¬¦ä¸²å¾ˆç®€å•ï¼š 123456function add (a, b) &#123; return a + b&#125;console.log(add + &#x27;&#x27;)console.log(add.toString()) åœ¨è°ƒè¯•çª—å£ä½¿ç”¨æ ¼å¼åŒ–ä¹‹åï¼Œä¼šäº§ç”Ÿä¸€ä¸ªåç¼€ä¸ºï¼šformattedçš„æ–‡ä»¶ã€‚ä¹‹åè¿™ä¸ªæ–‡ä»¶ä¸­è®¾ç½®æ–­ç‚¹ï¼Œè§¦å‘æ–­ç‚¹åï¼Œä¼šåœåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œé€‰ä¸­è¿™ä¸ªå‡½æ•°ï¼Œé¼ æ ‡æ‚¬åœåœ¨ä¸Šé¢ï¼Œä¼šæ˜¾ç¤ºå‡ºä»–åŸæ¥æ²¡æœ‰æ ¼å¼åŒ–ä¹‹å‰çš„æ ·å­ã€‚","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä¸­ç”¨åˆ°çš„å¸¸è§çš„ç¼–ç å’ŒåŠ å¯†","date":"2022-03-02T13:51:19.000Z","path":"JSé€†å‘ä¸­ç”¨åˆ°çš„å¸¸è§çš„ç¼–ç å’ŒåŠ å¯†/","text":"ASCIIç Pythonä»£ç æ¼”ç¤º12345_ = list(map(lambda x: print(f&quot;ascii of &#123;x&#125; is&quot;, ord(x)), &quot;abcd&quot;))# ascii of a is 97# ascii of b is 98# ascii of c is 99# ascii of d is 100 Base64ä»€ä¹ˆæ˜¯Base64Base64æ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•ã€‚ Base64çš„å­—ç¬¦é›† æ•°å­— {0, 1, 2, 3, 4, 5, 6, 7, 8, 9} å…±10ä½ å¤§å°å†™å­—æ¯ {A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z} å…±52ä½ ç‰¹æ®Šç¬¦å· {+, /} å…±2ä½ Base64ç¼–ç è¿‡ç¨‹ç”±äºbase64çš„å­—ç¬¦é›†å¤§å°ä¸º64ï¼Œé‚£ä¹ˆï¼Œéœ€è¦6ä¸ªæ¯”ç‰¹çš„äºŒè¿›åˆ¶æ•°ä½œä¸ºä¸€ä¸ªåŸºæœ¬å•å…ƒè¡¨ç¤ºä¸€ä¸ªbase64å­—ç¬¦é›†ä¸­çš„å­—ç¬¦ã€‚å› ä¸º6ä¸ªæ¯”ç‰¹æœ‰2^6=64ç§æ’åˆ—ç»„åˆã€‚ å…·ä½“æ¥è¯´ï¼Œç¼–ç è¿‡ç¨‹å¦‚ä¸‹ï¼š å°†æ¯ä¸‰ä¸ªå­—èŠ‚ä½œä¸ºä¸€ç»„ï¼Œå…±24bitï¼Œè‹¥ä¸è¶³24bitåœ¨å…¶åè¡¥å……0ï¼› å°†è¿™24ä¸ªbitåˆ†ä¸º4ç»„ï¼Œæ¯ä¸€ç»„6ä¸ªbitï¼› åœ¨æ¯ç»„å‰åŠ 00æ‰©å±•ä¸º8ä¸ªbitï¼Œå½¢æˆ4ä¸ªå­—èŠ‚ï¼Œæ¯ä¸ªå­—èŠ‚è¡¨ç¤ºbase64å­—ç¬¦é›†ç´¢å¼•ï¼› æ‰©å±•åçš„8bitè¡¨ç¤ºçš„æ•´æ•°ä½œä¸ºç´¢å¼•ï¼Œå¯¹åº”base64å­—ç¬¦é›†çš„ä¸€ä¸ªå­—ç¬¦ï¼Œè¿™å°±æ˜¯base64ç¼–ç å€¼ï¼›åœ¨å¤„ç†æœ€åçš„ä¸è¶³3å­—èŠ‚æ—¶ï¼Œç¼ºä¸€ä¸ªå­—èŠ‚ç´¢å¼•å­—èŠ‚å–3ä¸ªï¼Œæœ€åå¡«å……ä¸€ä¸ª=ï¼Œï¼›ç¼ºä¸¤ä¸ªå­—èŠ‚å–2ä¸ªç´¢å¼•å­—èŠ‚ï¼Œæœ€åå¡«å……==ã€‚ è§£ç æ—¶å°†è¿‡ç¨‹é€†å‘å³å¯ã€‚ Base64å­—ç¬¦é›†ç´¢å¼•è¡¨ï¼š å›¾ç‰‡æ¥æºç»´åŸºç™¾ç§‘ **** ##### ç¼–ç ç¤ºä¾‹ **Mançš„base64ç¼–ç **ï¼š å›¾ç‰‡æ¥æºç»´åŸºç™¾ç§‘ ç¬¬ä¸€æ­¥ï¼Œâ€™Mâ€™, â€˜aâ€™, â€˜nâ€™çš„ASCIIå€¼åˆ†åˆ«ä¸º77, 97, 110ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶å€¼åˆ†åˆ«ä¸ºï¼š01001101, 01100001, 01101110ï¼›å–ä¸‰ä¸ªå­—èŠ‚å…±24bitï¼š010011010110000101101110ã€‚ ç¬¬äºŒæ­¥ï¼Œå°†è¿™24bitåˆ†ä¸º4ç»„ï¼Œæ¯ç»„6ä¸ªbitï¼š010011, 010110, 000101, 101110ã€‚ æ¯ç»„å‰é¢åŠ 00ï¼Œå½¢æˆ4ä¸ªå­—èŠ‚çš„ï¼Œ00010011, 00010110, 00000101, 00101110, å³19, 22, 5, 46ã€‚ æ ¹æ®ç´¢å¼•è¡¨ï¼Œå¯¹åº”çš„base64å­—ç¬¦åˆ†åˆ«æ˜¯T, W, F, uã€‚ Pythonå®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677&quot;&quot;&quot;base64å®ç°&quot;&quot;&quot;import base64import string# base å­—ç¬¦é›†base64_charset = string.ascii_uppercase + string.ascii_lowercase + string.digits + &#x27;+/&#x27;def encode(origin_bytes): &quot;&quot;&quot; å°†bytesç±»å‹ç¼–ç ä¸ºbase64 :param origin_bytes:éœ€è¦ç¼–ç çš„bytes :return:base64å­—ç¬¦ä¸² &quot;&quot;&quot; # å°†æ¯ä¸€ä½bytesè½¬æ¢ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸² base64_bytes = [&#x27;&#123;:0&gt;8&#125;&#x27;.format(str(bin(b)).replace(&#x27;0b&#x27;, &#x27;&#x27;)) for b in origin_bytes] resp = &#x27;&#x27; nums = len(base64_bytes) // 3 remain = len(base64_bytes) % 3 integral_part = base64_bytes[0:3 * nums] while integral_part: # å–ä¸‰ä¸ªå­—èŠ‚ï¼Œä»¥æ¯6æ¯”ç‰¹ï¼Œè½¬æ¢ä¸º4ä¸ªæ•´æ•° tmp_unit = &#x27;&#x27;.join(integral_part[0:3]) tmp_unit = [int(tmp_unit[x: x + 6], 2) for x in [0, 6, 12, 18]] # å–å¯¹åº”base64å­—ç¬¦ resp += &#x27;&#x27;.join([base64_charset[i] for i in tmp_unit]) integral_part = integral_part[3:] if remain: # è¡¥é½ä¸‰ä¸ªå­—èŠ‚ï¼Œæ¯ä¸ªå­—èŠ‚è¡¥å…… 0000 0000 remain_part = &#x27;&#x27;.join(base64_bytes[3 * nums:]) + (3 - remain) * &#x27;0&#x27; * 8 # å–ä¸‰ä¸ªå­—èŠ‚ï¼Œä»¥æ¯6æ¯”ç‰¹ï¼Œè½¬æ¢ä¸º4ä¸ªæ•´æ•° # å‰©ä½™1å­—èŠ‚å¯æ„é€ 2ä¸ªbase64å­—ç¬¦ï¼Œè¡¥å……==ï¼›å‰©ä½™2å­—èŠ‚å¯æ„é€ 3ä¸ªbase64å­—ç¬¦ï¼Œè¡¥å……= tmp_unit = [int(remain_part[x: x + 6], 2) for x in [0, 6, 12, 18]][:remain + 1] resp += &#x27;&#x27;.join([base64_charset[i] for i in tmp_unit]) + (3 - remain) * &#x27;=&#x27; return respdef decode(base64_str): &quot;&quot;&quot; è§£ç base64å­—ç¬¦ä¸² :param base64_str:base64å­—ç¬¦ä¸² :return:è§£ç åçš„bytearrayï¼›è‹¥å…¥å‚ä¸æ˜¯åˆæ³•base64å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºbytearray &quot;&quot;&quot; if not valid_base64_str(base64_str): return bytearray() # å¯¹æ¯ä¸€ä¸ªbase64å­—ç¬¦å–ä¸‹æ ‡ç´¢å¼•ï¼Œå¹¶è½¬æ¢ä¸º6ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸² base64_bytes = [&#x27;&#123;:0&gt;6&#125;&#x27;.format(str(bin(base64_charset.index(s))).replace(&#x27;0b&#x27;, &#x27;&#x27;)) for s in base64_str if s != &#x27;=&#x27;] resp = bytearray() nums = len(base64_bytes) // 4 remain = len(base64_bytes) % 4 integral_part = base64_bytes[0:4 * nums] while integral_part: # å–4ä¸ª6ä½base64å­—ç¬¦ï¼Œä½œä¸º3ä¸ªå­—èŠ‚ tmp_unit = &#x27;&#x27;.join(integral_part[0:4]) tmp_unit = [int(tmp_unit[x: x + 8], 2) for x in [0, 8, 16]] for i in tmp_unit: resp.append(i) integral_part = integral_part[4:] if remain: remain_part = &#x27;&#x27;.join(base64_bytes[nums * 4:]) tmp_unit = [int(remain_part[i * 8:(i + 1) * 8], 2) for i in range(remain - 1)] for i in tmp_unit: resp.append(i) return resp ç‰¹åˆ«æ³¨æ„ï¼šBase64é»˜è®¤çš„å­—ç¬¦é›†ç´¢å¼•æ˜¯ä¸Šè¾¹ç»™å‡ºçš„é‚£å¼ å›¾ç‰‡ï¼Œæœ‰ä¸€äº›JSåçˆ¬ä¼šåœ¨Base64çš„å­—ç¬¦é›†ä¸Šé¢åšæ–‡ç« ï¼Œæ¯”å¦‚æ‰“ä¹±å­—ç¬¦é›†çš„é¡ºåºï¼Œå¯¼è‡´ç¼–ç ä¹‹åçš„å­—ç¬¦ä¸²æ— æ³•ç”¨åŸæ¥çš„å­—ç¬¦é›†ç´¢å¼•è¿›è¡Œè§£ç ï¼Œè¿™æ ·è®©äººè¯¯ä»¥ä¸ºä¸æ˜¯Base64ç¼–ç ï¼Œå®é™…ä¸Šä¾ç„¶ä½¿ç”¨çš„æ˜¯Base64ç¼–ç ï¼Œåªä¸è¿‡è§£ç çš„æ—¶å€™ç”¨çš„æ˜¯è·Ÿç¼–ç ä¸€æ ·çš„æ‰“ä¹±ä¹‹åçš„å­—ç¬¦é›†ç´¢å¼•ã€‚æ¯”å¦‚æˆ‘ä»¬å°†ä¸Šé¢ç”Ÿæˆå­—ç¬¦é›†ç´¢å¼•çš„ä»£ç æ”¹ä¸ºå¦‚ä¸‹ï¼š 123base64_charset = list(string.ascii_uppercase + string.ascii_lowercase + string.digits + &#x27;+/&#x27;)random.shuffle(base64_charset)base64_charset = &quot;&quot;.join(base64_charset) ç„¶åæµ‹è¯•ä¸€ä¸‹ç¨‹åºï¼Œç»“æœå¦‚ä¸‹ï¼š image-20220322002411118 å¯ä»¥çœ‹åˆ°éšç€æ¯æ¬¡ä½¿ç”¨çš„å­—ç¬¦é›†ç´¢å¼•è¡¨ä¸åŒï¼Œå¯¼è‡´æ¯æ¬¡Base64ç¼–ç çš„ç»“æœä¹Ÿä¸åŒï¼Œä½†æ˜¯å¦‚æœè§£ç è·Ÿç¼–ç ä½¿ç”¨åŒä¸€å¥—å­—ç¬¦é›†ç´¢å¼•è¡¨ï¼Œä¾ç„¶å¯ä»¥æ­£ç¡®çš„è§£ç å¾—åˆ°ç¼–ç ä¹‹å‰çš„å†…å®¹ã€‚ md5ä¿¡æ¯æŒ‡çº¹MD5æ¶ˆæ¯æ‘˜è¦ç®—æ³•ï¼ˆè‹±è¯­ï¼šMD5 Message-Digest Algorithmï¼‰ï¼Œä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨çš„å¯†ç æ•£åˆ—å‡½æ•°ï¼Œå¯ä»¥äº§ç”Ÿå‡ºä¸€ä¸ª128ä½ï¼ˆ16ä¸ªå­—ç¬¦(BYTES)ï¼‰çš„æ•£åˆ—å€¼ï¼ˆhash valueï¼‰ï¼Œç”¨äºç¡®ä¿ä¿¡æ¯ä¼ è¾“å®Œæ•´ä¸€è‡´ã€‚ Pythonä»£ç æ¼”ç¤º1234567891011121314151617181920import hashlibdef md5(text: str): m = hashlib.md5() m.update(text.encode(&quot;utf-8&quot;)) return m.hexdigest()def file_md5(filename: str): m = hashlib.md5() with open(filename, &quot;rb&quot;) as f: for chunk in iter(lambda: f.read(4096), b&quot;&quot;): m.update(chunk) return m.hexdigest()print(md5(&quot;123456&quot;)) # e10adc3949ba59abbe56e057f20f883eprint(file_md5(&quot;xxx.json&quot;)) # eea7fb16ddf174c2f92cac5adb6ce7bc AES åŠ å¯†AESï¼Œé«˜çº§åŠ å¯†æ ‡å‡†ï¼ˆAdvanced Encryption Standardï¼‰ã€‚æ˜¯ç”¨æ¥æ›¿ä»£ DESï¼Œç›®å‰æ¯”è¾ƒæµè¡Œçš„å¯¹ç§°åŠ å¯†ç®—æ³•ã€‚ å¯¹ç§°åŠ å¯†ä¸€æ–¹é€šè¿‡å¯†é’¥å°†ä¿¡æ¯åŠ å¯†åï¼ŒæŠŠå¯†æ–‡ä¼ ç»™å¦ä¸€æ–¹ï¼Œå¦ä¸€æ–¹é€šè¿‡è¿™ä¸ªç›¸åŒçš„å¯†é’¥å°†å¯†æ–‡è§£å¯†ï¼Œè½¬æ¢æˆå¯ä»¥ç†è§£çš„æ˜æ–‡ã€‚ éå¯¹ç§°åŠ å¯† Aè¦å‘Bå‘é€ä¿¡æ¯ï¼ŒAå’ŒBéƒ½è¦äº§ç”Ÿä¸€å¯¹ç”¨äºåŠ å¯†å’Œè§£å¯†çš„å…¬é’¥å’Œç§é’¥ã€‚ Açš„ç§é’¥ä¿å¯†ï¼Œå…¬é’¥å‘Šè¯‰Bï¼›Bçš„ç§é’¥ä¿å¯†ï¼Œå…¬é’¥å‘Šè¯‰Aã€‚ Aè¦ç»™Bå‘é€ä¿¡æ¯æ—¶ï¼ŒAç”¨Bçš„å…¬é’¥åŠ å¯†ä¿¡æ¯ï¼Œå› ä¸ºAçŸ¥é“Bçš„å…¬é’¥ã€‚ Aå°†è¿™ä¸ªä¿¡æ¯å‘ç»™B(å·²ç»ç”¨Bçš„å…¬é’¥åŠ å¯†ä¿¡æ¯)ã€‚ Bæ”¶åˆ°ä¿¡æ¯åï¼ŒBç”¨è‡ªå·±çš„ç§é’¥è§£å¯†Açš„ä¿¡æ¯ï¼Œå…¶å®ƒæ‰€æœ‰æ”¶åˆ°è¿™ä¸ªæŠ¥æ–‡çš„äººéƒ½æ— æ³•è§£å¯†ï¼Œå› ä¸ºåªæœ‰Bæ‰æœ‰è§£å¯†çš„ç§é’¥ã€‚ åè¿‡æ¥ï¼ŒBç»™Aå‘é€ä¿¡æ¯æ—¶ä¸€æ ·ã€‚ å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†çš„åŒºåˆ« å¯¹ç§°åŠ å¯†ä¸è§£å¯†ä½¿ç”¨çš„åŒæ ·çš„å¯†é’¥ï¼Œæ‰€ä»¥é€Ÿåº¦å¿«ï¼Œä½†ç”±äºéœ€è¦å°†å¯†é’¥åœ¨ç½‘ç»œä¸­ä¼ è¾“ï¼Œæ‰€ä»¥å®‰å…¨æ€§ä¸é«˜ã€‚ éå¯¹ç§°åŠ å¯†ä½¿ç”¨äº†ä¸€å¯¹å¯†é’¥ï¼Œå…¬é’¥ä¸ç§é’¥ï¼Œæ‰€ä»¥å®‰å…¨æ€§é«˜ï¼Œä½†åŠ å¯†ä¸è§£å¯†é€Ÿåº¦æ…¢ã€‚ è§£å†³çš„æ–¹æ³•æ˜¯å°†å¯¹ç§°åŠ å¯†ä½¿ç”¨éå¯¹ç§°åŠ å¯†çš„å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼Œç„¶åå‘é€å‡ºå»ï¼Œæ¥æ”¶æ–¹ä½¿ç”¨ç§é’¥è¿›è¡Œè§£å¯†å¾—åˆ°å¯¹ç§°åŠ å¯†çš„å¯†é’¥ï¼Œç„¶ååŒæ–¹ä½¿ç”¨å¯¹ç§°åŠ å¯†è¿›è¡Œä¿¡æ¯çš„ä¼ è¾“ã€‚ AESåŠ å¯†ä¸‰è¦ç´ å¯†é’¥ï¼Œå¡«å……å’Œæ¨¡å¼ã€‚ å¯†é’¥ å¯¹ç§°åŠ å¯†ä¹‹æ‰€ä»¥å¯¹ç§°å°±æ˜¯å› ä¸ºè¿™ç±»ç®—æ³•å¯¹æ˜æ–‡çš„åŠ å¯†å’Œè§£å¯†ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯†é’¥ã€‚AESæ”¯æŒä¸‰ç§é•¿åº¦çš„å¯†é’¥ï¼š128ä½ï¼Œ192ä½ï¼Œ256ä½ã€‚ å¡«å…… è¯´åˆ°å¡«å……ä¸€å®šè¦è¯´ä¸€ä¸‹ï¼ŒAESåˆ†ç»„åŠ å¯†çš„ç‰¹æ€§ï¼ŒAESåŠ å¯†å¹¶ä¸æ˜¯ä¸€è‚¡è„‘å°†æ˜æ–‡åŠ å¯†æˆå¯†æ–‡ï¼Œè€Œæ˜¯æŠŠæ˜æ–‡æ‹†æˆä¸€ä¸ªä¸ªç‹¬ç«‹çš„æ˜æ–‡å—ï¼Œä¸”æ¯ä¸ªæ˜æ–‡å—128bitã€‚å‡å¦‚æœ‰ä¸€æ®µæ˜æ–‡é•¿åº¦æ˜¯196bitï¼Œå¦‚æœæŒ‰ç…§æ¯128bitä¸€ä¸ªæ˜æ–‡å—æ¥æ‹†åˆ†çš„è¯ï¼Œç¬¬äºŒä¸ªæ˜æ–‡å—åªæœ‰64bitï¼Œä¸è¶³128bitã€‚è¿™ä¸ªæ—¶å€™æ€ä¹ˆåŠå‘¢ï¼Ÿå°±éœ€è¦å¯¹æ˜æ–‡å—è¿›è¡Œå¡«å……ã€‚ å¡«å……çš„ç§ç±»ï¼š NoPadding - ä¸ä½œä»»ä½•å¡«å……ï¼Œä½†æ˜¯è¦æ±‚æ˜æ–‡é•¿åº¦å¿…é¡»æ˜¯128ä½çš„æ•´å€æ•°ã€‚ PKCS7Padding - å½“æ˜æ–‡å—å°‘äº16ä¸ªå­—èŠ‚ï¼Œåœ¨æ˜æ–‡å—æœ«å°¾è¡¥å……ç›¸åº”æ•°é‡çš„å­—ç¬¦ï¼ˆå­—ç¬¦ä¸ºç¼ºå°‘çš„å­—èŠ‚æ•°ï¼‰ã€‚ ZeroPadding - ç”¨0è¿›è¡Œå¡«å……ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¸æ¨èï¼Œå› ä¸ºç»å¸¸å‡ºç°æ˜æ–‡å—æœ€åä¸€å—ä¹Ÿæ˜¯0çš„æ—¶å€™ï¼Œè§£å¯†ç»å¸¸å‡ºç°é”™è¯¯ã€‚ æ¼”ç¤ºPKCS7Paddingï¼š æ¯”å¦‚ä¸€æ®µæ˜æ–‡ä¸º1ï¼Œ2ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5å½“è¿™10ä¸ªå­—èŠ‚è¿›è¡ŒåŠ å¯†çš„æ—¶å€™æ˜¯ä¸è¶³16ä¸ªå­—èŠ‚çš„ï¼Œå¦‚æœç”¨PKCS7Paddingè¿›è¡Œå¡«å……ï¼Œåº”è¯¥æ˜¯ï¼š1ï¼Œ2ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ6ï¼Œ6ï¼Œ6ï¼Œ6ï¼Œ6ï¼Œ6(å·®6ä½ï¼Œè¡¥6ï¼Œä¸”è¡¥6ä¸ªï¼›å¦‚æœæ˜¯å·®7ä½ï¼Œåˆ™è¡¥è¶³7ä¸ª7)ã€‚ æ¨¡å¼ AESçš„å·¥ä½œæ¨¡å¼ä¸»è¦ä½“ç°åœ¨æŠŠæ˜æ–‡å—åŠ å¯†æˆå¯†æ–‡å—çš„å¤„ç†è¿‡ç¨‹ä¸­ï¼ŒAESåŠ å¯†ç®—æ³•æä¾›äº†äº”ç§ä¸åŒçš„å·¥ä½œæ¨¡å¼ï¼šCBCï¼ŒECBï¼ŒCTRï¼ŒCFBï¼ŒOFBã€‚ æ¨¡å¼ä¹‹é—´çš„ä¸»é¢˜æ€æƒ³æ˜¯è¿‘ä¼¼çš„ï¼Œåœ¨å¤„ç†ç»†èŠ‚ä¸Šæœ‰ä¸€äº›å·®åˆ«ã€‚ ECBæ¨¡å¼æ˜¯æœ€ç®€å•çš„å·¥ä½œæ¨¡å¼ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œæ¯ä¸€ä¸ªæ˜æ–‡å—çš„åŠ å¯†éƒ½æ˜¯å®Œå…¨ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ¶‰ã€‚ è¿™æ ·åšçš„å¥½å¤„ï¼Ÿç®€å•ï¼›æœ‰åˆ©äºå¹¶è¡Œè®¡ç®—ã€‚ è¿™æ ·åšçš„ç¼ºç‚¹ï¼Ÿç›¸åŒçš„æ˜æ–‡å—ç»è¿‡åŠ å¯†ä¼šå˜æˆç›¸åŒçš„å¯†æ–‡å—ï¼Œå› æ­¤å®‰å…¨æ€§è¾ƒå·®ã€‚ CBCæ¨¡å¼å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼šåˆå§‹å‘é‡IVã€‚ IVæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„å‘¢ï¼Ÿå®ƒçš„ä½œç”¨å’ŒMD5çš„åŠ ç›æœ‰äº›ç±»ä¼¼ï¼Œç›®çš„æ˜¯é˜²æ­¢åŒæ ·çš„æ˜æ–‡å—å§‹ç»ˆåŠ å¯†æˆåŒæ ·çš„å¯†æ–‡å—ã€‚ CBCæ¨¡å¼åœ¨æ¯ä¸€ä¸ªæ˜æ–‡å—åŠ å¯†å‰ä¼šè®©æ˜æ–‡å—å’Œä¸€ä¸ªå€¼å…ˆåšå¼‚æˆ–æ“ä½œã€‚ IVä½œä¸ºåˆå§‹åŒ–å˜é‡ï¼Œå‚ä¸ç¬¬ä¸€ä¸ªæ˜æ–‡çš„å¼‚æˆ–ï¼Œåç»­çš„æ¯ä¸€ä¸ªæ˜æ–‡å—å’Œå®ƒå‰ä¸€ä¸ªæ˜æ–‡å—æ‰€åŠ å¯†çš„æ˜æ–‡å—ç›¸å¼‚æˆ–ã€‚è¿™æ ·ç›¸åŒçš„æ˜æ–‡å—åŠ å¯†å‡ºæ¥çš„å¯†æ–‡å—æ˜¾ç„¶æ˜¯ä¸åŒçš„ã€‚ è¿™æ ·åšçš„å¥½å¤„ï¼Ÿå®‰å…¨æ€§æ›´é«˜ã€‚ è¿™æ ·åšçš„ç¼ºç‚¹ï¼Ÿæ— æ³•å¹¶è¡Œè®¡ç®—ï¼Œæ€§èƒ½ä¸Šä¸å¦‚CBCæ¨¡å¼ï¼›å¼•å…¥åˆå§‹åŒ–å‘é‡IVï¼Œå¢åŠ å¤æ‚åº¦ã€‚ Pythonä»£ç å®ç° ECB æ¨¡å¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253from Crypto.Cipher import AESimport base64BLOCK_SIZE = 16 # Bytespad = lambda s: s + (BLOCK_SIZE - len(s) % BLOCK_SIZE) * \\ chr(BLOCK_SIZE - len(s) % BLOCK_SIZE)unpad = lambda s: s[:-ord(s[len(s) - 1:])]def aesEncrypt(key, data): &#x27;&#x27;&#x27; AESçš„ECBæ¨¡å¼åŠ å¯†æ–¹æ³• :param key: å¯†é’¥ :param data:è¢«åŠ å¯†å­—ç¬¦ä¸²ï¼ˆæ˜æ–‡ï¼‰ :return:å¯†æ–‡ &#x27;&#x27;&#x27; key = key.encode(&#x27;utf8&#x27;) # å­—ç¬¦ä¸²è¡¥ä½ data = pad(data) cipher = AES.new(key, AES.MODE_ECB) # åŠ å¯†åå¾—åˆ°çš„æ˜¯bytesç±»å‹çš„æ•°æ®ï¼Œä½¿ç”¨Base64è¿›è¡Œç¼–ç ,è¿”å›byteå­—ç¬¦ä¸² result = cipher.encrypt(data.encode()) encodestrs = base64.b64encode(result) enctext = encodestrs.decode(&#x27;utf8&#x27;) print(enctext) return enctextdef aesDecrypt(key, data): &#x27;&#x27;&#x27; :param key: å¯†é’¥ :param data: åŠ å¯†åçš„æ•°æ®ï¼ˆå¯†æ–‡ï¼‰ :return:æ˜æ–‡ &#x27;&#x27;&#x27; key = key.encode(&#x27;utf8&#x27;) data = base64.b64decode(data) cipher = AES.new(key, AES.MODE_ECB) # å»è¡¥ä½ text_decrypted = unpad(cipher.decrypt(data)) text_decrypted = text_decrypted.decode(&#x27;utf8&#x27;) print(text_decrypted) return text_decryptedif __name__ == &#x27;__main__&#x27;: key = &#x27;5c44c819appsapi0&#x27; data = &#x27;herish acorn&#x27; ecdata = aesEncrypt(key, data) # 0FyQSXu3Q9Q13JGf4F74jA== aesDecrypt(key, ecdata) # herish acorn CBC æ¨¡å¼ 123456789101112131415161718192021222324252627282930313233343536373839404142434445from Crypto.Cipher import AESimport base64# å¯†é’¥ï¼ˆkeyï¼‰, å¯†æ–¯åç§»é‡ï¼ˆivï¼‰ CBCæ¨¡å¼åŠ å¯†BLOCK_SIZE = 16 # Bytespad = lambda s: s + (BLOCK_SIZE - len(s) % BLOCK_SIZE) * \\ chr(BLOCK_SIZE - len(s) % BLOCK_SIZE)unpad = lambda s: s[:-ord(s[len(s) - 1:])]vi = &#x27;0102030405060708&#x27;def AES_Encrypt(key, data): data = pad(data) # å­—ç¬¦ä¸²è¡¥ä½ cipher = AES.new(key.encode(&#x27;utf8&#x27;), AES.MODE_CBC, vi.encode(&#x27;utf8&#x27;)) encryptedbytes = cipher.encrypt(data.encode(&#x27;utf8&#x27;)) # åŠ å¯†åå¾—åˆ°çš„æ˜¯bytesç±»å‹çš„æ•°æ®ï¼Œä½¿ç”¨Base64è¿›è¡Œç¼–ç ,è¿”å›byteå­—ç¬¦ä¸² encodestrs = base64.b64encode(encryptedbytes) # å¯¹byteå­—ç¬¦ä¸²æŒ‰utf-8è¿›è¡Œè§£ç  enctext = encodestrs.decode(&#x27;utf8&#x27;) return enctextdef AES_Decrypt(key, data): data = data.encode(&#x27;utf8&#x27;) encodebytes = base64.decodebytes(data) # å°†åŠ å¯†æ•°æ®è½¬æ¢ä½bytesç±»å‹æ•°æ® cipher = AES.new(key.encode(&#x27;utf8&#x27;), AES.MODE_CBC, vi.encode(&#x27;utf8&#x27;)) text_decrypted = cipher.decrypt(encodebytes) # å»è¡¥ä½ text_decrypted = unpad(text_decrypted) text_decrypted = text_decrypted.decode(&#x27;utf8&#x27;) print(text_decrypted) return text_decryptedif __name__ == &#x27;__main__&#x27;: key = &#x27;5c44c819appsapi0&#x27; data = &#x27;herish acorn&#x27; enctext = AES_Encrypt(key, data) # svAg4qrFNphvwS47DLSb2A== print(enctext) # herish acorn AES_Decrypt(key, enctext) NodeJSä»£ç å®ç° ECBæ¨¡å¼ 123456789101112131415161718192021222324var CryptoJS = require(&quot;crypto-js&quot;);const key = &quot;ABC1234567891234&quot;;function encrypt(text) &#123; return CryptoJS.AES.encrypt(text, CryptoJS.enc.Utf8.parse(key), &#123; iv: &#x27;&#x27;, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 &#125;)&#125;function decrypt(text) &#123; var result = CryptoJS.AES.decrypt(text, CryptoJS.enc.Utf8.parse(key), &#123; iv: &#x27;&#x27;, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 &#125;); return result.toString(CryptoJS.enc.Utf8);&#125;var text = &quot;123456&quot;;var encoded = encrypt(text);console.log(encoded.toString()); // nWhAGHyLGTLV1dff9+PEUw==console.log(decrypt(encoded)); // 123456 CBCæ¨¡å¼ 12345678910111213141516171819202122232425var CryptoJS = require(&quot;crypto-js&quot;);const key = &quot;ABC1234567891234&quot;;const iv = &quot;1234567812345678&quot;;function encrypt(text) &#123; return CryptoJS.AES.encrypt(text, CryptoJS.enc.Utf8.parse(key), &#123; iv: CryptoJS.enc.Utf8.parse(iv), mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 &#125;)&#125;function decrypt(text) &#123; var result = CryptoJS.AES.decrypt(text, CryptoJS.enc.Utf8.parse(key), &#123; iv: CryptoJS.enc.Utf8.parse(iv), mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 &#125;); return result.toString(CryptoJS.enc.Utf8);&#125;var text = &quot;123456&quot;;var encoded = encrypt(text);console.log(encoded.toString()); // 6S3YRylMmp9vIFOplWxypw==console.log(decrypt(encoded)); // 123456 AESåŠ å¯†æµç¨‹æ€»ç»“ æŠŠæ˜æ–‡æŒ‰ç…§128bitæ‹†åˆ†æˆè‹¥å¹²ä¸ªæ˜æ–‡å—ã€‚ æŒ‰ç…§é€‰æ‹©çš„å¡«å……æ–¹å¼æ¥å¡«å……æœ€åä¸€ä¸ªæ˜æ–‡å—ã€‚ æ¯ä¸€ä¸ªæ˜æ–‡å—åˆ©ç”¨AESåŠ å¯†å™¨å’Œå¯†é’¥åŠ å¯†æˆæ˜æ–‡ã€‚ æ‹¼æ¥æ‰€æœ‰çš„å¯†æ–‡å—æˆä¸ºæœ€ç»ˆçš„å¯†æ–‡ç»“æœã€‚ æ€»ç»“ AESåŠ å¯†","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä¹‹å¿«é€Ÿå®šä½å…³é”®ä»£ç ","date":"2022-03-01T14:23:00.000Z","path":"JSé€†å‘ä¹‹å¿«é€Ÿå®šä½å…³é”®ä»£ç /","text":"å¿«é€Ÿå®šä½ä¹‹æœç´¢ DOMå…ƒç´ æˆ–è€…å½“å‰é¡µé¢å†…å®¹çš„æœç´¢ Elementé¢æ¿å¿«æ·é”®CTRL+Få°±å¯ä»¥æ‰“å¼€æœç´¢æ¡†ï¼Œæœç´¢DOMå…ƒç´ ã€‚ image-20220313194959329 å…¨å±€æœç´¢ image-20220313195223274 å…¨å±€æœç´¢åŒ…å«é¡µé¢æœç´¢ image-20220313195307491 å¿«é€Ÿå®šä½ä¹‹æ–­ç‚¹ XHRæ–­ç‚¹ XHRæ–­ç‚¹åªå¯¹è¯·æ±‚å†…å®¹ä¸ºXHRçš„è¯·æ±‚ç”Ÿæ•ˆã€‚åœ¨JSé€†å‘ä¹‹Chromeæµè§ˆå™¨å·¥å…·ä½ çŸ¥å¤šå°‘ï¼Ÿä¸­ä»‹ç»è¿‡é€šè¿‡ç½‘ç»œé¢æ¿æŠ“åŒ…å¯ä»¥çœ‹åˆ°è¯·æ±‚çš„ç±»å‹ï¼Œå¦‚ä¸‹ï¼š image-20220314002711032 é€šè¿‡æŠ“åŒ…å¾—åˆ°XHRè¯·æ±‚çš„URLä¹‹åï¼Œå°±å¯ä»¥æ‰“ä¸ŠXHRæ–­ç‚¹äº†ã€‚å¼€å‘è€…å·¥å…·åˆ‡æ¢åˆ°Sourceé¢æ¿ï¼Œå±•å¼€XHR/fetch Breakpointsç‚¹å‡»+å·æ–°å»ºä¸€ä¸ªXHRæ–­ç‚¹ã€‚ image-20220314003042713 XHRæ–­ç‚¹ä¸å¡«ä»»ä½•å­—ç¬¦è¡¨ç¤ºå¯¹ä»»ä½•XHRè¯·æ±‚éƒ½ä¼šæ–­ä¸Šï¼Œä¹Ÿå¯ä»¥å¡«ä¸€ä¸ªå®Œæ•´çš„URLï¼Œä¹Ÿå¯ä»¥å¡«URLçš„ä¸€éƒ¨åˆ†ï¼Œå¦‚ä¸Šå›¾ã€‚æ³¨æ„ï¼šé€šå¸¸ä¼šå»æ‰URLåè¾¹çš„å‚æ•°ï¼Œå› ä¸ºURLåè¾¹çš„å‚æ•°å¯èƒ½æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œå¦‚æœæ˜¯åŠ¨æ€å˜åŒ–çš„ä¼šå¯¼è‡´æ¯æ¬¡éƒ½åŒ¹é…ä¸ä¸Šï¼Œå°±æ²¡æ³•æ–­ä¸Šã€‚ DOMæ–­ç‚¹ DOMæ–­ç‚¹ä¸€èˆ¬æŒ‡çš„æ˜¯é¡µé¢å…ƒç´ çš„æ–­ç‚¹ã€‚æ‰“DOMæ–­ç‚¹çš„æ–¹å¼æ˜¯åœ¨Sourceé¢æ¿ï¼Œé€‰ä¸­æŸä¸€ä¸ªå…ƒç´ å³é”®é€‰æ‹©Break onï¼Œå¦‚ä¸‹å›¾ï¼š image-20220314134609560 subtree modificationsè¡¨ç¤ºå­æ ‘å‘ç”Ÿæ›´æ”¹ï¼Œattribute modificationsè¡¨ç¤ºèŠ‚ç‚¹å±æ€§å€¼å‘ç”Ÿæ”¹å˜ï¼Œnode removalè¡¨ç¤ºèŠ‚ç‚¹è¢«ç§»é™¤ã€‚æˆ‘ä»¬ä¹Ÿç¬¬äºŒä¸ªattribute modificationsä¸ºä¾‹ï¼Œæ›´æ”¹ç™¾åº¦é¦–é¡µçš„ç™¾åº¦ä¸€ä¸‹ï¼Œå°†å…¶æ›¿æ¢ä¸ºè°·æ­Œä¸€ä¸‹ã€‚å¦‚ä¸‹å›¾ï¼š image-20220314162541977 ç„¶åå°±æˆåŠŸæ–­ä¸‹äº†ã€‚DOMæ–­ç‚¹çš„åº”ç”¨åœºæ™¯åœ¨å“ªï¼Ÿæ¯”å¦‚è¯´æœ‰ä¸€ä¸ªInputè¾“å…¥æ¡†ï¼Œç„¶åæ¯æ¬¡ç‚¹å‡»submitæŒ‰é’®ï¼ŒInputè¾“å‡ºæ¡†çš„valueå±æ€§éƒ½ä¼šæ”¹å˜ï¼ŒåŒæ—¶æŠŠè¿™ä¸ªvalueå€¼æäº¤åˆ°åç«¯ï¼Œè¿™ä¸ªæ—¶å€™é€šè¿‡DOMæ–­ç‚¹å°±å¯ä»¥æ–­åˆ°valueå€¼å‘ç”Ÿæ”¹å˜çš„åœ°æ–¹ï¼Œé€šè¿‡è°ƒç”¨æ ˆå»æŸ¥æ‰¾å¯¹åº”æ”¹å˜valueå€¼çš„ä»£ç ã€‚ Eventæ–­ç‚¹ Eventæ–­ç‚¹åœ¨Sourceé¢æ¿çš„Event Listener Breakpointsä¸€æ ã€‚ image-20220314170733786 è¿™é‡Œæˆ‘ä»¬ä»¥é¼ æ ‡çš„clickäº‹ä»¶ä¸ºä¾‹ï¼Œé€‰æ‹©Mouse/Clickäº‹ä»¶ï¼Œç„¶åç‚¹å‡»ç™¾åº¦ä¸€ä¸‹æŒ‰é’®ï¼š image-20220314171105093 å¯ä»¥çœ‹åˆ°æˆåŠŸæ–­ä¸Šäº†ã€‚ å¿«é€Ÿå®šä½ä¹‹hook json 1234567891011var my_stringfy = JSON.stringfy;JSON.stringfy = function(params) &#123; console.log(&quot;xxx&quot;, params); return my_stringfy(params);&#125;var my_parse = JSON.parse;JSON.parse = function(params) &#123; console.log(&quot;xxx&quot;, params); return my_parse(params);&#125; cookie 123456789101112131415161718192021222324252627var cookie_cache = document.cookie;Object.defineProperty(document, &#x27;cookie&#x27;, &#123; get: function() &#123; console.log(&#x27;Getting cookie&#x27;); return cookie_cache; &#125;, set: function(val) &#123; console.log(&#x27;Setting cookie&#x27;, val); var cookie = val.split(&quot;;&quot;)[0]; var ncookie = cookie.split(&quot;=&quot;); var flag = false; var cache = cookie_cache.split(&quot;; &quot;); cache = cache.map(function(a)&#123; if (a.split(&quot;=&quot;)[0] === ncookie[0]) &#123; flag = true; return cookie; &#125; return a; &#125;); cookie_cache = cache.join(&quot;; &quot;); if (!flag) &#123; cookie_cache += cookie + &quot;; &quot;; &#125; this._value = val; return cookie_cache; &#125;&#125;) window attr 1234567891011121314151617181920212223242526272829303132var window_flag_1 = &quot;_t&quot;;var window_flag_2 = &quot;ccc&quot;;var key_value_map = &#123;&#125;;var window_value = window[window_flag_1];Object.defineProperty(window, window_flag_1, &#123; get: function() &#123; console.log(&quot;Getting&quot;, window, window_flag_1, &quot;=&quot;, window_value); return window_value; &#125;, set: function(val) &#123; console.log(&quot;Setting&quot;, window, window_flag_1, &quot;=&quot;, val); window_value = val; key_value_map[window[window_flag_1]] = window_flag_1; set_obj_attr(window[window_flag_1], window_flag_2); &#125;,&#125;);function set_obj_attr(obj, attr) &#123; var obj_attr_value = obj[attr]; Object.defineProperty(obj, attr, &#123; get: function() &#123; console.log(&quot;Getting&quot;, key_value_map[obj], attr, &quot;=&quot;, obj_attr_value); return obj_attr_value; &#125;, set: function(val) &#123; console.log(&quot;Setting&quot;, key_value_map[obj], attr, &quot;=&quot;, val); obj_attr_value = val; &#125;, &#125;);&#125; ç®€å•æµ‹è¯•å¦‚ä¸‹ï¼š image-20220314174331478 eval/Function 123456789101112131415161718192021window.__cr_eval = window.eval;var my_eval = function(src) &#123; console.log(src); console.log(&quot;============eval end===========&quot;); return window.__cr_eval(src);&#125;var _my_eval = eval.bind(null);_my_eval.toString = window.__cr_eval.toString;Object.defineProperty(window, &#x27;eval&#x27;, &#123; value: _my_eval &#125;);window.__cr_fun = window.Function;var myfun = function() &#123; var args = Array.prototype.slice.call(arguments, 0, -1).join(&quot;,&quot;).src = arguments[arguments.length - 1]; console.log(src); console.log(&quot;===========Function end=========&quot;); return window.__cr_fun.apply(this, arguments);&#125;myfun.toString = function() &#123; return window.__cr_fun + &quot;&quot; &#125;Object.defineProperty(window, &#x27;Function&#x27;, &#123; value: myfun &#125;) ç®€å•æµ‹è¯•å¦‚ä¸‹ï¼š image-20220315005512673 websocket 12345WebSocket.prototype.senda = WebSocket.prototype.send;WebSocket.prototype.send = function (data) &#123; console.info(&quot;Hook WebSocket, data&quot;); return this.senda(data);&#125; å¿«é€Ÿå®šä½ä¹‹åˆ†æ Elements Event Listeners åœ¨Elementsé¢æ¿ï¼Œå³è¾¹Event Listenerså¯ä»¥çœ‹åˆ°å…¨éƒ¨çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œå¦‚å›¾ï¼š image-20220315010815283 Network type initator åœ¨Networkç½‘ç»œé¢æ¿ï¼Œè¯·æ±‚åˆ—è¡¨çš„ç¬¬ä¸‰åˆ—æ˜¯ç½‘ç»œç±»å‹ï¼Œç¬¬å››åˆ—æ˜¯è°ƒç”¨æ ˆã€‚å¦‚ä¸‹å›¾ï¼š image-20220315011120666 å¸¸è§çš„ç½‘ç»œç±»å‹æœ‰xhr(XHRç±»å‹çš„è¯·æ±‚)ï¼Œgifï¼Œpngï¼Œjpegï¼Œstylesheet(cssæ–‡ä»¶)ï¼Œscript(JSæ–‡ä»¶)ï¼ŒJsonç­‰ã€‚ é¼ æ ‡æ‚¬æµ®ä»»æ„ä¸€ä¸ªè¯·æ±‚çš„ç¬¬å››åˆ—ï¼Œå¯ä»¥çœ‹åˆ°è¯¥è¯·æ±‚çš„å…¨éƒ¨è°ƒç”¨æ ˆï¼Œå¦‚ä¸‹å›¾ï¼š image-20220315011435032 é€šå¸¸é€šè¿‡ç½‘ç»œé¢æ¿æŠ“åŒ…æŠ“åˆ°æˆ‘ä»¬éœ€è¦çš„è¯·æ±‚ï¼Œç„¶åå¯ä»¥æŸ¥çœ‹å®ƒçš„è°ƒç”¨æ ˆï¼Œè¿…é€Ÿå®šä½åˆ°ç›¸å…³çš„ä»£ç ã€‚ Console Log XMLHttpRequests æ‰“å¼€XMLHttpRequestsæ—¥å¿—çš„æ–¹æ³•ï¼Œç‚¹å‡»å¼€å‘è€…å·¥å…·ä¸Šçš„é‚£ä¸ªè®¾ç½®æŒ‰é’®ï¼š image-20220315012217598 æ‰¾åˆ°Consoleé‚£ä¸€éƒ¨åˆ†ï¼Œé€‰ä¸­Log XMLHttpRequestsï¼Œå¦‚ä¸‹ï¼š image-20220315012414737 é‡æ–°åˆ·æ–°é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°æ‰“å°å‡ºäº†XMLRequestsçš„è¯·æ±‚æ—¥å¿—äº†ï¼Œç‚¹å‡»å¯ä»¥çœ‹åˆ°è°ƒç”¨æ ˆï¼š image-20220315012715597","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä¹‹æ— é™Debugger","date":"2022-02-28T02:12:45.000Z","path":"JSé€†å‘ä¹‹æ— é™Debugger/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ å…³äºæ— é™debuggeråœ¨è¿›å…¥æ— é™debuggerä¹‹å‰å…ˆçœ‹ä¸‹ä¸‰ä¸ªé—®é¢˜ã€‚ åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šé‡åˆ°debuggeråœ¨åˆ†æç½‘ç»œè¯·æ±‚ï¼ŒæŸ¥çœ‹å…ƒç´ çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œè·Ÿè¸ªJSç­‰éœ€æ±‚ä¸‹ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼Œè€Œæ‰“å¼€æµè§ˆå™¨å·¥å…·å°±å¯èƒ½ä¼šç¢°åˆ°æ— é™debuggeræ­»å¾ªç¯ï¼Œæˆ–è€…åœ¨æˆ‘ä»¬çš„è°ƒè¯•è¿‡ç¨‹ä¸­ä¹Ÿå¯èƒ½å‡ºç°æ— é™debuggerã€‚ ä¸ºä»€ä¹ˆåçˆ¬è™«ä¼šç”¨åˆ°debuggerå› ä¸ºåˆ†æä»£ç é€»è¾‘ï¼Œè°ƒè¯•JSä»£ç æ˜¯JSé€†å‘çš„å¿…è¦æ‰‹æ®µï¼Œè€Œåˆ†æè°ƒè¯•åˆ™éœ€è¦ä½¿ç”¨å¼€å‘è€…å·¥å…·ã€‚ç„¶åå°±å¯ä»¥åœ¨å…³é”®çš„åœ°æ–¹è®¾é˜²ï¼Œç²¾å‡†çš„è®¾ç½®ç¬¬ä¸€é“é˜²çº¿ã€‚ debuggeråçˆ¬çš„ä¼˜åŠ¿åœ¨å“ª å®ç°æ¯”è¾ƒç®€å•ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆå¯ä»¥ä¸ä¼šå†™é‚£ç§å¤æ‚çš„åäººç±»çš„åçˆ¬ä»£ç ï¼Œä½†æ˜¯å†™ä¸ªæ— é™debuggeræ˜¯ä¸ªåŸºæœ¬æ“ä½œã€‚ æ•ˆæœæ¯”è¾ƒæ˜æ˜¾ï¼Œå¦‚æœç¬¬ä¸€æ­¥éƒ½æ²¡æ³•é€šè¿‡çš„è¯ï¼Œå°±ä¸ä¼šæœ‰ä¸‹ä¸€æ­¥äº†ã€‚ ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥æé«˜ä»£ç çš„å®‰å…¨æ€§ï¼Œå¯ä»¥é˜»æ­¢æˆ‘ä»¬è°ƒè¯•åˆ†æä»£ç é€»è¾‘ã€‚ æ¥ä¸‹æ¥æ­£å¼è¿›å…¥æ— é™debugger å¸¸è§æ— é™debuggeråŠè§£å†³æ–¹æ¡ˆ æŒ‰ä»£ç é€»è¾‘åˆ’åˆ† æ— é™å¾ªç¯ï¼Œæ¯”å¦‚for/whileå¾ªç¯é‡Œé¢åŒ…å«debuggerå…³é”®å­— æ— é™é€’å½’ï¼Œä¸€ä¸ªæ–¹æ³•åŒ…å«debuggerå…³é”®å­—ï¼Œå¹¶ä¸”é€’å½’è°ƒç”¨è‡ªå·± ä¸¤ä¸ªæ–¹æ³•äº’è°ƒï¼Œä¸¤ä¸ªæ–¹æ³•å½¼æ­¤éƒ½åŒ…å«debuggerå…³é”®å­—ï¼Œç„¶åå½¼æ­¤è°ƒç”¨å½¼æ­¤ã€‚ å®šæ—¶å™¨ï¼Œä½¿ç”¨å®šæ—¶å™¨æ‰§è¡Œä¸€ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•é‡Œé¢åŒ…å«debuggerå…³é”®å­—ï¼Œå°±ä¼šå®šæ—¶æ‰§è¡Œdebuggerã€‚ æŒ‰æ˜¯å¦æ··æ·†åˆ’åˆ† ç›´æ¥åœ¨æ–¹æ³•ä¸­ä½¿ç”¨debuggerå…³é”®å­—æˆ–è€…é€šè¿‡evalæ‰§è¡Œï¼Œæ¯”å¦‚eval(â€œdebuggerâ€) é‡åº¦æ··æ·†ï¼Œé€šè¿‡å¯¹debuggerå­—ç¬¦ä¸²è¿›è¡Œæ··æ·†ï¼Œç„¶åä½¿ç”¨evalæ‰§è¡Œï¼Œä»è€Œåœ¨å…¨å±€æœç´¢ä¸­æœç´¢ä¸åˆ°debuggerå…³é”®å­—ã€‚ 1234Function(&quot;debugger&quot;).call()/apply() æˆ–èµ‹å€¼ bind()xxx.constructor(&quot;debugger&quot;).call(&quot;action&quot;)Fuction.constructor(&quot;debugger&quot;).call(&quot;action&quot;)(function()&#123;return !{% image","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä¹‹Tampermonkeyå·¥å…·ç¯‡","date":"2022-02-24T03:11:22.000Z","path":"JSé€†å‘ä¹‹Tampermonkeyå·¥å…·ç¯‡/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨ç½‘é¡µä¸­è‡ªåŠ¨æ‰§è¡ŒæŸäº›å¤æ‚çš„ä»£ç ï¼Œå¸®åŠ©æˆ‘ä»¬å®Œæˆä¸€äº›æ“ä½œã€‚æ¯”å¦‚æŠ¢ç¥¨ï¼Œåˆ·å•ï¼Œçˆ¬è™«ç­‰ã€‚é€šå¸¸æˆ‘ä»¬å¯ä»¥å¼€å‘Chromeæµè§ˆå™¨æ’ä»¶æ¥å®ç°è¿™ç§åŠŸèƒ½ï¼Œä½†æ˜¯å¼€å‘æµè§ˆå™¨æ’ä»¶çš„è¯å¾—å…ˆè¦å»å­¦ä¹ æµè§ˆå™¨æ’ä»¶å¼€å‘æµç¨‹ï¼ŒåŸç†ç­‰ã€‚æœ‰æ²¡æœ‰ä»€ä¹ˆæˆæœ¬æ¯”è¾ƒä½çš„æ–¹å¼ï¼Ÿæœ‰çš„ï¼Œè¿™é‡Œæˆ‘ä»¬ä»‹ç»çš„ä¸»è§’å«åš Tampermonkeyï¼Œä¹Ÿå«æ²¹çŒ´ã€‚è¿™ä¸ªæ’ä»¶çš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œåˆ©ç”¨å®ƒæˆ‘ä»¬å‡ ä¹å¯ä»¥åœ¨ç½‘é¡µä¸­æ‰§è¡Œä»»ä½• JavaScript ä»£ç ï¼Œå®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†Tampermonkey åº”ç”¨åˆ° JavaScript é€†å‘åˆ†æä¸­ï¼Œå»å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿åœ°åˆ†æä¸€äº› JavaScript åŠ å¯†å’Œæ··æ·†ä»£ç ã€‚ å®‰è£…æ‰“å¼€Chrome ç½‘ä¸Šå•†åº—ï¼Œæœç´¢Tampermonkeyï¼Œç„¶åç‚¹å‡»æ·»åŠ è‡³Chromeå³å¯ã€‚ æ·»åŠ å®Œä¹‹åï¼Œç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çš„æ‰©å±•ç¨‹åºå°å›¾æ ‡ï¼Œç„¶åç‚¹å‡»Tampermonkeyçš„å›ºå®šæŒ‰é’®ï¼Œå°†Tampermonkeyå›ºå®šåˆ°èœå•æ ï¼Œæ–¹ä¾¿ä»¥åä½¿ç”¨ã€‚ image-20220224153116053 ä½¿ç”¨Tampermonkey è¿è¡Œçš„æ˜¯ JavaScript è„šæœ¬ï¼Œæ¯ä¸ªç½‘ç«™éƒ½èƒ½æœ‰å¯¹åº”çš„è„šæœ¬è¿è¡Œï¼Œä¸åŒçš„è„šæœ¬èƒ½å®Œæˆä¸åŒçš„åŠŸèƒ½ã€‚è¿™äº›è„šæœ¬æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ç”¨å·²ç»å†™å¥½çš„å¾ˆå¤šè„šæœ¬ï¼Œæ¯•ç«Ÿæœ‰äº›è½®å­æœ‰äº†ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†å»é€ äº†ã€‚ä¸‹é¢åˆ—ä¸¾ä¸€äº›æ²¹çŒ´è„šæœ¬å…è´¹ä½¿ç”¨çš„ç½‘ç«™ï¼š Userscript.Zone Searchï¼šæ˜¯ä¸€ä¸ªæ–°ç½‘ç«™ï¼Œå…è®¸é€šè¿‡è¾“å…¥åˆé€‚çš„URLæˆ–åŸŸæ¥æœç´¢ç”¨æˆ·è„šæœ¬ã€‚ Greasy Forkï¼šæœ€å—æ¬¢è¿çš„åèµ·ä¹‹ç§€ï¼Œæä¾›ç”¨æˆ·è„šæœ¬çš„ç½‘ç«™ï¼Œå¯å®ç°å»æ‰è§†é¢‘æ’­æ”¾å¹¿å‘Šï¼Œå»æ°´å°ç­‰å¤šç§åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥å®‰è£…ä½¿ç”¨ï¼Œå‚¨å­˜åº“ä¸­æœ‰å¤§é‡çš„è„šæœ¬èµ„æºã€‚ OpenUserJSï¼šç»§ GreasyFork ä¹‹åå¼€å§‹åˆ›åŠï¼Œåœ¨å…¶å‚¨å­˜åº“ä¸­ä¹Ÿæ‹¥æœ‰å¤§é‡çš„è„šæœ¬èµ„æº ã€‚ serscripts Mirror æŸ¥çœ‹å½“å‰é¡µé¢è¿è¡Œçš„è„šæœ¬æµè§ˆå™¨åœ°å€è¾“å…¥æŸä¸€ç½‘å€ï¼Œç„¶åè§‚å¯Ÿæµè§ˆå™¨å³ä¸Šè§’Tampermonkeyå°å›¾æ ‡ image-20220224155127864 å°å›¾æ ‡ä¸Šæ˜¾ç¤ºæ•°å­—å°±æ˜¯å½“å‰é¡µé¢å¯ä»¥æ‰§è¡Œçš„è„šæœ¬æ•°é‡ï¼Œç‚¹å‡»è¿™ä¸ªå›¾æ ‡è¿›å»å¯ä»¥çœ‹åˆ°å…·ä½“æ‰§è¡Œçš„è„šæœ¬ï¼Œå¦‚ä¸Šå›¾ã€‚ ç®¡ç†è„šæœ¬ç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’Tampermonkeyå°å›¾æ ‡ï¼Œç„¶åç‚¹å‡»ç®¡ç†é¢æ¿ã€‚ image-20220224155312475 ç„¶åå¯ä»¥çœ‹åˆ°æˆ‘ä»¬å·²ç»æ·»åŠ çš„è„šæœ¬ï¼š image-20220224155345080 æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªç•Œé¢ä¸Šå¯¹ä»»æ„ä¸€ä¸ªè„šæœ¬æ§åˆ¶å¼€å¯ä¸å…³é—­ï¼Œä¿®æ”¹åˆ é™¤ç­‰ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥ç‚¹å‡»å·²å®‰è£…è„šæœ¬å·¦è¾¹çš„+å·æ¥æ–°å»ºä¸€ä¸ªè„šæœ¬ï¼š image-20220224155547270 æˆ‘ä»¬è§‚å¯Ÿä¸‹è„šæœ¬å†…å®¹é‡Œçš„å‡ ä¸ªæ ‡æ³¨æˆ‘ä»¬æŒ‘å‡ ä¸ªå¸¸ç”¨çš„æ¥è®²ã€‚ @nameè¡¨ç¤ºè¯¥è„šæœ¬çš„åç§° @includeè¡¨ç¤ºè„šæœ¬ç”Ÿæ•ˆçš„åŸŸåï¼Œå¯ä»¥é…ç½®å¤šä¸ªï¼Œæ¯ä¸ªå•ç‹¬ä¸€è¡Œï¼Œæ”¯æŒé€šé…ç¬¦ã€‚æ¯”å¦‚åŒ¹é…æ‰€æœ‰çš„httpï¼š@include http://\\*ï¼ŒåŒ¹é…æ‰€æœ‰çš„httpsï¼š@include https://\\*ï¼Œä¹Ÿå¯ä»¥å°†2è€…åˆå¹¶ç”¨ä¸€ä¸ªç®€å•çš„å†™æ³•ï¼š @include *ã€‚ @grantè¡¨ç¤ºæˆäºˆçš„æƒé™ï¼Œæ¯”å¦‚GM_downloadè¡¨ç¤ºä¸‹è½½æƒé™ï¼ŒGM_openInTabè¡¨ç¤ºæ‰“å¼€tabçš„æƒé™ï¼ŒGM_xmlhttpRequestè¡¨ç¤ºå‘èµ·å¼‚æ­¥è¯·æ±‚çš„æƒé™ï¼ŒGM_cookieè¡¨ç¤ºè·å–cookieçš„æƒé™ç­‰ç­‰ @run-atç¡®å®šäº†è„šæœ¬çš„æ³¨å…¥æ—¶æœºï¼Œåœ¨jsé€†å‘ä¸­ä¹Ÿå¾ˆé‡è¦ã€‚ å®Œæ•´çš„è„šæœ¬æ³¨é‡Šä»‹ç»å¦‚ä¸‹ï¼š å±æ€§å ä½œç”¨ @name æ²¹çŒ´è„šæœ¬çš„åå­— @namespace å‘½åç©ºé—´ï¼Œç”¨æ¥åŒºåˆ†ç›¸åŒåç§°çš„è„šæœ¬ï¼Œä¸€èˆ¬å†™æˆä½œè€…åå­—æˆ–è€…ç½‘å€å°±å¯ä»¥äº† @version è„šæœ¬ç‰ˆæœ¬ï¼Œæ²¹çŒ´è„šæœ¬çš„æ›´æ–°ä¼šè¯»å–è¿™ä¸ªç‰ˆæœ¬å· @description æè¿°ï¼Œç”¨æ¥å‘Šè¯‰ç”¨æˆ·è¿™ä¸ªè„šæœ¬æ˜¯å¹²ä»€ä¹ˆç”¨çš„ @author ä½œè€…åå­— @match åªæœ‰åŒ¹é…çš„ç½‘å€æ‰ä¼šæ‰§è¡Œå¯¹åº”çš„è„šæœ¬ @grant æŒ‡å®šè„šæœ¬è¿è¡Œæ‰€éœ€æƒé™ï¼Œå¦‚æœè„šæœ¬æ‹¥æœ‰ç›¸åº”çš„æƒé™ï¼Œå°±å¯ä»¥è°ƒç”¨æ²¹çŒ´æ‰©å±•æä¾›çš„APIä¸æµè§ˆå™¨è¿›è¡Œäº¤äº’ã€‚å¦‚æœè®¾ç½®ä¸ºnoneçš„è¯ï¼Œåˆ™ä¸ä½¿ç”¨æ²™ç®±ç¯å¢ƒï¼Œè„šæœ¬ä¼šç›´æ¥è¿è¡Œåœ¨ç½‘é¡µçš„ç¯å¢ƒä¸­ï¼Œè¿™æ—¶å€™æ— æ³•ä½¿ç”¨å¤§éƒ¨åˆ†æ²¹çŒ´æ‰©å±•çš„APIã€‚å¦‚æœä¸æŒ‡å®šçš„è¯ï¼Œæ²¹çŒ´ä¼šé»˜è®¤æ·»åŠ å‡ ä¸ªæœ€å¸¸ç”¨çš„API @require å¦‚æœè„šæœ¬ä¾èµ–å…¶ä»–jsåº“çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨requireæŒ‡ä»¤ï¼Œåœ¨è¿è¡Œè„šæœ¬ä¹‹å‰å…ˆåŠ è½½å…¶ä»–åº“ï¼Œå¸¸è§ç”¨æ³•æ˜¯åŠ è½½jqueryï¼Œå¯¼åº“ï¼Œå’Œnodeå·®ä¸å¤šï¼Œç›¸å½“äºå¯¼å…¥å¤–éƒ¨çš„è„šæœ¬ @run-at è„šæœ¬æ³¨å…¥æ—¶æœºï¼Œè¿™ä¸ªæ¯”è¾ƒé‡è¦ï¼Œæœ‰æ—¶å€™æ˜¯èƒ½ä¸èƒ½hookåˆ°çš„å…³é”®ï¼Œdocument-startï¼šç½‘é¡µå¼€å§‹æ—¶ï¼›document-bodyï¼šbodyå‡ºç°æ—¶ï¼›document-endï¼šè½½å…¥æ—¶æˆ–è€…ä¹‹åæ‰§è¡Œï¼›document-idleï¼šè½½å…¥å®Œæˆåæ‰§è¡Œï¼Œé»˜è®¤é€‰é¡¹ @connect å½“ç”¨æˆ·ä½¿ç”¨GM_xmlhttpRequestè¯·æ±‚è¿œç¨‹æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨connectæŒ‡å®šå…è®¸è®¿é—®çš„åŸŸåï¼Œæ”¯æŒåŸŸåã€å­åŸŸåã€IPåœ°å€ä»¥åŠ*é€šé…ç¬¦ @updateURL è„šæœ¬æ›´æ–°ç½‘å€ï¼Œå½“æ²¹çŒ´æ‰©å±•æ£€æŸ¥æ›´æ–°çš„æ—¶å€™ï¼Œä¼šå°è¯•ä»è¿™ä¸ªç½‘å€ä¸‹è½½è„šæœ¬ï¼Œç„¶åæ¯”å¯¹ç‰ˆæœ¬å·ç¡®è®¤æ˜¯å¦æ›´æ–° æˆ‘ä»¬è‡ªå·±åˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 1234567891011121314151617// ==UserScript==// @name Any Hello world// @namespace http://tampermonkey.net/// @version 0.1// @description try to take over the world!// @author You// @match https://*// @match http://*// @icon https://www.google.com/s2/favicons?sz=64&amp;domain=baidu.com// @grant none// ==/UserScript==(function() &#123; &#x27;use strict&#x27;; console.log(&quot;Hello, world&quot;); // Your code here...&#125;)(); è„šæœ¬å‘½åä¸ºAny Hello worldï¼Œç„¶åå¯ä»¥åŒ¹é…åˆ°ä»»æ„çš„httpæˆ–è€…httpsåè®®çš„é¡µé¢ï¼Œè„šæœ¬å†…å®¹æ¯”è¾ƒç®€å•ï¼Œåªæ˜¯ç®€å•çš„åœ¨æ§åˆ¶å°è¾“å‡ºäº†ä¸€ä¸‹Hello, worldã€‚æˆ‘ä»¬ä¿å­˜ä¸‹ï¼Œå°±å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªè„šæœ¬ï¼š image-20220224160944930 ç„¶åæˆ‘ä»¬æ‰“å¼€ä»»æ„ä¸€ä¸ªé¡µé¢ï¼Œæ¯”å¦‚ç™¾åº¦çš„é¦–é¡µï¼ŒåŒæ—¶æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå¯ä»¥çœ‹åˆ°æ§åˆ¶å°ä¸Šæ­£å¸¸è¾“å‡ºï¼š image-20220224161105604 ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹ç½‘å€ï¼šaHR0cDovL3F5eHkuc2NqZ2ouYmVpamluZy5nb3YuY24vaG9tZQ== ä»¥æŸå¾ä¿¡ä¿¡æ¯ç½‘ç«™ä¸ºä¾‹ï¼Œæˆ‘ä»¬æŠ“åŒ…æŸ¥çœ‹è¯·æ±‚ï¼š image-20220225165205261 å¯ä»¥çœ‹åˆ°è¯·æ±‚å¤´å¸¦æœ‰Authorizationè¿™ä¸ªéªŒè¯å‚æ•°ï¼Œæˆ‘ä»¬åˆ©ç”¨æ²¹çŒ´æ¥Hookè¿™ä¸ªå‚æ•°ï¼Œå‡†å¤‡å¥½è¦æ³¨å…¥çš„JSï¼Œå¦‚ä¸‹ï¼š image-20220225165019457 ç®€å•è§£é‡Šä¸‹ä»£ç ï¼Œå…ˆç”¨ä¸€ä¸ªå¯¹è±¡ä¿å­˜åŸæ¥çš„XMLRequestå¯¹è±¡çš„setRequestHeaderæ–¹æ³•ï¼Œç„¶åé‡å†™setRequestHeaderæ–¹æ³•åŠ å…¥è‡ªå·±çš„debugé€»è¾‘ï¼Œæœ€åè°ƒç”¨åŸæ¥çš„setRequestHeaderæ–¹æ³•ã€‚ åˆ·æ–°ç½‘é¡µï¼Œå‘ç°æˆåŠŸæ–­ä¸Šäº† image-20220225173106567 æ¥ç€çœ‹ä¸‹è°ƒç”¨æ ˆï¼Œè¿›å…¥å•æ­¥è°ƒè¯•ï¼Œè¿™é‡Œå†ä»‹ç»ä¸€ä¸ªæŠ€å·§ï¼Œå°±æ˜¯å½“è°ƒç”¨æ ˆå¾ˆå¤šçš„æ—¶å€™ï¼Œä»JSæ–‡ä»¶åç§°ä¸Šå¯ä»¥çœ‹åˆ°ä¸€äº›æ–‡ä»¶å‹æ ¹ä¸éœ€è¦è¿›å»å•æ­¥è°ƒè¯•ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é€‰ä¸­è¯¥æ–‡ä»¶å³é”®ç‚¹å‡»Add script to ignore listï¼Œå¦‚ä¸‹å›¾ï¼š image-20220225170452743 ç„¶åé‚£äº›æ— å…³çš„æ–‡ä»¶å°±ä¼šè¢«æŠ˜å èµ·æ¥ï¼Œçœ‹ä¸Šå›¾æœ‰ä¸€ä¸ªShow ignore-listed frameså°±æ˜¯å¿½ç•¥çš„æ–‡ä»¶ã€‚å¯ä»¥çœ‹åˆ°è¿™æ ·è°ƒç”¨æ ˆå°±ç²¾ç®€ä¸å°‘ï¼Œä»åŸå…ˆçš„å‡ åä¸ªå˜æˆåªæœ‰å‡ ä¸ªã€‚æˆ‘ä»¬ä¸€æ­¥æ­¥è·Ÿè¿›å»ä¼šå‘ç°æœªç™»å½•æ—¶ï¼ŒAuthorizationæ˜¯å†™æ­»çš„ï¼š image-20220225173345834 ç™»å½•ä¹‹åï¼ŒAuthorizationçš„å€¼æ˜¯æ ¹æ®ç”¨æˆ·åå’Œå¯†ç åšçš„ä¸€ä¸ªç®€å•çš„Base64ç¼–ç ï¼š image-20220225173441870","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä»å…¥é—¨åˆ°å¤´ç§ƒ","date":"2022-02-22T16:28:09.000Z","path":"JSé€†å‘ä»å…¥é—¨åˆ°å¤´ç§ƒ/","text":"JSé€†å‘ä»å…¥é—¨åˆ°æ”¾å¼ƒåŸºç¡€ç¯‡JSé€†å‘ä¹‹è°ƒç”¨JSçš„ä¸¤ç§æ–¹å¼ JSé€†å‘ä¹‹Chromeæµè§ˆå™¨å·¥å…·ä½ çŸ¥å¤šå°‘? JSé€†å‘ä¹‹Charleså·¥å…·ç¯‡ JSé€†å‘ä¹‹EditThisCookieå·¥å…·ç¯‡ JSé€†å‘ä¹‹Toggle Javascriptå·¥å…·ç¯‡ JSé€†å‘ä¹‹Tampermonkeyå·¥å…·ç¯‡ JSé€†å‘ä¹‹ä»£ç æ··æ·†çš„åŸç† JSé€†å‘ä¹‹æ— é™Debugger æ¡ˆä¾‹ç¯‡JSé€†å‘ç®€å•æ¡ˆä¾‹ä¸€äºŒ JSé€†å‘ä¹‹æ— é™Debugger æŒç»­æ›´æ–°ä¸­â€¦","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ç®€å•æ¡ˆä¾‹ä¸€äºŒ","date":"2022-02-22T16:23:57.000Z","path":"JSé€†å‘ç®€å•æ¡ˆä¾‹ä¸€äºŒ/","text":"å…è´£å£°æ˜ï¼šæœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼ é€šè¿‡å‡ ä¸ªç®€å•çš„æ¡ˆä¾‹å¯¹JSé€†å‘ä»å…¥é—¨åˆ°æ”¾å¼ƒçš„åŸºç¡€ç¯‡çš„å‰6ç« çš„çŸ¥è¯†åŠ ä»¥è¿ç”¨å’Œå·©å›ºã€‚ æŸé“ç¿»è¯‘ç½‘å€ï¼šaHR0cHM6Ly9mYW55aS55b3VkYW8uY29tLw== é¦–å…ˆæŠ“åŒ…ï¼Œåˆ†æè¯·æ±‚çš„ç±»å‹ï¼Œå‚æ•°ç‰¹ç‚¹ï¼Œè¿”å›å€¼ç‰¹ç‚¹ã€‚ image-20220223111325964 é€šè¿‡ç½‘ç»œé¢æ¿Fetch/XHRï¼Œæ‰¾åˆ°éœ€è¦çš„ç½‘ç»œè¯·æ±‚ã€‚ æŸ¥çœ‹è¿”å›ç»“æœä¸ºæ˜æ–‡ï¼Œä¸å­˜åœ¨åŠ å¯†ã€‚ 1&#123;&quot;translateResult&quot;:[[&#123;&quot;tgt&quot;:&quot;I love you&quot;,&quot;src&quot;:&quot;æˆ‘çˆ±ä½ &quot;&#125;]],&quot;errorCode&quot;:0,&quot;type&quot;:&quot;zh-CHS2en&quot;,&quot;smartResult&quot;:&#123;&quot;entries&quot;:[&quot;&quot;,&quot;I love you\\r\\n&quot;],&quot;type&quot;:1&#125;&#125; æŸ¥çœ‹å‚æ•°ï¼Œå¤§éƒ¨åˆ†å‚æ•°éƒ½æ˜¯å¸¸é‡ï¼Œåªæœ‰salt, sign, Its, bvçœ‹ç€åƒæ˜¯åŠ¨æ€ç”Ÿæˆçš„ã€‚Itsä»åå­—å’Œå†…å®¹çœ‹ï¼Œæ¨æµ‹æ˜¯13ä½çš„æ—¶é—´æˆ³ã€‚signå’Œbvéƒ½æ˜¯32ä½ï¼Œä¸”æ˜¯å­—æ¯å’Œæ•°å­—çš„æ··åˆï¼Œåˆæ­¥æ¨ç®—æ˜¯md5åŠ å¯†ã€‚saltå‰13ä½è·ŸItsä¸€æ ·ï¼Œå¤šäº†ä¸€ä½ï¼Œæ¨æµ‹æ˜¯14ä½æ—¶é—´æˆ³ï¼ŸğŸ¤ª æ¥ä¸‹æ¥æ–­ç‚¹è°ƒè¯•å‚æ•°ç”Ÿæˆçš„é€»è¾‘ã€‚é€šå¸¸æœ‰2ç§æ–¹å¼ï¼šç¬¬ä¸€ç§æ˜¯æ ¹æ®å‚æ•°åç§°ï¼Œå…¨å±€æœç´¢æŸ¥æ‰¾ç›¸åº”çš„JSä»£ç ï¼›ç¬¬äºŒç§æ˜¯æ ¹æ®è¯·æ±‚çš„Initiatorè°ƒç”¨æ ˆé€æ­¥åˆ†æå‚æ•°ç”Ÿæˆçš„ä½ç½®ï¼›ç¬¬ä¸‰ç§æ‰“ä¸ŠXHR/fetch Breakpointsæ–­ç‚¹è¿›è¡Œè°ƒè¯•ï¼Œç„¶ååˆ†æCall Stackã€‚ ç¬¬ä¸€ç§æ–¹æ³•ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·çš„å…¨å±€æœç´¢ï¼Œæœç´¢signå…³é”®è¯ï¼š image-20220223140405239 ç„¶åå¾ˆè½»æ¾çš„æ‰¾åˆ°äº†å‘é€XHRè¯·æ±‚çš„å‚æ•°dataè¿™ä¸ªobject image-20220223140657071 é¼ æ ‡æ‚¬åœåˆ°generateSaltSign(t)è¿™ä¸ªæ–¹æ³•ä¸Šï¼Œç„¶åä¼šå±•ç¤ºç‚¹å‡»è¿›å…¥åˆ°è¿™ä¸ªæ–¹æ³•ï¼š image-20220223142733567 å¯ä»¥çœ‹åˆ°ä»£ç æ¯”è¾ƒç®€å•ï¼Œå°†å®ƒæ”¹å†™æˆPythonä»£ç ï¼š 1234567891011def generate_salt_sign(content): n = content[:5000] t = md5(navigator[&quot;appVersion&quot;]) r = str(int(time() * 1000)) i = r + str(random.randint(0, 9)) return &#123; &quot;lts&quot;: r, &quot;bv&quot;: t, &quot;salt&quot;: i, &quot;sign&quot;: md5(&quot;fanyideskweb&quot; + n + i + &quot;Y2FYu%TNSbMCxc3t2u^XT&quot;) &#125; å…¶ä¸­çš„ç”Ÿæˆsignçš„æœ€åä¸€ä¸²å¸¸é‡ä¼šæ ¹æ®ç”¨æˆ·çš„Cookieå‘ç”Ÿå˜åŒ–ã€‚æˆ‘ä»¬ä¹‹å‰çš„æ¨æµ‹åŸºæœ¬éƒ½æ˜¯å¯¹çš„ï¼Œé™¤äº†saltã€‚saltæ˜¯13ä½æ—¶é—´æˆ³åŠ ä¸Šéšæœºçš„ä¸€ä¸ªæ•°å­—ã€‚ æœ‰äº†å‡ ä¸ªå…³é”®å‚æ•°çš„ç”Ÿæˆä»£ç ï¼Œæˆ‘ä»¬ä»Networké¢æ¿å¤åˆ¶å‡ºXHRè¯·æ±‚çš„cURLï¼Œç„¶åæ‰¾ä¸€ä¸ªåœ¨çº¿çš„cURL to Pythonå·¥å…·ï¼Œå¿«é€Ÿç”ŸæˆPythonä»£ç ï¼Œç„¶åè¡¥ä¸Šæˆ‘ä»¬å†™å¥½çš„generate_salt_signæ–¹æ³•ï¼Œè¿è¡Œä»£ç ï¼Œç»“æœå¦‚ä¸‹ï¼š image-20220223145314773 æŸåº¦ç¿»è¯‘ç½‘å€ï¼šaHR0cHM6Ly9mYW55aS55b3VkYW8uY29tLw== è€è§„çŸ©ï¼Œå…ˆæŠ“åŒ…ã€‚ image-20220223150801765 æ‰¾åˆ°ä¸€ä¸ªXHRè¯·æ±‚ï¼Œè¿”å›ç»“æœä¸ºæ˜æ–‡ï¼Œä¸éœ€è¦è§£å¯†ã€‚å‚æ•°æœ‰2ä¸ªsignå’Œtokenï¼Œtokenç›®æµ‹æ˜¯md5ã€‚ç”¨ç¬¬ä¸€ç§æ–¹å¼ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå…¨å±€æœç´¢signï¼Œå‘ç°æœç´¢å‡ºæ¥çš„ç»“æœéå¸¸å¤šï¼Œä¸»è¦æ˜¯å­˜åœ¨å¾ˆå¤šå¹²æ‰°ï¼Œæ¯”å¦‚assignã€‚ image-20220223152341564 è¿™é‡Œä»‹ç»ä¸€ä¸ªå°æŠ€å·§ï¼Œå¦‚æœæœç´¢å‡ºæ¥çš„å¹²æ‰°æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œä¸å¦¨æœç´¢â€œ,å…³é”®è¯:â€è¯•è¯•ï¼Œä¸ºä»€ä¹ˆå¦‚æ­¤æ“ä½œï¼Ÿå› ä¸ºå‘é€XHRè¯·æ±‚çš„æ—¶å€™ï¼Œdataéƒ½æ”¾åœ¨ä¸€ä¸ªobjectä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ï¼ŒJSçš„Objectæ ¼å¼éƒ½é•¿è¿™æ ·ï¼š 1234object = &#123; key1: value, key2: value2&#125; ç„¶åJSæ–‡ä»¶åŸºæœ¬éƒ½ä¼šå‹ç¼©ï¼Œæ‰€ä»¥è¦æœç´¢çš„å‚æ•°è‡ªç„¶å‰è¾¹æœ‰ä¸ªé€—å·ï¼Œåè¾¹æœ‰ä¸ªå°å·ã€‚æˆ‘ä»¬æŒ‰ç…§è¿™ç§æ–¹å¼æœç´¢ï¼Œç»“æœå¦‚ä¸‹ï¼š image-20220223154110965 å¯ä»¥çœ‹åˆ°æ˜æ˜¾æœç´¢ç»“æœæ›´åŠ ç²¾ç¡®äº†ï¼Œç»“æœä¹Ÿå°‘äº†ã€‚ç„¶åæˆ‘ä»¬é€æ¡åˆ†æï¼Œæœ€ç»ˆå®šä½åˆ°æˆ‘ä»¬å‚æ•°ç”Ÿæˆçš„ä»£ç åœ°æ–¹ï¼Œç„¶åæ‰“ä¸Šæ–­ç‚¹å¼€å§‹è°ƒè¯•ï¼š image-20220223154356745 æ²¡æœ‰æƒ³åˆ°çš„æ˜¯tokenç«Ÿç„¶æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚æˆ‘ä»¬çœ‹ä»–çš„å€¼ï¼š image-20220223154444310 é‚£å°±æ›´ç®€å•äº†ï¼Œåªéœ€è¦æ‰¾åˆ°signçš„ç”Ÿæˆæ–¹æ³•å³å¯ã€‚å¯ä»¥çœ‹åˆ°signæ˜¯è°ƒç”¨äº†ä¸€ä¸ªLæ–¹æ³•ç”Ÿæˆï¼Œæ¥å—ä¸€ä¸ªå‚æ•°eï¼Œè¿™ä¸ªeæ˜¯æˆ‘ä»¬ä¼ å…¥çš„è¦ç¿»è¯‘çš„textã€‚æˆ‘ä»¬ç‚¹å‡»è¿›å…¥Læ–¹æ³•ï¼š image-20220223154647115 å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±åˆ°äº†æ‰£JSå’Œè¡¥å…¨JSçš„ç¯èŠ‚äº†ã€‚æˆ‘ä»¬æ‰£å‡ºæ¥è¿™ä¸ªæ–¹æ³•ï¼Œç„¶åç”¨nodeå»æ‰§è¡Œï¼š image-20220223162130736 æŠ¥é”™ï¼Œiæœªå®šä¹‰ï¼Œæˆ‘ä»¬åˆ†æä»£ç ï¼Œè¡¥å…¨içš„å®šä¹‰ï¼š image-20220223163824429 è¿è¡Œæ¥ç€æŠ¥é”™ï¼Œæ„æ–™ä¹‹ä¸­ï¼Œ image-20220223162330599 uæ²¡æœ‰å®šä¹‰ï¼Œæˆ‘ä»¬ä»è¿™ä¸€è¡Œä»£ç å¯ä»¥çœ‹åˆ°ï¼Œuçš„å€¼æ¥è‡ªäºwindowè¿™ä¸ªobjectï¼š image-20220223162424396 è¿™ä¸ªlæ˜¯ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ï¼Œå€¼ä¸ºâ€gtkâ€ï¼Œç„¶åuè¿™æ˜¯å–å¾—objectçš„è¿™ä¸ªgtkå±æ€§ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå®šæ¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¡¥å…¨è¿™ä¸ªwindowå³å¯ï¼š image-20220223162840470 image-20220223163853288 ç„¶åæ¥ç€è¿è¡Œä»£ç ï¼Œæ¥ç€æŠ¥é”™ï¼š image-20220223163920006 nè¿™ä¸ªæ–¹æ³•æ²¡æœ‰å®šä¹‰ï¼Œæˆ‘ä»¬å›åˆ°æºç ï¼Œå°†nçš„å®šä¹‰æ‹·è´è¿›æ¥ï¼š image-20220223164310865 ç„¶åå†æ¬¡è¿è¡Œä»£ç ï¼Œç»ˆäºæ‹¿åˆ°äº†signçš„å€¼ï¼š image-20220223165713366 è¿™é‡Œå¾ˆæ˜æ˜¾çœ‹åˆ°æˆ‘ä»¬æ‰£å‡ºæ¥çš„JSæ¯”è¾ƒå¤§ï¼Œ å¦‚æœå¯¹ä»£ç è¿›è¡Œåˆ†æç„¶åæ”¹å†™æˆPythonä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥åˆ©ç”¨JSé€†å‘ä¹‹è°ƒç”¨JSçš„ä¸¤ç§æ–¹å¼ï¼Œå°†JSä»£ç ç”¨expressæ¡†æ¶åšæˆä¸€ä¸ªæœåŠ¡ä¾›Pythonç«¯å»è°ƒç”¨ã€‚æ•ˆæœå¦‚ä¸‹ï¼š image-20220223165732284 ç„¶åå°±æ˜¯æ¯”è¾ƒæœºæ¢°æ€§çš„å·¥ä½œäº†ï¼Œå¤åˆ¶cURLè½¬æˆPythonä»£ç ï¼Œç„¶åä¿®æ”¹signé€šè¿‡èµ°æ¥å£å»è·å–ï¼Œæœ€åè´´ä¸€å¼ æœ€ç»ˆæ‰§è¡Œçš„æ•ˆæœå›¾ï¼š image-20220223170807972 æ€»ç»“é€šè¿‡å‡ ä¸ªç®€å•çš„æ¡ˆä¾‹ï¼Œå›é¡¾äº†ä¸‹å¼€å‘è€…é¢æ¿çš„ä¸€äº›ä½¿ç”¨æ–¹å¼ï¼ŒåŒ…æ‹¬å…¨å±€æœç´¢ï¼Œæ–­ç‚¹è°ƒè¯•è·Ÿè¸ªï¼Œè°ƒç”¨æ ˆåˆ†æï¼Œæ‰£JSä»¥åŠPythonè°ƒç”¨JSçš„å‡ ç§æ–¹å¼ã€‚ä»£ç å·²ç»ä¸Šä¼ ï¼Œæ‰«ç å…³æ³¨å…¬ä¼—å·ï¼Œå…¬ä¼—å·å†…å›å¤å…³é”®å­—01ï¼Œå³å¯è·å–æœ¬æ–‡ä»‹ç»æ¡ˆä¾‹çš„å®Œæ•´ä»£ç ã€‚ qrcode_for_gh_509fdefd3c81_258","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä¹‹å¸¸è§ä»£ç æ··æ·†çš„å¤„ç†","date":"2022-02-18T08:37:23.000Z","path":"JSé€†å‘ä¹‹å¸¸è§ä»£ç æ··æ·†çš„å¤„ç†/","text":"åŠ å¯†åˆ†ææµç¨‹æ€»ç»“åœ¨å¼€å§‹ä»‹ç»å¸¸è§ä»£ç æ··æ·†ä¹‹å‰ï¼Œçœ‹ä¸‹åŠ å¯†åˆ†æçš„æµç¨‹ã€‚ æŸ¥çœ‹å…³é”®åŒ…â€”â€”åˆ†æå“ªäº›å‚æ•°æ˜¯åŠ å¯†çš„ã€‚ æœç´¢å‚æ•°ã€‚ å‚æ•°å= / å‚æ•°å = / å‚æ•°å: / å‚æ•°å : æŸ¥çœ‹ç½‘ç»œé¢æ¿çš„Initiator(å‘èµ·) xhræ–­ç‚¹è°ƒè¯• hookç›¸å…³é€»è¾‘ åˆ†æåŠ å¯†ã€‚ è¡¥å…¨åŠ å¯†é€»è¾‘ã€‚ é¢œæ–‡å­—ç½‘ç»œè¡¨æƒ…ç¼–ç è§£æ··æ·†å°†Javascriptä»£ç è½¬æ¢ä¸ºé¢œæ–‡å­—ç½‘ç»œè¡¨æƒ…çš„ç¼–ç ä»¥è¾¾åˆ°æ··æ·†çš„ç›®çš„ã€‚ åŸç†ï¼šè¿™ç±»æ··æ·†é€šå¸¸éƒ½æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°å°†å­—ç¬¦ä¸²ä½œä¸ºä»£ç è¿è¡Œã€‚ ä¾‹å¦‚ï¼š 12const sum = new Function(&#x27;a&#x27;, &#x27;b&#x27;, &#x27;return a + b&#x27;)console.log(sum(2, 6)) è§£å†³åŠæ³•ï¼š ç›´æ¥å°†æ··æ·†åçš„ä»£ç ç²˜è´´è‡³æ§åˆ¶å°é€šè¿‡VMæŸ¥çœ‹æºä»£ç ã€‚ åˆ é™¤ä»£ç ç»“å°¾çš„â€(â€˜_â€™)â€ï¼Œæ›¿æ¢ä¸ºtoString()æˆ–å°†ä¿®æ”¹åçš„ä»£ç ç²˜è´´è‡³æ§åˆ¶å°æ‰§è¡Œã€‚ ç¬¦å·ç»„æˆçš„ä»£ç åæ··æ·†å°†Javascriptä»£ç è½¬æ¢æˆä»…ç”±ç¬¦å·ç»„æˆçš„ä»£ç ä»¥è¾¾åˆ°æ··æ·†çš„ç›®çš„ã€‚ åŸç†ï¼šè¿™ç±»æ··æ·†åŒå¸¸ä½¿ç”¨æ„é€ å‡½æ•°å°†å­—ç¬¦ä¸²ä½œä¸ºä»£ç è¿è¡Œã€‚ è½¬æ¢æµç¨‹ï¼š 123456Function(&quot;alert(1)&quot;)();(0)[&quot;constructor&quot;][&quot;constructor&quot;](&quot;alert(1)&quot;)();$ = &quot;constructor&quot;;$$ = &quot;alert(1)&quot;;$_ = ~[];($_)[$][$]($$)(); è§£å†³åŠæ³•ï¼š ç›´æ¥å°†æ··æ·†åçš„ä»£ç è´´åˆ°æ§åˆ¶å°é€šè¿‡VMæŸ¥çœ‹æºä»£ç ã€‚ åˆ é™¤ä»£ç ç»“å°¾çš„()ï¼Œæ›¿æ¢ä¸ºtoString()ï¼Œå°†ä¿®æ”¹åçš„ä»£ç ç²˜è´´è‡³æ§åˆ¶å°è¿è¡Œã€‚ Jsfuckåæ··æ·†å°†JSä»£ç è½¬æ¢æˆåªæœ‰6ç§ç¬¦å·ï¼Œ()[]!+ï¼Œçš„ç¼–ç ï¼Œä»¥è¾¾åˆ°æ··æ·†çš„ç›®çš„ã€‚ è§£å†³åŠæ³•ï¼š ç›´æ¥å°†æ··æ·†åçš„ä»£ç ç²˜è´´è‡³æ§åˆ¶å°é€šè¿‡VMæŸ¥çœ‹æºç ã€‚ åˆ é™¤ä»£ç ç»“å°¾çš„()æ›¿æ¢ä¸ºtoStringï¼Œä¿®æ”¹åç²˜è´´è‡³æ§åˆ¶å°æ‰§è¡Œã€‚ å¦‚æœä»£ç æœ€åä¸æ˜¯()ï¼Œè€Œæ˜¯)ï¼Œæ‰¾åˆ°æœ€åä¸€å¯¹()åŒ…è£¹çš„ä»£ç ï¼Œå°†å…¶æŠ½ç¦»å‡ºæ¥å•ç‹¬æ‰§è¡Œã€‚ Packedæ··æ·†å°†JSä»£ç æ‰“åŒ…æˆä»¥evalå¼€å¤´ï¼Œç‰¹å¾å­—ç¬¦ä¸²æ˜¯function(p, a, c, k, e, r)æˆ–è€…æ˜¯function(p, a, c, k, e, d)çš„ä»£ç ã€‚ 12345678910111213141516171819eval(function (p, a, c, k, e, d) &#123; e = function (c) &#123; return (c &lt; a ? &quot;&quot; : e(parseInt(c / a))) + ((c = c % a) &gt; 35 ? String.fromCharCode(c + 29) : c.toString(36)) &#125;; if (!&#x27;&#x27;.replace(/^/, String)) &#123; while (c--) d[e(c)] = k[c] || e(c); k = [function (e) &#123; return d[e] &#125;]; e = function () &#123; return &#x27;\\\\w+&#x27; &#125;; c = 2; &#125; ; while (c--) if (k[c]) p = p.replace(new RegExp(&#x27;\\\\b&#x27; + e(c) + &#x27;\\\\b&#x27;, &#x27;g&#x27;), k[c]); return p;&#125;(&#x27;0&#x27;, 3, 3, &#x27;hello!||&#x27;.split(&#x27;|&#x27;), 0, &#123;&#125;)) åæ··æ·†æ–¹æ³•ï¼š å°†evalæ”¹æˆconsole.logï¼Œåœ¨æ§åˆ¶å°ä¸Šè¾“å‡ºã€‚ ASTæ··æ·†åæ··æ·†é€šè¿‡å­—ç¬¦ä¸²ç¼–ç ï¼Œå­—ç¬¦ä¸²å¸¸é‡ç¼–ç ï¼Œæ•°å€¼ç¼–ç ï¼Œæ•°ç»„æ··æ·†ï¼Œæ•°ç»„ä¹±åºï¼ŒèŠ±æŒ‡ä»¤ï¼Œæµç¨‹å¹³å¦åŒ–ï¼Œé€—å·è¡¨è¾¾å¼æ··æ·†ç­‰æ–¹å¼ï¼Œå¯¹JSä»£ç è¿›è¡Œæ··æ·†ã€‚ å¤„ç†æ–¹å¼ï¼šï¼ˆæ‰£JSï¼Œè¡¥JSï¼‰ æ‰¾åˆ°å…¥å£æ–¹æ³• æ•´ç†ä¸»è¦é€»è¾‘ ä¿®æ”¹é€»è¾‘ä»£ç è¡¥å…¨ç¼ºå¤±çš„é€»è¾‘ å®Œæˆä»£ç çš„æ•´ç† æ€»ç»“ä»¥ä¸Šå‡ ç§æ··æ·†ä¸­å¸¸è§çš„æ˜¯ASTæ··æ·†ï¼Œåè¾¹ä¼šæœ‰ä¸“é—¨çš„æ–‡ç« ä»‹ç»ASTæ··æ·†çš„åŸç†ï¼Œå¦‚ä½•æ‰‹åŠ¨åæ··æ·†ä»¥åŠå€ŸåŠ©ç›¸å…³çš„å·¥å…·å®ç°åæ··æ·†ã€‚","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä¹‹ä»£ç æ··æ·†çš„åŸç†","date":"2022-02-18T05:54:47.000Z","path":"JSé€†å‘ä¹‹ä»£ç æ··æ·†çš„åŸç†/","text":"å¯¹JSä»£ç ä¿æŠ¤çš„æ–¹å¼ ä»£ç å‹ç¼©ï¼šå»é™¤ç©ºæ ¼ï¼Œæ¢è¡Œç­‰ã€‚ åŠ å¯†ä»£ç ï¼ševalï¼Œemscriptenï¼ŒWebAssemblyç­‰ã€‚ ä»£ç æ··æ·†ï¼šå˜é‡æ··æ·†ï¼Œå¸¸é‡æ··æ·†ï¼Œæ§åˆ¶æµæ‰å¹³åŒ–ï¼Œè°ƒè¯•ä¿æŠ¤ç­‰ã€‚ JavascriptåŠ å¯†å®ç° evalåŠ å¯† åˆ©ç”¨Javascriptä¸­çš„evalæ–¹æ³•æ‰§è¡Œä¸€äº›ä¸å¤ªå¯è¯»çš„JSä»£ç ã€‚ evalæ–¹æ³•å°±æ˜¯JSçš„ä¸€ä¸ªæ‰§è¡Œå™¨ï¼Œå®ƒå¯ä»¥æŠŠå…¶ä¸­çš„å‚æ•°æŒ‰ç…§JSçš„è¯­æ³•è¿›è¡Œè§£é‡Šå¹¶æ‰§è¡Œã€‚æ‰€ä»¥è¿™ä¸ªåŠ å¯†åªæ˜¯æŠŠJSçš„ä»£ç å˜æˆevalçš„å‚æ•°ï¼Œå…¶ä¸­çš„ä¸€äº›å­—ç¬¦éƒ½ä¼šè¢«æŒ‰ç…§ç‰¹å®šçš„æ ¼å¼ç¼–ç ã€‚ æ¯”å¦‚æœ‰ä¸€æ®µä»£ç ï¼š 1console.log(&quot;hello, world&quot;) åˆ©ç”¨ä¸€äº›åœ¨çº¿çš„evalåŠ å¯†ç½‘ç«™è¿›è¡ŒåŠ å¯†ï¼Œç»“æœå¦‚ä¸‹ï¼š 1eval(function(p,a,c,k,e,d)&#123;e=function(c)&#123;return(c&lt;a?&#x27;&#x27;:e(parseInt(c/a)))+((c=c%a)&gt;35?String.fromCharCode(c+29):c.toString(36))&#125;;if(!&#x27;&#x27;.replace(/^/,String))&#123;while(c--)d[e(c)]=k[c]||e(c);k=[function(e)&#123;return d[e]&#125;];e=function()&#123;return&#x27;\\\\w+&#x27;&#125;;c=1&#125;;while(c--)if(k[c])p=p.replace(new RegExp(&#x27;\\\\b&#x27;+e(c)+&#x27;\\\\b&#x27;,&#x27;g&#x27;),k[c]);return p&#125;(&#x27;0.2(&quot;1, 3&quot;)&#x27;,62,4,&#x27;console|hello|log|world&#x27;.split(&#x27;|&#x27;),0,&#123;&#125;)) å¯ä»¥çœ‹åˆ°å¯è¯»æ€§å¾ˆå·®ï¼Œä½†æ˜¯åœ¨consoleä¸­å¯ä»¥æ­£ç¡®æ‰§è¡Œï¼š image-20220218144118421 åŠ å¯†åçš„å­—ç¬¦ä¸²å¯ä»¥è§£å¯†å¾—åˆ°åŸå§‹çš„JSä»£ç ã€‚ Emscripten å°†JSçš„æ ¸å¿ƒé€»è¾‘ç”¨C/C++æ¥å®ç°ï¼Œç„¶åé€šè¿‡Emscriptené¡¹ç›®è¿›è¡Œç¼–è¯‘ç”Ÿæˆasm.jsä»£ç ï¼Œæœ€åè¢«JSè°ƒç”¨ã€‚ WebAssembly è·ŸEmscriptenç±»ä¼¼ï¼Œå°†æ ¸å¿ƒä»£ç ç”¨C/C++æ¥å®ç°ï¼Œç„¶åç”Ÿæˆwasmæ–‡ä»¶ï¼Œæœ€åç”¨JSæ¥è°ƒç”¨ã€‚ä¸å‰é¢ä¸åŒçš„æ˜¯ï¼Œç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶æ ¼å¼ä¸åŒï¼Œasm.jsæ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œwasmæ˜¯äºŒè¿›åˆ¶æ ¼å¼ã€‚wasmè¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œä½“ç§¯æ›´å°ã€‚ Javascriptæ··æ·†æŠ€æœ¯ å˜é‡æ··æ·† æŠŠå˜é‡åæˆ–è€…å¸¸é‡åå˜æˆä¸€äº›æ— æ„ä¹‰çš„ï¼Œæˆ–è€…çœ‹èµ·æ¥æ¯”è¾ƒä¹±çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚è¯´16è¿›åˆ¶çš„å­—ç¬¦ä¸²ï¼Œä»è€Œè¾¾åˆ°é™ä½ä»£ç å¯è¯»æ€§çš„ç›®çš„ã€‚ å­—ç¬¦ä¸²æ··æ·† æŠŠå­—ç¬¦ä¸²è¿›è¡Œmd5ï¼Œbase64æˆ–è€…rc4åŠ å¯†æˆ–è€…ç¼–ç ï¼Œç¡®ä¿ä»£ç é‡Œé¢ä¸ä¼šé€šè¿‡æœç´¢çš„åŠŸèƒ½ä»è€Œå¾—åˆ°åŸå§‹å­—ç¬¦ä¸²ã€‚é™ä½äº†é€šè¿‡å­—ç¬¦ä¸²å¯»æ‰¾å…¥å£çš„é£é™©ã€‚ å±æ€§åŠ å¯† æŠŠJSçš„Objectçš„key-valueçš„æ˜ å°„å…³ç³»æ··æ·†ï¼Œä»è€Œæ›´åŠ éš¾ä»¥å¯»æ‰¾é‡Œé¢çš„ä¸€äº›é€»è¾‘ã€‚ æ§åˆ¶æµæ‰å¹³åŒ– é¢å¤–å¢åŠ ä¸€äº›æ§åˆ¶æµï¼Œæˆ–è€…æ— æ„ä¹‰çš„æ§åˆ¶æµï¼Œä»è€Œä½¿ä»£ç æµç¨‹çœ‹èµ·æ¥æ›´åŠ å¤æ‚ï¼Œå¯è¯»æ€§æ›´åŠ å·®ã€‚ åƒµå°¸ä»£ç æ³¨å…¥ ä¸ä¼šè¢«æ‰§è¡Œçš„ä»£ç æˆ–å¯¹ä¸Šä¸‹æ–‡æ²¡æœ‰ä»»ä½•å½±å“çš„ä»£ç æ³¨å…¥åˆ°æˆ‘ä»¬çš„ä»£ç ï¼Œå¯ä»¥å½¢æˆå¯¹ç°æœ‰JSä»£ç çš„é˜…è¯»å¹²æ‰°ã€‚ ä»£ç å‹ç¼© å»é™¤ä»£ç çš„ä¸€äº›ç©ºæ ¼ï¼Œå›è½¦ï¼Œè°ƒè¯•è¯­å¥ç­‰æ‰½ï¼Œå¯ä»¥ä½¿æ–‡ä»¶å˜å¾—æ›´å°ï¼Œå¯ä»¥å°†å¤šè¡Œä»£ç å˜æˆä¸€è¡Œä»£ç å˜å¾—æ›´åŠ éš¾è¯»ã€‚ åè°ƒè¯• åŸºäºæµè§ˆå™¨çš„ç‰¹æ€§ï¼Œå¯¹å½“å‰ç¯å¢ƒè¿›è¡Œä¸€äº›æ£€éªŒï¼Œç„¶åè®©å®ƒæ— é™debugæˆ–è€…å®šæ—¶debugï¼Œé€šè¿‡ä¸€äº›æ–­ç‚¹è¿›è¡Œå¹²æ‰°ã€‚ å¤šæ€å˜å¼‚ JSä»£ç è¢«è°ƒç”¨æ—¶ï¼Œä¸€æ—¦è¢«è°ƒç”¨ï¼Œä»£ç ç«‹åˆ»å‘ç”Ÿå˜åŒ–ï¼Œå˜æˆå’ŒåŸæ¥å®Œå…¨ä¸åŒçš„ä»£ç ï¼Œä»£ç åŠŸèƒ½ä¸å˜ï¼Œåªæ˜¯ä»£ç å½¢å¼å‘ç”Ÿå˜åŒ–ï¼Œé¿å…ä»£ç è¢«åŠ¨æ€çš„åˆ†æå’Œè°ƒè¯•ã€‚ é”å®šåŸŸå æœ‰ä¸€ä¸ªæ£€æµ‹æœºåˆ¶ï¼Œä½¿å¾—æˆ‘ä»¬çš„Javascriptä»£ç åªèƒ½åœ¨ç‰¹å®šçš„åŸŸåä¸‹æ‰§è¡Œã€‚ åæ ¼å¼åŒ– å¦‚æœæˆ‘ä»¬å¯¹JSä»£ç æ ¼å¼åŒ–ä¹‹åï¼Œä¼šæœ‰ä¸€äº›æœºåˆ¶ä½¿å¾—æˆ‘ä»¬æ— æ³•é¡ºåˆ©çš„è¿è¡Œã€‚ ç‰¹æ®Šç¼–ç  å°†JSä»£ç ç¼–ç æˆä¸€äº›ç‰¹åˆ«éš¾è¯»çš„ä»£ç ï¼Œæ¯”å¦‚è¯´ä¸­æ‹¬å·ï¼Œå¹å·ç­‰ç­‰ã€‚ Javascriptæ··æ·†çš„å¼€æºé¡¹ç›® UglifyJS https://github.com/mishoo/UglifyJS2 è§£æJSçš„æŠ½è±¡è¯­æ³•æ ‘ï¼Œç„¶åæ ¹æ®æŠ½è±¡çš„è¯­æ³•æ ‘ï¼Œå¯¹å˜é‡è¿›è¡Œé‡å‘½åï¼Œç„¶åè¿›è¡Œä¸€äº›å‹ç¼©æˆ–è€…å˜å¼‚ã€‚ terser https://github.com/terser/terser å’ŒUglifyJSåŠŸèƒ½ç±»ä¼¼ï¼Œå¢åŠ äº†å¯¹ES6çš„æ”¯æŒã€‚ javascript-obfuscator https://github.com/javascript-obfuscator/javascript-obfuscator è¯¥é¡¹ç›®å¯ä»¥ç”¨æ¥å®ç°å‡ ä¹æ‰€æœ‰çš„æ··æ·†æ•ˆæœï¼Œæ¯”å¦‚å­—ç¬¦ä¸²çš„æ··æ·†ï¼Œå±æ€§çš„åŠ å¯†ï¼Œå¹³å¦åŒ–æ§åˆ¶æµç­‰ç­‰ã€‚ Jsfuck https://github.com/aemkeijsfuck å°†JSé‡Œé¢çš„ä¸€äº›å˜é‡æˆ–è€…å®šä¹‰æ›¿æ¢æˆæ¯”å¦‚è¯´{}çš„è¡¨ç¤ºï¼Œä½“ç§¯ä¼šå˜å¾—éå¸¸å¤§ã€‚ AAEncode https://github.com/bprayudha/jquery.aaencode æŠŠJSä»£ç æ¢æˆä¸€äº›é¢œæ–‡å­—çš„å½¢å¼ã€‚ JJEncode https://github.com/ay86/jEncrypt æŠŠJSä»£ç æ›¿æ¢æˆä¸€äº›$ï¼ŒåŠ å·ï¼Œä¸­æ‹¬å·ç­‰ç­‰ï¼Œé™ä½å¯è¯»æ€§ã€‚ Javascriptæ··æ·†çš„åœ¨çº¿å·¥å…· https://obfuscator.io https://www.sojson.com/jscodeconfusion.html https://www.jshaman.com/protect.html https://freejsobfuscator.com https://www.daftlogic.com/protects-online-javascript-obfuscator.html https://beautifytools.com/javascript-obfuscator.php Javascriptæ··æ·†çš„å•†ä¸šæœåŠ¡ https://javascriptobfuscator.com https://jscrambler.com https://stunnix.com Javascriptæ··æ·†å®ç°åŸºäºjavascript-obfuscatorå¼€æºé¡¹ç›®ï¼Œä¾èµ–Node.jsï¼Œåˆ›å»ºå¥½å·¥ä½œç©ºé—´ï¼Œå¹¶å®‰è£…å¥½javascript-obfuscatoråŒ…ã€‚ 123mkdir workspace &amp;&amp; cd workspacenpm initnpm install --save-dev javascript-obfuscator çœ‹ä¸‹javascript-obfuscatorçš„åŸºæœ¬ä½¿ç”¨ï¼š 123456789101112const code = `let x = &#x27;1&#x27; + 1console.log(&#x27;x&#x27;, x)`const options = &#123; compact: false, controlFlowFlattening: true&#125;const obfuscator = require(&quot;javascript-obfuscator&quot;)console.log(obfuscator.obfuscate(code, options).getObfuscatedCode()) é¦–å…ˆå®šä¹‰ä¸€ä¸ªå˜é‡codeä¿å­˜è¦æ··æ·†çš„ä»£ç ï¼Œç„¶åoptionsæ˜¯æ··æ·†æ—¶è®¾ç½®çš„ä¸€äº›å‚æ•°ï¼Œcompactè¡¨ç¤ºæ˜¯å¦å‹ç¼©æˆä¸€è¡Œçš„å½¢å¼ï¼ŒcontrolFlowFlatteningè¡¨ç¤ºæ§åˆ¶æµå¹³å¦åŒ–ã€‚æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546function _0x3636() &#123; const _0x1b28ef = [ &#x27;10gXHWCI&#x27;, &#x27;log&#x27;, &#x27;1186QQlqFf&#x27;, &#x27;387777QhzDIE&#x27;, &#x27;4QPhAWc&#x27;, &#x27;7dmdYNq&#x27;, &#x27;3383712sHKpqN&#x27;, &#x27;3268150BmflmK&#x27;, &#x27;338QyRTUY&#x27;, &#x27;3280416bapPFy&#x27;, &#x27;2348556uvulWF&#x27;, &#x27;22yhcCAQ&#x27;, &#x27;2778200CXJHeV&#x27; ]; _0x3636 = function () &#123; return _0x1b28ef; &#125;; return _0x3636();&#125;const _0x5f084d = _0x2680;(function (_0x416f08, _0x4aca4c) &#123; const _0x3bfda0 = _0x2680, _0x3eb696 = _0x416f08(); while (!![]) &#123; try &#123; const _0x2d197a = parseInt(_0x3bfda0(0x1d1)) / 0x1 * (-parseInt(_0x3bfda0(0x1ca)) / 0x2) + parseInt(_0x3bfda0(0x1d2)) / 0x3 * (parseInt(_0x3bfda0(0x1d3)) / 0x4) + parseInt(_0x3bfda0(0x1c9)) / 0x5 + -parseInt(_0x3bfda0(0x1cc)) / 0x6 * (parseInt(_0x3bfda0(0x1d4)) / 0x7) + parseInt(_0x3bfda0(0x1ce)) / 0x8 + parseInt(_0x3bfda0(0x1d5)) / 0x9 * (parseInt(_0x3bfda0(0x1cf)) / 0xa) + -parseInt(_0x3bfda0(0x1cd)) / 0xb * (parseInt(_0x3bfda0(0x1cb)) / 0xc); if (_0x2d197a === _0x4aca4c) break; else _0x3eb696[&#x27;push&#x27;](_0x3eb696[&#x27;shift&#x27;]()); &#125; catch (_0x4e2954) &#123; _0x3eb696[&#x27;push&#x27;](_0x3eb696[&#x27;shift&#x27;]()); &#125; &#125;&#125;(_0x3636, 0x59bb0));let x = &#x27;1&#x27; + 0x1;function _0x2680(_0x3f1f90, _0x4fb200) &#123; const _0x36367e = _0x3636(); return _0x2680 = function (_0x2680ac, _0x269526) &#123; _0x2680ac = _0x2680ac - 0x1c9; let _0x72d9ee = _0x36367e[_0x2680ac]; return _0x72d9ee; &#125;, _0x2680(_0x3f1f90, _0x4fb200);&#125;console[_0x5f084d(0x1d0)](&#x27;x&#x27;, x); å…³äºä¸€äº›æ··æ·†å‚æ•°çš„è¯´æ˜ï¼š å‚æ•°å ç±»å‹ å«ä¹‰ compact Boolean è¡¨ç¤ºæ˜¯å¦å‹ç¼©ï¼Œtrueä¸ºå‹ç¼©ï¼Œfalseä¸ºä¸å‹ç¼©ï¼Œå‹ç¼©åä¼šå˜ä¸ºä¸€è¡Œ identifierNamesGenerator String å˜é‡åæ··æ·†çš„æ–¹å¼ï¼Œé»˜è®¤ä¸º16è¿›åˆ¶æ··æ·†ï¼Œè®¾ç½®ä¸ºmangledä¸ºæ™®é€šæ··æ·† stringArray Boolean å­—ç¬¦ä¸²æ··æ·†ï¼Œæ˜¯å¦æŠŠå­—ç¬¦ä¸²å˜é‡æ‹¼æˆä¸€ä¸ªæ•°ç»„çš„å½¢å¼ rotateStringArray Boolean å­—ç¬¦ä¸²æ··æ·†ï¼Œæ˜¯å¦å¯¹ä¸Šè¾¹æåˆ°çš„æ•°ç»„è¿›è¡Œåè½¬ stringArrayEncoding Booleanæˆ–è€…String å­—ç¬¦ä¸²æ··æ·†ï¼Œæ˜¯å¦å¯¹å­—ç¬¦ä¸²ç¼–ç ï¼Œé»˜è®¤ä¸ºbase64ï¼Œè®¾ç½®ä¸ºfalseä¸ºä¸ç¼–ç ï¼Œè®¾ç½®ä¸ºbase64è¡¨ç¤ºä½¿ç”¨base64ç¼–ç ï¼Œè®¾ç½®ä¸ºrc4è¡¨ç¤ºä½¿ç”¨rc4ç¼–ç  unicodeEscapeSequence Boolean å­—ç¬¦ä¸²æ··æ·†ï¼Œæ˜¯å¦ä½¿ç”¨unicodeç¼–ç  selfDefending Boolean ä»£ç çš„è‡ªæˆ‘ä¿æŠ¤ï¼Œå¦‚æœæ ¼å¼åŒ–åè¿è¡Œï¼Œä¼šç›´æ¥å°†æµè§ˆå™¨å¡æ­» controlFlowFlattening Boolean æ§åˆ¶æµå¹³å¦åŒ– transformObjectKeys Boolean å¯¹è±¡é”®åæ›¿æ¢ disableConsoleOutput Boolean ç¦ç”¨æ§åˆ¶å°è¾“å‡ºï¼Œä¼šæŠŠä¸€äº›æ§åˆ¶å°æ–¹æ³•ç½®ä¸ºç©º debugProtection Boolean è°ƒè¯•çš„ä¿æŠ¤ï¼Œæ— é™debugï¼Œå®šæ—¶debugï¼Œdebuggerå…³é”®å­— domainLock Array åŸŸåé”å®šï¼Œåªå…è®¸åœ¨ç‰¹å®šçš„åŸŸåä¸‹æ‰§è¡Œï¼Œé™ä½è¢«æ¨¡æ‹Ÿé£é™©","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä¹‹Toggle Javascriptå·¥å…·ç¯‡","date":"2022-02-16T07:05:12.000Z","path":"JSé€†å‘ä¹‹Toggle-Javascriptå·¥å…·ç¯‡/","text":"Javascriptï¼Œå®ƒæ˜¯ç½‘ç«™çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬çš„ç½‘ç«™å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½ä¼šæœ‰Javascriptçš„æ‰§è¡Œã€‚æœ‰äº†å®ƒï¼Œæˆ‘ä»¬æ•´ä¸ªç½‘ç«™çš„åŠŸèƒ½ä¼šå˜å¾—æ›´åŠ çš„å¼ºå¤§ã€‚ä½†æ˜¯å¯¹äºæˆ‘ä»¬çˆ¬è™«æ¥è¯´ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬ç”¨requestsæ¥è¯·æ±‚æŸä¸€ä¸ªç½‘ç«™çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ç»“æœå®é™…ä¸Šå¯èƒ½ä¸æµè§ˆå™¨å¾—åˆ°çš„çœŸå®çœ‹åˆ°çš„ç»“æœæˆ–è€…è¯´åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·Eelementsçª—å£çœ‹åˆ°çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™ä¸ªå°±æ˜¯ç”±äºJavascripté¡µé¢çš„æ¸²æŸ“å¯¼è‡´çš„ç»“æœä¸åŒï¼Œè¿™æ ·å°±ä¼šå¯¹çˆ¬è™«äº§ç”Ÿä¸€ä¸ªè¾ƒå¤§çš„å¹²æ‰°ã€‚å¦‚æœæˆ‘ä»¬èƒ½ç¦ç”¨åæœŸçš„Javascriptæ¸²æŸ“ï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°çœŸå®çš„ç»“æœä¸æˆ‘ä»¬requestsè¯·æ±‚å¾—åˆ°çš„ç»“æœä¸€è‡´äº†ï¼Œè¿™æ ·å°±éå¸¸æ–¹ä¾¿äº†ï¼Œé‚£ä¹ˆå¦‚ä½•åšåˆ°è¿™ä¸€ä¸ªåŠŸèƒ½å‘¢ï¼Ÿè¿™ç¯‡æ–‡ç« å°±ä¼šä»‹ç»Toggle Javascriptçš„Chromeæ’ä»¶ã€‚ å®‰è£…æ‰“å¼€Chrome ç½‘ä¸Šå•†åº—ï¼Œæœç´¢Toggle Javascriptï¼Œç„¶åç‚¹å‡»æ·»åŠ è‡³Chromeå³å¯ã€‚ æ·»åŠ å®Œä¹‹åï¼Œç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çš„æ‰©å±•ç¨‹åºå°å›¾æ ‡ï¼Œç„¶åç‚¹å‡»Toggle Javascriptçš„å›ºå®šæŒ‰é’®ï¼Œå°†Toggle Javascriptå›ºå®šåˆ°èœå•æ ï¼Œæ–¹ä¾¿ä»¥åä½¿ç”¨ã€‚ image-20220216151324812 ä½¿ç”¨é€šè¿‡ç‚¹å‡»Toggle JavascriptæŒ‰é’®æ¥æš‚åœæˆ–æ¢å¤JSçš„æ‰§è¡Œã€‚ä»¥ä¸€ä¸ªå°è¯´ç½‘ç«™çº¢è–¯ç½‘ä¸ºä¾‹ï¼š æˆ‘ä»¬éšä¾¿ç‚¹å¼€ä¸€ä¸ªå°è¯´çš„æŸä¸€ç« ï¼š image-20220216152044654 è¿™ä¸ªé¡µé¢å®é™…ä¸Šæœ‰éƒ¨åˆ†å†…å®¹æ˜¯ç”¨Javascriptæ¸²æŸ“ç”Ÿæˆçš„ï¼Œå¦‚æœæˆ‘ä»¬ç”¨requestsè¯·æ±‚çš„è¯ï¼Œå¾—åˆ°çš„é¡µé¢çš„æ•ˆæœï¼Œå°±æ˜¯æˆ‘ä»¬ç¦ç”¨æ‰Javascriptä¹‹åçš„æ•ˆæœï¼Œæˆ‘ä»¬ç‚¹å‡»Toggle Javascriptå°å›¾æ ‡ï¼š image-20220216152307901 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ ‡ç‚¹ç¬¦å·æ²¡äº†ï¼Œæ•´ä¸ªè¯­å¥ä¹Ÿå˜å¾—ä¸é€šé¡ºäº†ã€‚æˆ‘ä»¬å¦‚æœç”¨æ­£å¸¸çš„requestsè¯·æ±‚çš„è¯å°±ä¼šå¾—åˆ°è¿™æ ·ä¸€ä¸ªæ•ˆæœã€‚ æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢åˆ°Networké¢æ¿ï¼Œåˆ·æ–°é¡µé¢ï¼Œæˆ‘ä»¬æŸ¥çœ‹åŸç”Ÿçš„è¯·æ±‚ï¼ŒPreviewçš„ç»“æœä¸æˆ‘ä»¬é€šè¿‡Toggle Javascriptç¦ç”¨JSçš„ç»“æœæ˜¯ä¸€æ‘¸ä¸€æ ·çš„ã€‚ image-20220216152557041 æˆ‘ä»¬å†çœ‹ä¸€ä¸‹æºç ï¼Œæœ‰ä¸€äº›æ–‡å­—æœ‰ä¸€äº›spançš„å ä½ç¬¦ï¼ŒåæœŸé€šè¿‡JSæ¸²æŸ“æ›¿æ¢è¿™äº›å ä½ç¬¦ï¼Œå°±å¯ä»¥æ¸²æŸ“å‡ºçœŸæ­£çš„é¡µé¢å†…å®¹ï¼š image-20220216152850619 æ€»ç»“Toggle Javascriptæ˜¯ä¸€æ¬¾Chromeæµè§ˆå™¨æ’ä»¶ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯ç¦ç”¨æˆ–è€…æ‰§è¡Œé¡µé¢çš„JSï¼Œåœ¨çˆ¬è™«å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡è¯¥å·¥å…·å¯ä»¥è¿…é€Ÿçš„å¾—åˆ°requestsè¯·æ±‚ä¹‹åçš„é¡µé¢ç»“æœï¼Œéå¸¸æ–¹ä¾¿ã€‚","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"Toggle Javascript","slug":"Toggle-Javascript","permalink":"https://blog.heshipeng.com/tags/Toggle-Javascript/"}]},{"title":"JSé€†å‘ä¹‹EditThisCookieå·¥å…·ç¯‡","date":"2022-02-16T02:26:34.000Z","path":"JSé€†å‘ä¹‹EditThisCookieå·¥å…·ç¯‡/","text":"åœ¨åšçˆ¬è™«å¼€å‘çš„æ—¶å€™ç»å¸¸ä¼šé‡åˆ°æŸ¥çœ‹æˆ–è€…ä¿®æ”¹Cookiesçš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬å¯èƒ½ä¼šæœ‰è¿™ä¹ˆä¸€äº›éœ€æ±‚ï¼Œæ¯”å¦‚ç¼–è¾‘Cookiesï¼Œç¼–è¾‘å®ƒçš„å†…å®¹æˆ–è€…æœ‰æ•ˆæœŸï¼›æˆ–è€…æ˜¯è¯´åˆ é™¤Cookiesï¼Œå®ç°æŸä¸ªé¡µé¢çš„é€€å‡ºï¼Œæˆ–è€…è¯´æµ‹è¯•æŸä¸ªCookieæ˜¯å¦æœ‰æ•ˆç­‰ï¼›æˆ–è€…è¯´æ·»åŠ æŸä¸ªCookieï¼Œæ¯”å¦‚è¯´åœ¨æœªç™»å½•çŠ¶æ€ä¸‹æ·»åŠ æŸä¸ªCookieç„¶åç»•è¿‡ç™»å½•ï¼›æˆ–è€…è¯´å¯¼å…¥å¯¼å‡ºæŸäº›Cookieï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æŠŠCookieæŒä¹…åŒ–å­˜å‚¨åœ¨å¦ä¸€å°ç”µè„‘ä¸Šï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½éœ€è¦ä¸€äº›å¯¼å…¥å¯¼å‡ºæœºåˆ¶ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¸€æ¬¾æµè§ˆå™¨æ’ä»¶å«åšEditThisCookieæ¥å¸®åŠ©æˆ‘ä»¬è½»æ¾çš„å®Œæˆä¸Šé¢æåˆ°çš„éœ€æ±‚ï¼Œæœ¬æ–‡å°†ä»‹ç»è¿™ä¸ªæ’ä»¶çš„ä½¿ç”¨æ–¹æ³•ã€‚ å®‰è£…æ‰“å¼€Chrome ç½‘ä¸Šå•†åº—ï¼Œæœç´¢EditThisCookieï¼Œç„¶åç‚¹å‡»æ·»åŠ è‡³Chromeå³å¯ã€‚ æ·»åŠ å®Œä¹‹åï¼Œç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çš„æ‰©å±•ç¨‹åºå°å›¾æ ‡ï¼Œç„¶åç‚¹å‡»EditThisCookieçš„å›ºå®šæŒ‰é’®ï¼Œå°†EditThisCookieå›ºå®šåˆ°èœå•æ ï¼Œæ–¹ä¾¿ä»¥åä½¿ç”¨ã€‚ image-20220216104323796 åŠŸèƒ½ä»‹ç»ç®¡ç†Cookiesæˆ‘ä»¬ä»¥editthiscookie.comä¸ºä¾‹ï¼Œæµè§ˆå™¨åœ°å€è¾“å…¥è¯¥ç½‘å€ï¼Œç„¶åæ‰“å¼€Chromeçš„å¼€å‘è€…å·¥å…·ï¼Œå¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªEditThisCookieçš„çª—æ ¼ï¼š image-20220216113706345 å¯ä»¥çœ‹åˆ°å½“å‰ç½‘ç«™çš„Cookieä»¥ä¸€ä¸ªè¡¨æ ¼çš„å½¢å¼å‘ˆç°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªè¡¨æ ¼é‡Œå¯¹æŸäº›Cookieè¿›è¡Œä¿®æ”¹ï¼Œåˆ é™¤ç­‰æ“ä½œã€‚ä½†æ˜¯æ²¡æ³•æ·»åŠ ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å¼€å‘è€…å·¥å…·è‡ªå¸¦çš„Cookieç®¡ç†çª—å£ï¼š image-20220216114048001 å¯ä»¥å¯¹Cookieè¿›è¡ŒCURDæ“ä½œï¼Œä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ã€‚è¿™é‡Œæ˜¾ç¤ºçš„Cookieä¸ä»…ä»…æ˜¯editthiscookie.comè¿™ä¸ªdomainä¸‹çš„Cookieï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥ç”¨ä¸Šé¢çš„Filterè¿›è¡Œè¿‡æ»¤ï¼Œå¦‚ä¸‹ï¼š image-20220216114257547 é™¤äº†ä¸Šé¢2ç§æ–¹å¼ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç‚¹å‡»EditThisCookieè¿™ä¸ªå›¾æ ‡ï¼š image-20220216114525960 å¯ä»¥çœ‹åˆ°è¿™é‡Œé™¤äº†èƒ½å¯¹Cookieè¿›è¡ŒCURDæ“ä½œå¤–ï¼Œè¿˜å¯ä»¥å¯¹Cookieè¿›è¡Œæ‰¹é‡æ“ä½œï¼Œæ¯”å¦‚åˆ é™¤æ‰€æœ‰Cookieã€‚è¿˜å¯ä»¥è¿›è¡ŒCookieçš„å¯¼å…¥å¯¼å‡ºç­‰ã€‚ å¯¼å‡ºCookieç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’EditThisCookieå°å›¾æ ‡ï¼Œç„¶åç‚¹å‡»è®¾ç½® image-20220216134602208 ç‚¹å‡»é€‰é¡¹ï¼Œé€‰æ‹©Cookieçš„å¯¼å‡ºæ ¼å¼ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©JSONï¼š image-20220216134645420 ç„¶åå›åˆ°å‰ä¸€ä¸ªé¡µé¢ï¼Œç‚¹å‡»å¯¼å‡ºCookieæŒ‰é’®ï¼š image-20220216135001882 æ­¤æ—¶Cookieå¹¶ä»¥JSONçš„å½¢å¼å¤åˆ¶åˆ°äº†å‰ªåˆ‡æ¿ï¼Œæˆ‘ä»¬æ‰¾ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ç²˜è´´ï¼Œå¯ä»¥å¾—åˆ°Cookieçš„å†…å®¹ï¼š image-20220216135141980 è¿™ç§JSONæ ¼å¼çš„Cookieå°±å¯ä»¥ç›´æ¥æ”¾åˆ°ç¨‹åºä¸­ä½¿ç”¨äº†ã€‚ Cookieå¯¼å…¥å¯¼å‡ºå°å®éªŒé¦–å…ˆæˆ‘ä»¬ç™»å½•github.comï¼Œç™»å½•ä¹‹åä¸»é¡µå¯ä»¥çœ‹åˆ°ä¸ªäººä¿¡æ¯ï¼š image-20220216135949035 æ¥ç€æˆ‘ä»¬ç”¨EditThisCookieå¯¼å‡ºCookieå¹¶ä¿å­˜åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼š image-20220216140120593 ç„¶åæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹©Applicationï¼Œé€‰æ‹©Cookieï¼Œç„¶åå³é”®Clearï¼Œæ¸…é™¤è¯¥ç«™ç‚¹æ‰€æœ‰çš„Cookieï¼š image-20220216140235247 è¿™æ—¶æˆ‘ä»¬åˆ·æ–°è¯¥é¡µé¢ï¼Œå‘ç°æˆ‘ä»¬æˆåŠŸé€€å‡ºäº†githubï¼š image-20220216140324742 ç„¶åæˆ‘ä»¬ç‚¹å‡»EditThisCookieï¼Œå¯¼å…¥åˆšæ‰ä¿å­˜çš„Cookieï¼š image-20220216140419364 ç„¶ååˆ·æ–°é¡µé¢ï¼Œå‘ç°æˆ‘ä»¬åˆé‡æ–°ç™»å½•äº†githubï¼š image-20220216140504490","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"EditThisCookie","slug":"EditThisCookie","permalink":"https://blog.heshipeng.com/tags/EditThisCookie/"}]},{"title":"JSé€†å‘ä¹‹Charleså·¥å…·ç¯‡","date":"2022-02-15T05:51:15.000Z","path":"JSé€†å‘ä¹‹Charleså·¥å…·ç¯‡/","text":"CharlseCharlseæ˜¯ä¸€ä¸ªHTTP/HTTPSæŠ“åŒ…å·¥å…·ï¼Œæ”¯æŒWindows/Linux/Macå¹³å°ã€‚åŠŸèƒ½åŒ…å«æˆªè·è¯·æ±‚ï¼Œè¿‡æ»¤è¯·æ±‚ï¼Œé‡å‘è¯·æ±‚ï¼Œè®¾ç½®æ–­ç‚¹ï¼Œæ¨¡æ‹Ÿç½‘é€Ÿï¼Œåå‘ä»£ç†ç­‰ã€‚ å®‰è£…è¯ä¹¦æŠ“å–PCç«¯HTTPSçš„è¯·æ±‚æ—¶ï¼Œå¦‚æœæ²¡æœ‰é…ç½®Charlesè¯ä¹¦ï¼Œä¼šå‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼š image-20220215152744261 æ­¤æ—¶éœ€è¦å®‰è£…Charlesè¯ä¹¦ï¼Œæ­¥éª¤å¦‚ä¸‹(ä»¥Macç¯å¢ƒä¸ºä¾‹ï¼Œå…¶ä»–ç±»ä¼¼)ï¼š image-20220215153015985 æ‰“å¼€Charlseï¼Œé€‰æ‹©Help-&gt;SSL Proxying-&gt;Install Charles Root Certicate ç„¶åå¼¹å‡ºä¸€ä¸ªè¯ä¹¦é€‰é¡¹ï¼š image-20220215153449694 æ›´æ”¹é’¥åŒ™ä¸²çš„ä¿å­˜ä½ç½®ä¸ºç™»å½•ï¼Œç„¶åç‚¹å‡»æ·»åŠ ã€‚ä¹‹åæ‰“å¼€é’¥åŒ™ä¸²è®¿é—®åº”ç”¨ï¼š image-20220215153741168 æ‰¾åˆ°ç™»å½•é€‰é¡¹ï¼Œç„¶åè¯ä¹¦è¿™ä¸€æ ï¼Œå¦‚ä¸Šã€‚å¯ä»¥çœ‹åˆ°åˆšæ‰æ·»åŠ çš„Charlesè¯ä¹¦å‰é¢æœ‰ä¸€ä¸ªå‰å‰ï¼ŒåŒå‡»è¿™ä¸ªè¯ä¹¦ã€‚ç‚¹å‡»ä¿¡ä»»ï¼š image-20220215153936079 æ¥ç€æŠŠä½¿ç”¨æ­¤è¯ä¹¦æ—¶æ”¹ä¸ºå§‹ç»ˆä¿¡ä»»ï¼Œå¦‚ä¸‹å›¾ã€‚ç„¶åå…³é—­å¹¶ä¸”ä¿å­˜ä¿®æ”¹ã€‚ image-20220215154022123 æ·»åŠ å®Œè¯ä¹¦åï¼Œéœ€è¦ä¿®æ”¹SSL Proxyingè®¾ç½®ï¼Œå°†æˆ‘ä»¬å…·ä½“è¦æŠ“çš„è¯·æ±‚åœ°å€ä¸ç«¯å£æ·»åŠ è¿›æ¥ã€‚å…·ä½“æ­¥éª¤ï¼š ç‚¹å‡»Proxy-&gt;SSL Proxying Settings image-20220215154322329 ç„¶ååœ¨Includeè¿™ä¸€æ ç‚¹å‡»AddæŒ‰é’®ï¼ŒHostå’ŒPortéƒ½å¡«é€šé…ç¬¦*ï¼Œè¡¨ç¤ºæŠ“åŒ…æ—¶ä¸é™åˆ¶ipä»¥åŠç«¯å£ã€‚ image-20220215154509908 ä»¥ä¸Šä¸¤ä¸ªé‡è¦è®¾ç½®éƒ½ä¿®æ”¹å¥½åï¼Œé‡æ–°åˆ·æ–°æˆ‘ä»¬åˆšæ‰æŠ“åŒ…æ—¶æŠ¥æ¡æ‰‹é”™è¯¯çš„é¡µé¢ï¼Œå‘ç°å¯ä»¥æ­£å¸¸æŠ“åŒ…äº†ã€‚ æˆªè·è¯·æ±‚å®‰è£…å¥½è¯ä¹¦ï¼Œé…ç½®å¥½SSL Proxingä¹‹åï¼Œå°±å¯ä»¥æ­£å¸¸çš„æˆªè·è¯·æ±‚äº†ã€‚è¿™é‡Œä»‹ç»ä¸€ä¸ªç½‘ç«™â€”â€”httpbin.orgã€‚httpbin.orgæ˜¯ä¸€ä¸ªå¯ä»¥è¿›è¡Œæ¨¡æ‹Ÿè¯·æ±‚çš„ç½‘ç«™ã€‚ image-20220215160208105 HTTP Methods å¯ä»¥æ¨¡æ‹Ÿå‘é€è¯·æ±‚æ–¹æ³•ä¸ºDELETE/GET/PATCH/POST/PUTçš„è¯·æ±‚ã€‚ Auth å¯ä»¥æ¨¡æ‹Ÿå‘é€åŒ…å«å„ç§éœ€è¦éªŒè¯çš„è¯·æ±‚ï¼Œæ¯”å¦‚Bearer tokenã€‚ Status codeså¯ä»¥æ¨¡æ‹Ÿå‘é€çŠ¶æ€ç ä¸º401, 403, 500ç­‰è¯·æ±‚ã€‚ å…¶å®ƒåŠŸèƒ½è¿˜æœ‰åŒ…æ‹¬è¯·æ±‚å¤´æ£€æµ‹ï¼Œè¿”å›å¤´æ£€æµ‹ï¼ŒåŠ¨æ€æ•°æ®ï¼Œå›¾ç‰‡ï¼ŒCookieï¼Œé‡å®šå‘ç­‰ï¼Œä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚ è¿™é‡Œæˆ‘ä»¬ç”¨httpbin.orgå‘é€ä¸€ä¸ªGETè¯·æ±‚ï¼šç‚¹å‡»HTTP Methodsï¼Œç‚¹å‡»GETï¼Œç‚¹å‡»Try it outï¼Œç‚¹å‡»Executeï¼Œå°±æˆåŠŸå‘é€äº†ä¸€ä¸ªHTTPè¯·æ±‚ã€‚ image-20220215160836694 æˆ‘ä»¬å¯ä»¥åœ¨Charlesä¸ŠæˆåŠŸæˆªè·åˆ°è¿™ä¸ªè¯·æ±‚ï¼š image-20220215161001335 è¿‡æ»¤è¯·æ±‚å½“charlesæŠ“åˆ°çš„è¯·æ±‚éå¸¸å¤šæ—¶ï¼Œæˆ‘ä»¬éœ€è¦è¿…é€Ÿå®šä½åˆ°æˆ‘ä»¬æƒ³è¦æˆªè·çš„è¯·æ±‚ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°è¿‡æ»¤è¯·æ±‚äº†ã€‚æœ‰2ç§æ–¹æ³•ï¼š åœ¨filteræ å¡«å†™éœ€è¦è¿‡æ»¤å‡ºæ¥çš„åŸŸå å›ºå®šæŸä¸€ä¸ªåŸŸå image-20220215161421619 æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„é‚£ä¸€ä¸ªåŸŸåï¼Œç„¶åå³é”®é€‰æ‹©Focusï¼Œè¿™ä¸ªæ—¶å€™å½“å‰åŸŸåå°±ä¼šç½®é¡¶ï¼Œå¹¶ä¸”å…¶å®ƒæ‰€æœ‰åŸŸåéƒ½å˜ä¸ºOther Hostsã€‚ é‡å‘è¯·æ±‚é‡å‘è¯·æ±‚å¯ä»¥é€šè¿‡ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œä¹Ÿå¯ä»¥å³é”®RepeatæŒ‰é’®ï¼Œé‡å‘è¯·æ±‚ä¹‹å‰æˆ‘ä»¬è¿˜å¯ä»¥ç¼–è¾‘å½“å‰çš„è¯·æ±‚ï¼Œæ¯”å¦‚ä¿®æ”¹User-Agentï¼ŒCookieç­‰ï¼Œæ­¤å¤–è¿˜æœ‰ä¸€ä¸ªRepeat AdvancedåŠŸèƒ½ï¼Œå¯ä»¥è®¾ç½®é‡å¤æŸä¸€ä¸ªè¯·æ±‚å¤šå°‘æ¬¡ä»¥åŠæ¯æ¬¡è¯·æ±‚ä¹‹é—´å»¶è¿Ÿå¤šé•¿æ—¶é—´ã€‚ä¸‹é¢ä¸€ä¸€ä»‹ç»è¿™äº›åŠŸèƒ½ï¼š é‡å‘è¯·æ±‚ ç¬¬ä¸€ç§æ–¹å¼ï¼Œé€‰ä¸­æŸä¸€ä¸ªè¯·æ±‚ï¼Œç„¶åç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼š image-20220215164451184 ç¬¬äºŒç§æ–¹å¼ï¼Œé€‰ä¸­æŸä¸€ä¸ªè¯·æ±‚ï¼Œç„¶åå³é”®ï¼Œç‚¹å‡»Repeatï¼š image-20220215164611051 ç¼–è¾‘è¯·æ±‚ ç¼–è¾‘è¯·æ±‚åé‡å‘ï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬ä¸å†™ä¸€è¡Œä»£ç å»è°ƒç ”æŸä¸€ä¸ªè¯·æ±‚çš„å…³é”®ç‚¹ï¼Œéå¸¸æ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œè°ƒè¯•ï¼Œé€‰ä¸­æŸä¸€ä¸ªè¯·æ±‚ï¼Œç‚¹å‡»ä¿®æ”¹æŒ‰é’®ï¼š image-20220215164921556 å¯ä»¥ä¿®æ”¹è¯·æ±‚çš„URLï¼Œè¯·æ±‚çš„å‚æ•°ï¼Œè¯·æ±‚çš„Headerç­‰ç­‰ï¼š image-20220215165128661 Repeat Advanced é€‰ä¸­æŸä¸€ä¸ªè¯·æ±‚ï¼Œå³é”®ç‚¹å‡»Repeat Advancedï¼š image-20220215165303797 iterationså¡«å…¥é‡å¤çš„æ¬¡æ•°ï¼ŒConcurrencyå¡«å…¥è¯·æ±‚çš„å¹¶å‘æ•°ï¼ŒRepeat delayè¡¨ç¤ºæ¯ä¸ªè¯·æ±‚ä¹‹é—´çš„å»¶è¿Ÿã€‚å‹¾é€‰Use rangesè¿˜å¯ä»¥è®¾ç½®å»¶è¿Ÿåœ¨ä¸€ä¸ªèŒƒå›´å†…ï¼Œå³ä¿è¯å»¶è¿Ÿçš„éšæœºæ€§ã€‚ image-20220215165446565 è¿™ä¸ªåŠŸèƒ½å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å¼€å‘çˆ¬è™«çš„æ—¶å€™ä¸ç”¨ç¼–å†™ä»£ç å°±å¯ä»¥è°ƒè¯•çˆ¬è™«çš„æ˜¯å¦æœ‰è®¿é—®é¢‘ç‡ä¸Šçš„é™åˆ¶ï¼Œåº”åšå‡ºæ¥çš„å»¶æ—¶ç­–ç•¥æ˜¯æ€æ ·çš„ç­‰ç­‰ã€‚ è®¾ç½®æ–­ç‚¹å…ˆçœ‹ä¸‹æ–­ç‚¹çš„ä½¿ç”¨æ–¹æ³•ï¼Œç„¶åå†ä»‹ç»è¿™æ ·åšçš„æ„ä¹‰ã€‚ é€‰ä¸­æŸä¸€ä¸ªè¯·æ±‚ï¼Œç„¶åå³é”®ç‚¹å‡»Breakpointsï¼š image-20220215170854304 ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ç‚¹å‡»Proxy-&gt;Breakpoint Settingsï¼Œç„¶åæ·»åŠ ä¸€ä¸ªæ–­ç‚¹ã€‚ image-20220215170941208 æ·»åŠ å¥½æ–­ç‚¹ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å†æ¬¡å‘èµ·è¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„è¯·æ±‚ä¸€ç›´å¤„äºç­‰å¾…çŠ¶æ€ã€‚ image-20220215171458730 æˆ‘ä»¬å¯ä»¥ç¼–è¾‘è¯¥è¯·æ±‚ä»è€Œè¾¾åˆ°æ–­ç‚¹è°ƒè¯•çš„åŠŸèƒ½ã€‚ æ–­ç‚¹è°ƒè¯•çš„æ„ä¹‰åœ¨å“ªï¼Ÿæœ‰æ—¶æˆ‘ä»¬æƒ³è®©æœåŠ¡å™¨è¿”å›ä¸€äº›æŒ‡å®šçš„å†…å®¹ï¼Œæ–¹ä¾¿æˆ‘ä»¬è°ƒè¯•ä¸€äº›ç‰¹æ®Šæƒ…å†µã€‚ä¾‹å¦‚åˆ—è¡¨é¡µé¢ä¸ºç©ºçš„æƒ…å†µï¼Œæ•°æ®å¼‚å¸¸çš„æƒ…å†µï¼Œéƒ¨åˆ†è€—æ—¶çš„ç½‘ç»œè¯·æ±‚è¶…æ—¶çš„æƒ…å†µç­‰ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨æ–­ç‚¹è°ƒè¯•å°±å¯ä»¥æ¨¡æ‹Ÿå‡ºè¿™äº›æƒ…å†µã€‚ä½¿ç”¨æ–­ç‚¹è°ƒè¯•å°†ç½‘ç»œè¯·æ±‚æˆªè·å¹¶ä¿®æ”¹è¿‡ç¨‹ä¸­ï¼Œæ•´ä¸ªç½‘ç»œè¯·æ±‚çš„è®¡æ—¶å¹¶ä¸ä¼šæš‚åœï¼Œæ‰€ä»¥é•¿æ—¶é—´çš„æš‚åœå¯èƒ½å¯¼è‡´å®¢æˆ·ç«¯çš„è¯·æ±‚è¶…æ—¶ã€‚ æ¨¡æ‹Ÿç½‘é€Ÿç‚¹å‡»Proxy-&gt;Throttle Settingsï¼Œç„¶åå‹¾é€‰Enable Throttlingå¼€å¯æ¨¡æ‹Ÿç½‘é€Ÿï¼š image-20220215172549357 åå‘ä»£ç†åå‘ä»£ç†ç›¸å½“äºæˆ‘ä»¬åœ¨å‘èµ·ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œè¯·æ±‚ä¼šç»è¿‡æˆ‘ä»¬é…ç½®çš„ä»£ç†æ‹¿åˆ°å“åº”åï¼Œç„¶åæˆ‘ä»¬å†æŠŠå“åº”è½¬å‘å›æˆ‘ä»¬çš„å®¢æˆ·ç«¯ã€‚ åœ¨ä»‹ç»ä¸¤ç§é€šè¿‡Charlesé…ç½®åå‘ä»£ç†çš„æ–¹å¼ä¹‹å‰ï¼Œå…ˆè¦æ¸…é™¤æˆ‘ä»¬ä¸Šè¾¹è®¾ç½®æ–­ç‚¹æ—¶ç•™ä¸‹çš„æ–­ç‚¹ã€‚ ä¸‹é¢ä»‹ç»ç¬¬ä¸€ç§æ–¹å¼ï¼šç‚¹å‡»Proxy-&gt;Reverse Proxies Settings image-20220215174742827 å‹¾é€‰Enable Reverse Proxiesï¼Œç„¶åç‚¹å‡»Addæ·»åŠ è§„åˆ™ã€‚Local Portè¡¨ç¤ºæœ¬åœ°çš„ç«¯å£ï¼ŒLocal addressè¡¨ç¤ºæœ¬åœ°åœ°å€ï¼ŒRemote Hostè¡¨ç¤ºè¿œç¨‹åœ°å€ï¼ŒRemote Portè¡¨ç¤ºè¿œç¨‹ç«¯å£ï¼Œä¸Šå›¾çš„å«ä¹‰è¡¨ç¤ºå°†httpbin.orgåå‘ä»£ç†åˆ°æœ¬åœ°çš„localhost:8080åœ°å€ä¸Šã€‚æ‰€ä»¥æ­¤æ—¶åœ¨æµè§ˆå™¨åœ°å€æ ä¸­è®¿é—®localhost:8080å®é™…ä¸Šè®¿é—®çš„æ˜¯httpbin.orgï¼š image-20220215175118759 ä¸‹é¢ä»‹ç»ç¬¬äºŒç§æ–¹å¼ï¼šç›¸å½“äºå¦‚æœæˆ‘ä»¬è¯·æ±‚ä¸€ä¸ªURLçš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªURLå®ƒçš„ä¸€ä¸ªResponseè½¬å‘åˆ°ä¸€ä¸ªRemoteåœ°å€æˆ–è€…è¯´æˆ‘ä»¬ç”¨æœ¬åœ°çš„ä¸€ä¸ªåœ°å€ã€‚ æˆ‘ä»¬ä»¥ç½‘å€https://quotes.toscrape.com/js/ä¸ºä¾‹ã€‚ é‡æ–°æŠ“åŒ…ï¼Œçœ‹ä¸‹ç½‘é¡µæºä»£ç ï¼š image-20220215183821967 å†…å®¹æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ‰ä¸€å—JSONçš„æ•°æ®ï¼Œæˆ‘ä»¬ä¿®æ”¹æŠŠResponseæ˜ å°„åˆ°æœ¬åœ°çš„ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å®ŒæˆResponseçš„ä¿®æ”¹äº†ã€‚æˆ‘ä»¬å…ˆä¿å­˜Responseåˆ°æœ¬åœ°çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼Œä¸»è¦ä¿®æ”¹2ä¸ªåœ°æ–¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯æŠŠJSONé‡Œé¢çš„ç¬¬ä¸€é¡¹Textå€¼ä¿®æ”¹ä¸ºHello, worldã€‚ç¬¬äºŒä¸ªæ˜¯åœ¨æ¸²æŸ“çš„åœ°æ–¹åŠ ä¸Šdebuggerå…³é”®è¯ï¼Œç„¶åä¿å­˜æ–‡ä»¶ã€‚ image-20220215184356182 image-20220215184835283 ç„¶åæˆ‘ä»¬åœ¨Charlesä¸­é€‰ä¸­åˆšæ‰çš„é‚£ä¸ªè¯·æ±‚ï¼Œå³é”®é€‰æ‹©Map Localï¼Œç„¶åæ›´æ”¹Local Pathé€‰æ‹©æˆ‘ä»¬åˆšæ‰ä¿å­˜çš„é‚£ä¸ªæ–‡ä»¶ï¼š image-20220215184655514 ä¿å­˜ï¼Œç„¶ååˆ·æ–°é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°æ­£å¸¸æ˜¾ç¤ºäº†æˆ‘ä»¬æ›´æ”¹çš„å†…å®¹ï¼Œå¹¶ä¸”è¿›å…¥äº†debugæ¨¡å¼ï¼š image-20220215185015800 ç¬¬äºŒç§æ–¹å¼ç±»ä¼¼äºåœ¨JSé€†å‘ä¹‹Chromeæµè§ˆå™¨å·¥å…·ä½ çŸ¥å¤šå°‘ï¼Ÿä¸­ä»‹ç»çš„æ–‡ä»¶å¯¼èˆªçª—æ ¼Overridesé¢æ¿çš„åŠŸèƒ½ã€‚","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"},{"name":"Charles","slug":"Charles","permalink":"https://blog.heshipeng.com/tags/Charles/"}]},{"title":"JSé€†å‘ä¹‹Chromeæµè§ˆå™¨å·¥å…·ä½ çŸ¥å¤šå°‘ï¼Ÿ","date":"2022-02-11T06:46:51.000Z","path":"Chromeæµè§ˆå™¨å·¥å…·ä½ çŸ¥å¤šå°‘/","text":"Networké¢æ¿Networké¢æ¿ä»‹ç»ç½‘ç»œé¢æ¿åˆ†ä¸º5ä¸ªéƒ¨åˆ†ï¼šæ§åˆ¶å™¨é¢æ¿ï¼Œè¿‡æ»¤å™¨é¢æ¿ï¼Œæ¦‚è§ˆéƒ¨åˆ†ï¼Œè¯·æ±‚åˆ—è¡¨ä»¥åŠæ¦‚è¦éƒ¨åˆ†ã€‚ Controlsï¼ˆæ§åˆ¶å™¨ï¼‰ï¼šä½¿ç”¨è¿™äº›é€‰é¡¹å¯ä»¥æ§åˆ¶Networké¢æ¿çš„å¤–è§‚å’ŒåŠŸèƒ½ã€‚ Filterï¼ˆè¿‡æ»¤å™¨ï¼‰ï¼šä½¿ç”¨è¿™äº›é€‰é¡¹å¯ä»¥æ§åˆ¶åœ¨Requests Tableä¸­æ˜¾ç¤ºå“ªäº›èµ„æºã€‚æŒ‰ä½Command/Ctrlé”®å¯ä»¥ç‚¹é€‰å¤šä¸ªè¿‡æ»¤å™¨ã€‚ Overviewï¼ˆæ¦‚è§ˆï¼‰ï¼šæ­¤å›¾è¡¨æ˜¾ç¤ºäº†èµ„æºæ£€ç´¢æ—¶é—´çš„æ—¶é—´çº¿ã€‚å¦‚æœçœ‹åˆ°å¤šæ¡ç«–çº¿å †å åœ¨ä¸€èµ·ï¼Œè¯´æ˜è¿™äº›èµ„æºåŒæ—¶è¢«æ£€ç´¢ã€‚ Requests Tableï¼ˆè¯·æ±‚åˆ—è¡¨ï¼‰ï¼šæ­¤è¡¨æ ¼åˆ—å‡ºäº†æ£€ç´¢çš„æ¯ä¸€ä¸ªèµ„æºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤è¡¨æ ¼æŒ‰ç…§æ—¶é—´é¡ºåºæ’åºï¼Œæœ€æ—©çš„èµ„æºåœ¨é¡¶éƒ¨ã€‚ç‚¹å‡»èµ„æºçš„åç§°å¯ä»¥æ˜¾ç¤ºæ›´å¤šä¿¡æ¯ï¼Œå³é”®ç‚¹å‡»Timelineä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªè¡¨æ ¼æ ‡é¢˜å¯ä»¥æ·»åŠ æˆ–è€…ç§»é™¤ä¿¡æ¯åˆ—ã€‚ Summaryï¼ˆæ¦‚è¦ï¼‰ï¼šæ­¤çª—æ ¼å¯ä»¥ä¸€ç›®äº†ç„¶åœ°çŸ¥é“è¯·æ±‚æ€»æ•°ï¼Œä¼ è¾“çš„æ•°æ®é‡å’ŒåŠ è½½æ—¶é—´ã€‚ æ§åˆ¶å™¨é¢æ¿ image-20220211145738994 ç¬¬ä¸€ä¸ªæŒ‰é’®æ§åˆ¶æµè§ˆå™¨æ˜¯å¦æŠ“åŒ…ï¼Œå¦‚æœä¸ºçº¢è‰²è¡¨ç¤ºæ­£åœ¨æŠ“åŒ…ï¼Œç‚¹å‡»ä¹‹åå˜ç°è‰²è¡¨ç¤ºåœæ­¢æŠ“åŒ…ã€‚ ç¬¬äºŒä¸ªæŒ‰é’®è¡¨ç¤ºæ¸…é™¤æŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åä¼šæ¸…é™¤è¯·æ±‚åˆ—è¡¨ã€‚ ç¬¬ä¸‰ä¸ªæŒ‰é’®è¡¨ç¤ºè¿‡æ»¤å™¨çš„æ‰“å¼€ä¸å…³é—­æŒ‰é’®ï¼Œç‚¹å‡»è¿™ä¸ªæŒ‰é’®æ§åˆ¶ä¸‹æ–¹è¿‡æ»¤å™¨æ‰“å¼€è¿˜æ˜¯å…³é—­ã€‚ ç¬¬å››ä¸ªæŒ‰é’®è¡¨ç¤ºæ‰“å¼€ä¸€ä¸ªæ£€ç´¢ï¼Œç”¨å¾—ä¸å¤šã€‚ ç¬¬äº”ä¸ªæŒ‰é’®è¡¨ç¤ºæ˜¯å¦è¦è·¨é¡µé¢ä¿å­˜è¯·æ±‚åˆ—è¡¨ã€‚â˜‘ï¸ä¸Šè¡¨ç¤ºä¿ç•™è·¨é¡µé¢è¯·æ±‚ä¿¡æ¯ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯æˆ‘æ‰“å¼€ä¸€ä¸ªAé¡µé¢ï¼Œå¾—åˆ°äº†ä¸€ä¸ªè¯·æ±‚åˆ—è¡¨ï¼Œæˆ‘å†æ¬¡è®¿é—®Bé¡µé¢ï¼ŒCé¡µé¢â€¦æ— è®ºæ˜¯ä»€ä¹ˆé¡µé¢ï¼Œåªè¦æ˜¯åŒä¸€ä¸ªçª—å£ï¼Œæ‰€æœ‰çš„è¯·æ±‚åˆ—è¡¨éƒ½ä¼šä¿å­˜ã€‚ ç¬¬å…­ä¸ªæŒ‰é’®è¡¨ç¤ºæ˜¯å¦ç¦ç”¨æµè§ˆå™¨ç¼“å­˜ã€‚ä¸€èˆ¬æ¥è¯´â˜‘ï¸ä¸Šï¼Œç„¶åæ¯ä¸€ä¸ªè¯·æ±‚éƒ½ä¼šå»è¯·æ±‚æ–°çš„èµ„æºã€‚ ç¬¬ä¸ƒä¸ªæŒ‰é’®è¡¨ç¤ºæ…¢é€Ÿç½‘ç»œæ¨¡æ‹Ÿã€‚å¯ä»¥ä½¿ç”¨slow 3Gæˆ–offlineï¼Œå¯ä»¥çœ‹åˆ°æµè§ˆå™¨é¡µé¢åœ¨ä¸åŒç½‘ç»œç¯å¢ƒä¸‹çš„æ ·å­ã€‚ è¿‡æ»¤å™¨ image-20220211152552978 é€šè¿‡ç‚¹é€‰ä¸åŒç±»å‹æ¯”å¦‚Ajaxï¼ŒJSï¼ŒCSSç­‰æ¥è¿‡æ»¤ä¸åŒçš„è¯·æ±‚ï¼ŒåŒæ—¶æ”¯æŒç‚¹é€‰å¤šä¸ªç±»å‹çš„æŒ‰é’®æ¥åœ¨è¯·æ±‚åˆ—è¡¨å±•ç¤ºå¤šä¸ªç±»å‹çš„è¯·æ±‚ã€‚ å‰é¢Filterè¿‡æ»¤æ¡†è¿˜æä¾›äº†å®šåˆ¶åŒ–ç­›é€‰çš„åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥ä¸€äº›è·¯ç”±çš„å…³é”®è¯å»æœç´¢ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç±»ä¼¼äºæ­£åˆ™çš„æ–¹å¼å»æœç´¢ã€‚æ¯”å¦‚ï¼š domain:.nightteam.cnï¼šè¡¨ç¤ºdomainä¸º\\.nightteam.cnçš„è¯·æ±‚ã€‚ status-code:301ï¼šè¡¨ç¤ºçŠ¶æ€ç ä¸º301çš„è¯·æ±‚ã€‚ set-cookie-domain:bbs.nightteam.cnï¼šè¡¨ç¤ºè¿›è¡Œset-cookieçš„æ“ä½œçš„domainã€‚ è¯·æ±‚åˆ—è¡¨ image-20220211153842703 æ ‡é¢˜æ é‡Œé¢æ¯”è¾ƒå…³é”®çš„æ˜¯Initiatorè¿™ä¸€æ ï¼Œè¡¨ç¤ºè¯·æ±‚æ˜¯ç”±å“ªé‡Œå‘èµ·çš„ã€‚Otherè¡¨ç¤ºå‘èµ·è€…é€šè¿‡åŠ¨ä½œå‘èµ·ï¼Œè€Œä¸æ˜¯æŸä¸€ä¸ªå…·ä½“çš„JSå‘èµ·ã€‚bbs.nightteam.cnæ˜¯æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨åœ°å€æ è¾“å…¥åœ°å€åå›è½¦å‘èµ·çš„ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¾ç¤ºotherï¼Œè€Œå…¶å®ƒçš„è¯·æ±‚éƒ½æ˜¯å¯ä»¥æ‰¾åˆ°å…·ä½“è°ƒç”¨çš„JSæ–‡ä»¶ã€‚é€šè¿‡å®šä½åˆ°æŸä¸€ä¸ªè¯·æ±‚çš„å‘èµ·æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯¥æ–‡ä»¶ä¸­å¢åŠ æ–­ç‚¹è¿›è¡Œè°ƒè¯•ï¼Œæ‰€ä»¥è¿™ä¸€æ æ¯”è¾ƒé‡è¦ã€‚ ç‚¹å‡»æŸä¸€ä¸ªå…·ä½“çš„è¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°å®ƒçš„è¯·æ±‚å¤´ä¿¡æ¯ï¼Œå“åº”å¤´ä¿¡æ¯ï¼Œé¢„è§ˆé¡µé¢ï¼Œè€—æ—¶ï¼ŒCookieä¿¡æ¯ç­‰ã€‚ image-20220211154903286 é€‰ä¸­æŸä¸€ä¸ªè¯·æ±‚ï¼Œç„¶åå³é”®é€‰æ‹©Copy-&gt;Copy as cURLå¾—åˆ°è¯¥è¯·æ±‚çš„cURLå‘½ä»¤ã€‚ image-20220211155142085 12345678910111213141516curl &#x27;https://bbs.nightteam.cn/&#x27; \\ -H &#x27;authority: bbs.nightteam.cn&#x27; \\ -H &#x27;cache-control: max-age=0&#x27; \\ -H &#x27;sec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;98&quot;, &quot;Google Chrome&quot;;v=&quot;98&quot;&#x27; \\ -H &#x27;sec-ch-ua-mobile: ?0&#x27; \\ -H &#x27;sec-ch-ua-platform: &quot;macOS&quot;&#x27; \\ -H &#x27;upgrade-insecure-requests: 1&#x27; \\ -H &#x27;user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.80 Safari/537.36&#x27; \\ -H &#x27;accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&#x27; \\ -H &#x27;sec-fetch-site: none&#x27; \\ -H &#x27;sec-fetch-mode: navigate&#x27; \\ -H &#x27;sec-fetch-user: ?1&#x27; \\ -H &#x27;sec-fetch-dest: document&#x27; \\ -H &#x27;accept-language: zh-CN,zh;q=0.9,en;q=0.8&#x27; \\ -H &#x27;cookie: __yjs_duid=1_4110af544673b8e7f7ad03205cd2f8dc1644394949170; WoQu_2132_saltkey=YrDr0Zud; WoQu_2132_lastvisit=1644391349; popnotice=ss10; __8qcehdE7ZaRq2q6M__=5df749990f6140450200d728b907dcbe500b; WoQu_2132_sid=uh3oVX; WoQu_2132_st_p=0%7C1644476217%7C06bfc6a3958129a26420eb3777962f3c; WoQu_2132_visitedfid=39D38D37; WoQu_2132_viewid=tid_2275; WoQu_2132_lastact=1644476217%09home.php%09misc&#x27; \\ --compressed å¯ä»¥ç›´æ¥åœ¨ç±»Unixç³»ç»Ÿçš„æ§åˆ¶å°ä¸­å»æ‰§è¡Œè¿™ä¸ªcURLå‘½ä»¤ï¼Œä¹Ÿå¯ä»¥æŠŠè¿™ä¸ªå‘½ä»¤å¯¼å…¥åˆ°PostManä¸­å»æ‰§è¡Œã€‚å…·ä½“æ­¥éª¤æ˜¯ï¼š image-20220211155646608 ç‚¹å‡»Shifté”®ï¼Œç„¶åé¼ æ ‡æ‚¬åœåœ¨æŸä¸€ä¸ªè¯·æ±‚ä¸Šï¼Œå¦‚æœå±•ç¤ºç»¿è‰²èƒŒæ™¯ï¼Œè¡¨ç¤ºç»¿è‰²èƒŒæ™¯çš„è¯·æ±‚ä¾èµ–ä½ å½“å‰æ‚¬åœçš„è¯·æ±‚ã€‚å¦‚æœå±•ç¤ºçº¢è‰²èƒŒæ™¯ï¼Œè¡¨ç¤ºå½“å‰æ‚¬åœçš„è¯·æ±‚ä¾èµ–çº¢è‰²èƒŒæ™¯çš„è¯·æ±‚ã€‚ image-20220211160819614 image-20220211160845852 Sourceé¢æ¿sourceé¢æ¿åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šæ–‡ä»¶å¯¼èˆªçª—å£ï¼Œä»£ç ç¼–è¾‘å™¨çª—æ ¼ï¼Œ è°ƒè¯•çª—æ ¼ã€‚ æ–‡ä»¶å¯¼èˆªçª—å£ï¼šå¯ä»¥å¯¹æ–‡ä»¶ç›®å½•è¿›è¡Œæµè§ˆï¼› ç¼–è¾‘å™¨çª—æ ¼ï¼šä»£ç ç¼–è¾‘ï¼Œè®¾ç½®æ–­ç‚¹ï¼› è°ƒè¯•çª—æ ¼ï¼šåŒ…å«è°ƒè¯•æ‰€ç”¨çš„å¸¸ç”¨é€‰é¡¹ã€‚ image-20220211165847739 æ–‡ä»¶å¯¼èˆªçª—æ ¼ image-20220214103607974 pageé¢æ¿ ä»¥æ–‡ä»¶ç›®å½•å½¢å¼å±•ç¤ºå½“å‰é¡µé¢ã€‚åŒ…å«å½“å‰ç½‘ç«™çš„é¡µé¢ï¼Œé™æ€èµ„æºç­‰ã€‚ FileSystemé¢æ¿ å¯ä»¥è®©å¼€å‘è€…å·¥å…·åŠ è½½æœ¬åœ°çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶ä¸”èƒ½åœ¨ç¼–è¾‘æ¡†å£ä¿®æ”¹ç¼–è¾‘ï¼Œç”±æ­¤åŒ–èº«IDEã€‚è¿™é‡Œåšä¸€ä¸ªç¤ºèŒƒï¼š ç¬¬ä¸€æ­¥ï¼šç‚¹å‡»Add folder to workspace image-20220214104511894 ç¬¬äºŒæ­¥ï¼šé€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶å¤¹ image-20220214104624359 ç¬¬ä¸‰æ­¥ï¼šç‚¹å‡»å…è®¸ï¼Œè®©å¼€å‘è€…å·¥å…·å…·å¤‡è¯»å†™è¯¥æ–‡ä»¶å¤¹çš„æƒé™ image-20220214104720311 ç„¶åå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¸Šä¼ çš„æ–‡ä»¶å¤¹ä»¥åŠç›¸å…³çš„JSæ–‡ä»¶äº†ï¼š image-20220214105309274 æˆ‘ä»¬å¯å¯¹å…¶è¿›è¡Œç¼–è¾‘ä¿®æ”¹ï¼Œæ‰“ä¸Šæ–­ç‚¹è°ƒè¯•ç­‰ã€‚ Overridesé¢æ¿ Overridesé¢æ¿å¯ä»¥å¾ˆå®¹æ˜“çš„å°†è¿œç¨‹èµ„æºä¸‹è½½ä¸€ä»½åœ¨æœ¬åœ°ï¼Œç„¶åå¯ä»¥åœ¨å¼€å‘è€…å·¥å…·ä¸‹è¿›è¡Œç¼–è¾‘ï¼Œå¹¶ä¸”å¼€å‘è€…å·¥å…·ä¼šå±•ç¤ºæˆ‘ä»¬ç¼–è¾‘åçš„æ–‡ä»¶ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯ç›´æ¥å°†ä¸€äº›è¯·æ±‚ä»£ç†åˆ°æœ¬åœ°çš„æ–‡ä»¶ä¸­ã€‚è¿™é‡ŒåŒæ ·åšä¸€ä¸ªæ¼”ç¤ºï¼š å‰ä¸‰æ­¥è·ŸFileSystemç±»ä¼¼ï¼šç‚¹å‡»Select folder for overridesï¼Œç„¶åé€‰æ‹©æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œä¹‹åç‚¹å‡»å…è®¸èµ‹äºˆå¼€å‘è€…å·¥å…·è¯»å†™è¯¥æ–‡ä»¶å¤¹çš„æƒé™ã€‚æ¥ç€è¦ç‚¹å‡»é€‰ä¸­Enable Local Overridesï¼š image-20220214112558071 ç„¶åå›åˆ°Networké¢æ¿ï¼Œç‚¹å‡»æµè§ˆå™¨åˆ·æ–°æŒ‰é’®åˆ·æ–°å½“å‰é¡µé¢ï¼Œé€‰ä¸­ä¸€ä¸ªæˆ‘ä»¬éœ€è¦ä»£ç†åˆ°æœ¬åœ°çš„è¯·æ±‚ï¼Œå³é”®é€‰æ‹©Save for overridesï¼š image-20220214113204817 è¿™æ—¶ï¼Œæˆ‘ä»¬åˆšæ‰æ·»åŠ çš„æ–‡ä»¶å¤¹é‡Œé¢å°±æœ‰äº†ä¿å­˜çš„ä»£ç†è¯·æ±‚ï¼š image-20220214113325024 ç„¶åæˆ‘ä»¬ä¿®æ”¹æœ¬åœ°çš„è¿™ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚å°†è¿™ä¸ªé¡µé¢çš„æ‹›è˜æ±‚èŒæ”¹ä¸ºMLGJæ±‚èŒï¼š image-20220214113851477 ç„¶åï¼Œä¿å­˜åˆ·æ–°è¿™ä¸ªé¡µé¢ï¼Œå°±æˆåŠŸçš„å°†è¯¥è¯·æ±‚ä»£ç†åˆ°æœ¬åœ°æ–‡ä»¶ï¼š image-20220214113954313 Content scripts chromeæ’ä»¶åŠ è½½çš„ä¸€äº›è„šæœ¬ï¼Œå¦‚æœæœ‰è¿‡chromeæµè§ˆå™¨æ’ä»¶å¼€å‘çš„ç»éªŒçš„è¯ï¼Œå¯¹è¿™ä¸ªæ¦‚å¿µåº”è¯¥ä¼šå¾ˆç†Ÿæ‚‰ã€‚åœ¨JSé€†å‘ä¸­è¿™ä¸ªç”¨çš„ä¸å¤šï¼Œåé¢ä¼šæœ‰ä¸“é—¨çš„æ–‡ç« ä»‹ç»chromeæµè§ˆå™¨æ’ä»¶å¼€å‘ã€‚ Snippets æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæœ‰æ—¶å€™éœ€è¦è°ƒè¯•ä¸€è¡ŒJSä»£ç ï¼Œä¼šåœ¨æµè§ˆå™¨çš„Consoleæ§åˆ¶å°ä¸Šå»è°ƒè¯•ï¼Œå¦‚æœéœ€è¦åœ¨æµè§ˆå™¨ä¸­è°ƒè¯•ä¸€ä¸ªä»£ç ç‰‡æ®µå‘¢ï¼Ÿåœ¨Consoleä¸­ä¸€è¡Œè¡Œçš„è¾“å…¥æ‰§è¡Œå°±æ˜¾å¾—å¾ˆéº»çƒ¦äº†ã€‚è¿™ä¸ªSnippetså°±å¯ä»¥å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ç‚¹å‡»New snippetæŒ‰é’®ï¼Œæ·»åŠ ä¸€äº›ä»£ç ç‰‡æ®µï¼Œç„¶åé€‰ä¸­æŸä¸€ä¸ªä»£ç ç‰‡æ®µæ–‡ä»¶ï¼Œå³é”®Runå»æ‰§è¡Œè¯¥ä»£ç ç‰‡æ®µï¼š image-20220214115844902 ä»£ç ç¼–è¾‘å™¨çª—æ ¼å¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ–‡ä»¶ï¼Œæ–­ç‚¹è°ƒè¯•æˆ–è€…æ ¼å¼åŒ–ç­‰ã€‚ä¸‹é¢æ¼”ç¤ºä¸€ä¸‹å„ä¸ªåŠŸèƒ½ã€‚ ä»£ç æ ¼å¼åŒ– æ‰“å¼€Pageé¢æ¿ä¸‹ç½‘ç«™çš„ä¸€ä¸ªJSæ–‡ä»¶ï¼Œå¦‚æœJSæ˜¯å±•ç¤ºåœ¨ä¸€è¡Œï¼Œå¯ä»¥ç‚¹å‡»ä¸‹é¢çš„ä¸€å¯¹&#123;&#125;è¿›è¡Œæ ¼å¼åŒ–ï¼š image-20220214140646923 æ·»åŠ ç®€å•æ–­ç‚¹ åœ¨æˆ‘ä»¬ä¸Šè¾¹æ ¼å¼åŒ–ä¹‹åçš„JSæ–‡ä»¶ï¼Œé€‰ä¸­æŸä¸€è¡Œï¼Œå•å‡»è¯¥è¡Œçš„è¡Œå·ï¼Œå³å¯æ·»åŠ æ–­ç‚¹ï¼š image-20220214140844097 æ·»åŠ æ¡ä»¶æ–­ç‚¹ åœ¨å‰é¢ä»‹ç»çš„Snippetsä»£ç ç‰‡æ®µä¸­æ·»åŠ ä¸€ä¸ªç‰‡æ®µæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 12345678console.log(&quot;Script snippet #1 start&quot;);var i = 1;while (5 &gt; i) &#123; console.log(i) debugger; i++;&#125;console.log(&quot;Script snippet #1 end&quot;); è¿™æ®µä»£ç æ¯”è¾ƒç®€å•ï¼Œå½“iå°äº5çš„æ—¶å€™è¿›å…¥å¾ªç¯ï¼Œåœåœ¨æ–­ç‚¹å¤„ã€‚ä¸‹é¢å¼€å§‹æ¡ä»¶æ–­ç‚¹çš„è®¾ç½®ï¼š å…ˆå•å‡»è¦æ·»åŠ æ¡ä»¶æ–­ç‚¹çš„é‚£ä¸€è¡Œçš„è¡Œå·ï¼Œå³é”®ï¼Œé€‰æ‹©Add conditional breakpoint image-20220214150928211 ç„¶ååœ¨è¿™ä¸ªæ¡ä»¶è¾“å…¥æ¡†ä¸­ï¼Œè¾“å…¥ä¸€ä¸ªæ¡ä»¶ï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘ä»¬æ˜¯i = 10: image-20220214145305065 è®¾ç½®å¥½æ¡ä»¶æ–­ç‚¹ä¹‹åï¼Œæ–­ç‚¹ä¼šå˜æˆé»„è‰²ï¼ŒåŒºåˆ«äºæ™®é€šæ–­ç‚¹ï¼š image-20220214145448231 ä¸ºäº†ä¾¿äºè§‚å¯Ÿiçš„å€¼ï¼Œå¯ä»¥åœ¨æœ€å³è¾¹çš„è°ƒè¯•çª—æ ¼å˜é‡ç›‘æ§ä¸€æ æ·»åŠ è§‚å¯Ÿiçš„å€¼ã€‚ image-20220214145615800 æœ€åå³é”®è¿è¡Œè¯¥æ–‡ä»¶ï¼Œå¦‚æœæ¡ä»¶æ–­ç‚¹æ­£ç¡®çš„æ‰“ä¸Šçš„è¯ï¼Œå˜é‡ç›‘æ§å€¼ä¼šçœ‹åˆ°içš„å€¼ä¸º10ï¼š image-20220214151148079 è°ƒè¯•çª—æ ¼ XHR/fetch Breakpoints XHRæ–­ç‚¹è§¦å‘éœ€è¦æ»¡è¶³2ä¸ªæ¡ä»¶ï¼šä¸€ä¸ªæ˜¯åŸºäºXHRçš„ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿæ”¹å˜ï¼Œä¸€ä¸ªæ˜¯XHRçš„URLä¸æˆ‘ä»¬è®¾ç½®çš„å­—ç¬¦ä¸²ç›¸åŒ¹é…ã€‚å¸¸ç”¨çš„æ˜¯ç¬¬äºŒç§ã€‚æˆ‘ä»¬ç°åœ¨ä»¥ç™¾åº¦ä½œä¸ºä¸€ä¸ªæ¼”ç¤ºã€‚ æ‰“å¼€ç™¾åº¦ç½‘ç«™é¦–é¡µï¼Œç‚¹å‡»ç™»å½•ï¼Œç„¶åæ‰“å¼€Networké¢æ¿ï¼Œé€‰æ‹©Fetch/XHRï¼Œæˆ‘ä»¬è¿›è¡Œä¸€ä¸ªæŠ“åŒ…ï¼ŒåªæŠ“XHRè¯·æ±‚çš„åŒ…ï¼Œç»“æœå¦‚ä¸‹ï¼š image-20220214154210085 æˆ‘ä»¬é€‰æ‹©å…¶ä¸­ä»»æ„ä¸€ä¸ªï¼Œæ¯”å¦‚ä¸‹é¢ä¸€ä¸ªè¯·æ±‚ï¼Œå›åˆ°è°ƒè¯•çª—æ ¼ï¼Œç„¶åç‚¹å‡»æ–°å¢ä¸€ä¸ªXHRæ–­ç‚¹ï¼Œå¡«å…¥è¯¥è¯·æ±‚çš„URLæˆ–è€…ä¸€éƒ¨åˆ†ï¼š image-20220214154422755 ç„¶åæˆ‘ä»¬é€€å‡ºç™»å½•åé‡æ–°ç‚¹å‡»ç™»å½•ç™¾åº¦ï¼Œå¯ä»¥çœ‹åˆ°è®¾ç½®çš„æ–­ç‚¹ç”Ÿæ•ˆäº†ï¼š image-20220214154605187 DOM Breakpoint è¿˜æ˜¯ä»¥ç™¾åº¦ä¸ºä¾‹ï¼Œåˆ‡æ¢åˆ°å…ƒç´ é¢æ¿ï¼Œç„¶åéšä¾¿é€‰æ‹©ä¸€ä¸ªDOMå…ƒç´ ï¼Œå³é”®Break onï¼š image-20220214155229706 æœ‰ä¸‰ç§ç±»å‹çš„æ–­ç‚¹ï¼Œå­å…ƒç´ æ”¹å˜/å±æ€§æ”¹å˜/èŠ‚ç‚¹åˆ é™¤ã€‚é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼Œå³æ·»åŠ æˆåŠŸï¼š image-20220214155406742 ç”±äºDOM Breakpointåœ¨é€†å‘ä¸­ä¸æ˜¯å¾ˆå¸¸ç”¨ï¼Œæ‰€ä»¥åšä¸€ä¸ªäº†è§£å³å¯ã€‚ Event Listener Breakpoint åŸºäºäº‹ä»¶ç›‘å¬çš„æ–­ç‚¹ã€‚åŒæ ·è¿˜æ˜¯ä»¥ç™¾åº¦ä¸ºä¾‹ï¼Œç‚¹å‡»ç™»å½•åˆ°ç™»å½•é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢ä¸Šæ˜¯ä¸€ä¸ªç™»å½•æŒ‰é’®çš„ï¼Œè¿™ä¸ªç™»å½•æŒ‰é’®å°±æ˜¯è§¦å‘çš„submitäº‹ä»¶ã€‚æˆ‘ä»¬åœ¨è°ƒè¯•çª—æ ¼ä¸Šæ‰¾åˆ°Event Listener Breakpointsï¼Œç„¶åæ‰“å¼€Controlï¼Œé€‰ä¸­Submitï¼š image-20220214160042544 ç„¶åæˆ‘ä»¬ç‚¹å‡»ç™»å½•é¡µé¢çš„ç™»å½•æŒ‰é’®ï¼Œå¦‚æ— æ„å¤–ï¼Œæ–­ç‚¹æˆåŠŸæ‰“ä¸Šï¼š image-20220214160209183 æ–­ç‚¹æ§åˆ¶æŒ‰é’® image-20220214160335416 ç¬¬ä¸€ä¸ªæŒ‰é’®ï¼šæ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼Œå¦‚æœæ²¡æœ‰ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼Œåˆ™æŒ‰ç…§æ­£å¸¸æ‰§è¡Œé¡ºåºæ‰§è¡Œåˆ°ä¸‹ä¸€è¡Œä»£ç ã€‚ ç¬¬äºŒä¸ªæŒ‰é’®ï¼šæ‰§è¡Œåˆ°ä¸‹ä¸€è¡Œä»£ç ã€‚ ç¬¬ä¸‰ä¸ªæŒ‰é’®ï¼šç‚¹å‡»è¿›å…¥ä¸‹ä¸€ä¸ªå¾…æ‰§è¡Œçš„å‡½æ•°è°ƒç”¨ä¸­å»ã€‚ ç¬¬å››ä¸ªæŒ‰é’®ï¼šè·³å‡ºå½“å‰çš„å‡½æ•°è°ƒç”¨ã€‚ ç¬¬å…­ä¸ªæŒ‰é’®ï¼šå»é™¤æ‰€æœ‰æ–­ç‚¹ï¼Œæ¢å¤æ­£å¸¸æ‰§è¡Œçš„æ–¹æ³•ã€‚ Call Stack æ–­ç‚¹çš„è°ƒç”¨æ ˆåˆ—è¡¨ã€‚ä¸‹é¢ç”¨ä¸€å¼ å›¾è¯´ä¸€ä¸‹è°ƒç”¨æ ˆé¡ºåºã€‚ image-20220303111929970 ä¸ºäº†è¡¨è¿°æ–¹ä¾¿ï¼ŒæŠŠä¸Šè¾¹çš„å‡ ä¸ªæ–¹æ³•åˆ†åˆ«é‡æ–°å‘½åï¼Œå¦‚ä¸Šå›¾ã€‚åœ¨æ ˆé¡¶çš„æœ€åè¢«è°ƒç”¨ï¼Œåœ¨æ ˆåº•çš„æœ€æ–°è¢«è°ƒç”¨ã€‚è°ƒç”¨é¡ºåºå¦‚ä¸‹ï¼š 1234567891011function C() &#123; B()&#125;function B() &#123; A() &#125;function A() &#123; XMLHttpRequest.send() &#125; è‡³äºXMLHttpRequest.sendæ¥ä¸‹æ¥ä¼šè°ƒç”¨å“ªä¸€ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬æ— ä»å¾—çŸ¥ã€‚æ­¤å¤–ï¼Œæ³¨æ„åˆ°é‚£ä¸ªè“è‰²ç®­å¤´ï¼Œè¡¨ç¤ºå½“å‰è°ƒè¯•æ‰§è¡Œçš„ä»£ç æ‰€åœ¨çš„æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬ç‚¹å¼€äº†å¾ˆå¤šæ–‡ä»¶ï¼Œæƒ³å¿«é€Ÿå›åˆ°æˆ‘ä»¬æ­£åœ¨è°ƒè¯•çš„é‚£ä¸€è¡Œä»£ç å¯ä»¥é€šè¿‡é¼ æ ‡ç‚¹å‡»è°ƒç”¨æ ˆæ ˆé¡¶çš„æ–¹æ³•å³å¯è¿”å›åˆ°è°ƒç”¨å¤„ã€‚ Scope æ–­ç‚¹æ‰€åœ¨ä½œç”¨åŸŸå†…å®¹ã€‚ Consoleé¢æ¿åœ¨é€†å‘ä¸­ï¼Œconsoleè¿™ä¸ªäº¤äº’ç¯å¢ƒï¼Œç»å¸¸ç”¨æ¥è¾“å‡ºä¸€äº›å˜é‡çš„å€¼ã€‚æœ‰ä¸€ä¸ªæ–¹æ³•console.countæä¸€ä¸‹ï¼Œç»å¸¸ç”¨æ¥ç»Ÿè®¡æŸä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨æ¬¡æ•°ã€‚ç”¨æ³•æ¯”è¾ƒç®€å•ï¼Œå¦‚ä¸‹ï¼š image-20220214162607942 consoleé¢æ¿è¿˜æœ‰ä¸€äº›éªšæ“ä½œï¼Œå¦‚ä¸‹ï¼š console.table æˆ‘ä»¬å¯ä»¥åœ¨consoleä¸­ä½¿ç”¨console.tableï¼Œä»¥è¡¨æ ¼å½¢å¼å±•ç¤ºæ•°æ®ã€‚è¿™é‡Œåšä¸€ä¸ªç¤ºä¾‹ï¼š æ‰“å¼€consoleæ§åˆ¶å°ï¼Œå®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 1var data = [&#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 21&#125;, &#123;&quot;name&quot;: &quot;lisi&quot;, &quot;age&quot;: 22&#125;] ç„¶åæˆ‘ä»¬è°ƒç”¨console.tableè¾“å‡ºè¿™ä¸ªå˜é‡ï¼š image-20220214163035142 copy å¯ä»¥åœ¨consoleä¸­è°ƒç”¨copyæ–¹æ³•ï¼Œå°†æŸä¸€ä¸ªå˜é‡çš„å€¼å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼Œæ¯”å¦‚ä¸Šè¾¹çš„dataï¼Œæˆ‘ä»¬è°ƒç”¨copy(data)å°±å¯ä»¥å°†dataçš„å†…å®¹å¤åˆ¶åˆ°å‰ªåˆ‡æ¿äº†ã€‚ $ $_ è¡¨è¾¾çš„æ˜¯ä¸Šä¸€æ¬¡è¡¨è¾¾å¼è®¡ç®—çš„å€¼ã€‚ $å¯ä»¥å½“ä½œdocument.querySelectä½¿ç”¨ã€‚ $$å¯ä»¥å½“ä½œdocument.querySelectAllæ¥ä½¿ç”¨ã€‚ $xå¯ä»¥å½“ä½œxpathé€‰æ‹©å™¨æ¥ä½¿ç”¨ã€‚ image-20220214163953998 æ€»ç»“æœ¬æ–‡ä»‹ç»äº†æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ä½¿ç”¨æŠ€å·§ï¼Œä¸»è¦ä»‹ç»äº†ä¸‰ä¸ªé¢æ¿ï¼šConsoleé¢æ¿ï¼ŒNetworké¢æ¿å’ŒSourceé¢æ¿ï¼Œæ˜¯JSé€†å‘å¿…é¡»æŒæ¡çš„çŸ¥è¯†ã€‚ å¼€å‘è€…å·¥å…·çš„ä½¿ç”¨ä»‹ç»å’ŒæŠ€å·§ å‚è€ƒChrome ToolsèŠ±å¼ç©æ³•ï¼ˆä¸€ï¼‰ Chrome ToolsèŠ±å¼ç©æ³•ï¼ˆäºŒï¼‰","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"JSé€†å‘ä¹‹è°ƒç”¨JSçš„ä¸¤ç§æ–¹å¼","date":"2022-02-10T07:17:03.000Z","path":"JSé€†å‘ä¹‹è°ƒç”¨JSçš„ä¸¤ç§æ–¹å¼/","text":"è°ƒç”¨JSä»£ç çš„2ç§æ–¹å¼ä½¿ç”¨Pythonè°ƒç”¨JS PyV8 V8æ˜¯Googleå¼€æºçš„ä¸€ä¸ªJavaScriptå¼•æ“ï¼Œè¢«ä½¿ç”¨åœ¨äº†Chromeä¸­ã€‚PyV8æ˜¯V8å¼•æ“çš„ä¸€ä¸ªPythonå±‚åŒ…è£…ï¼Œå¯ä»¥ç”¨æ¥è°ƒç”¨V8å¼•æ“æ¥æ‰§è¡ŒJSä»£ç ã€‚æœ€æ–°ç‰ˆæœ¬2010ï¼Œå·²ç»å¹´ä¹…å¤±ä¿®ï¼Œå¹¶ä¸”å­˜åœ¨å†…å­˜æ³„æ¼çš„é—®é¢˜ï¼Œä¸æ¨èä½¿ç”¨ã€‚ Js2Py Js2Pyæ˜¯ä¸€ä¸ªçº¯Pythonå®ç°çš„JavaScriptè§£é‡Šå™¨å’Œç¿»è¯‘å™¨ã€‚è™½ç„¶2019å¹´ä¾ç„¶æœ‰æ›´æ–°ï¼Œä½†æ˜¯ä¹Ÿæ˜¯6æœˆä»½çš„äº‹æƒ…ï¼Œè€Œä¸”å®ƒçš„issuesé‡Œæœ‰å¾ˆå¤šçš„bugæœªä¿®å¤(https://github.com/PiotrDabkowski/Js2Py/issues)ã€‚ è§£é‡Šå™¨éƒ¨åˆ†ï¼šæ€§èƒ½ä¸é«˜ä¸”å­˜åœ¨ä¸€äº›bugã€‚ç¿»è¯‘å™¨éƒ¨åˆ†ï¼šå¯¹äºé«˜åº¦æ··æ·†çš„å¤§å‹JSä¼šè½¬æ¢å¤±è´¥ï¼Œè€Œä¸”è½¬æ¢å‡ºæ¥çš„ä»£ç å¯è¯»æ€§å·®ï¼Œæ€§èƒ½ä¸é«˜ã€‚ä¸æ¨èä½¿ç”¨ã€‚ PyMiniRacer åŒæ ·æ˜¯V8å¼•æ“çš„åŒ…è£…ï¼Œå’ŒPyV8æ•ˆæœä¸€æ ·ã€‚ä¸€ä¸ªç»§ä»»PyExecJSå’ŒPyV8çš„åº“ã€‚è€Œä¸”æ˜¯ä¸€ä¸ªè¾ƒæ–°çš„åº“ï¼Œä¸çŸ¥é“æœ‰ä»€ä¹ˆå‘ã€‚å¯ä»¥å°è¯•ã€‚ PyExecJS ä¸€ä¸ªæœ€å¼€å§‹è¯ç”ŸäºRubyä¸­çš„åº“ï¼Œåæ¥è¢«ç§»æ¤åˆ°äº†Pythonä¸Šã€‚æœ‰å¤šä¸ªå¼•æ“å¯é€‰ï¼Œä½†ä¸€èˆ¬æˆ‘ä»¬ä¼šé€‰æ‹©ä½¿ç”¨Nodeä½œä¸ºå¼•æ“æ‰§è¡Œä»£ç ã€‚ ç¼ºç‚¹ï¼šæ‰§è¡Œå¤§å‹JSæ—¶ä¼šæœ‰ç‚¹æ…¢ï¼Œç‰¹æ®Šç¼–ç çš„è¾“å…¥æˆ–è¾“å‡ºå‚æ•°ä¼šå‡ºç°æŠ¥é”™çš„æƒ…å†µ(å¯ä»¥æŠŠè¾“å…¥æˆ–è¾“å‡ºçš„å‚æ•°ä½¿ç”¨Base64ç¼–ç ä¸€ä¸‹)ã€‚æ€»ä½“è€Œè¨€æ¨èä½¿ç”¨ Selenium ä¸€ä¸ªwebè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œå¯ä»¥é©±åŠ¨å„ç§æµè§ˆå™¨è¿›è¡Œæ¨¡æ‹Ÿäººå·¥æ“ä½œã€‚ç”¨äºæ¸²æŸ“é¡µé¢ä»¥æ–¹ä¾¿æå–æ•°æ®æˆ–è¿‡éªŒè¯ç ã€‚ä¹Ÿå¯ä»¥ç”¨æ¥æ‰§è¡ŒJSä»£ç ã€‚ Pyppeteer Puppeteerçš„Pythonç‰ˆæœ¬ï¼Œæ˜¯ç¬¬ä¸‰æ–¹å¼€å‘çš„ï¼Œæ˜¯ä¸€ä¸ªWebè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ã€‚åŸç”Ÿæ”¯æŒä»¥åç¨‹çš„æ–¹å¼è°ƒç”¨ï¼ŒåŒæ—¶æ€§èƒ½æ¯”Seleniumæ›´å¥½ã€‚å¯¹äºä½¿ç”¨Asyncio+Aiohttpå†™çˆ¬è™«çš„äººè€Œè¨€å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚å¯ä»¥ç›´æ¥é©±åŠ¨æµè§ˆå™¨æ¥æ‰§è¡ŒJSä»£ç ã€‚ Playwright å¾®è½¯å¼€å‘çš„Webè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œæœ‰å¤šç§è¯­è¨€çš„ç‰ˆæœ¬ï¼Œæ”¯æŒåŒæ­¥ä¸å¼‚æ­¥ä¸¤ç§æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é©±åŠ¨æµè§ˆå™¨æ¥æ‰§è¡ŒJSä»£ç ã€‚ æ€»ç»“ï¼šå¦‚æœæ‰§è¡Œçš„JSä¸æ˜¯ç‰¹åˆ«å¤æ‚ï¼Œä¸”ä¸ä¾èµ–æµè§ˆå™¨ç¯å¢ƒ(æ¯”å¦‚éœ€è¦è¯»å–æµè§ˆå™¨ç›¸å…³å±æ€§)æ¨èä½¿ç”¨PyExecJSï¼Œå¦‚æœæ‰§è¡Œçš„JSæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å·¥ç¨‹ï¼Œæˆ–è€…ä½¿ç”¨è¿‡ç¨‹ä¸­éœ€è¦è¯»å–æµè§ˆå™¨ç›¸å…³å±æ€§ï¼Œè¿™æ—¶å€™PyExecJSå·²ç»ä¸èƒ½æ»¡è¶³è¦æ±‚ï¼Œæ¨èä½¿ç”¨Playwrightå’ŒPlaywrightã€‚ PyExecJSä½¿ç”¨ç¯å¢ƒå‡†å¤‡ï¼šæ¨èå®‰è£…Nodejsï¼Œå®‰è£…æ–¹ä¾¿ä¸”æ‰§è¡Œæ•ˆç‡é«˜ã€‚ç„¶åé€šè¿‡pip install pyexecjsæ¥å®‰è£…PyExecJSã€‚ ç„¶åæ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä¸‹é¢2è¡Œä»£ç ï¼š 12import execjsexecjs.get().name å¦‚æœç»“æœå¦‚ä¸‹ï¼Œè¯æ˜PyExecJSä½¿ç”¨çš„å¼•æ“æ˜¯NodeJSï¼š image-20220210160058945 å¦‚æœä¸æ˜¯ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨é…ç½®ä¸€ä¸‹ä½¿ç”¨çš„å¼•æ“ï¼Œç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡è®¾ç½®å¦‚ä¸‹å˜é‡å³å¯ï¼š 1export EXECJS_RUNTIME=&quot;Node&quot; é…ç½®å¥½PyExecJSåï¼Œçœ‹ä¸€ä¸‹ä½¿ç”¨ä»£ç å®ä¾‹ï¼š 1234567891011import execjsjs_text = &quot;&quot;&quot;function hello(str) &#123; return str; &#125;&quot;&quot;&quot;ctx = execjs.compile(js_text)res = ctx.call(&quot;hello&quot;, &quot;hello, world!&quot;)print(res) é¦–å…ˆé€šè¿‡execjsçš„compileæ–¹æ³•å°†jsä»£ç ç¼–è¯‘å¥½ä¹‹åä¿å­˜åœ¨ä¸€ä¸ªcontextä¸­ï¼Œç„¶åè°ƒç”¨contextçš„callæ–¹æ³•å»æ‰§è¡Œjsä»£ç ä¸­çš„æŸä¸€ä¸ªfunctionã€‚ ä½¿ç”¨NodeJSè°ƒç”¨JSç®€å•æ¥è¯´å°±æ˜¯ï¼Œæä¾›ä¸€ä¸ªå¯ä»¥æ‰§è¡ŒJSçš„HTTP APIï¼Œç„¶åé€šè¿‡è°ƒç”¨è¿™ä¸ªAPIæ¥æ‰§è¡ŒJSå¹¶è·å–æƒ³è¦çš„ç»“æœã€‚ é¦–å…ˆå°†è¦æ‰§è¡Œçš„JSå•ç‹¬å°è£…æˆä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶ 1234567var add = function(a, b) &#123; return a + b;&#125;module.exports = &#123; add&#125; è¿™é‡Œåªæ˜¯ä¸€ä¸ªæ¼”ç¤ºï¼Œå®é™…å¯èƒ½æ˜¯ä¸€æ®µå¾ˆå¤æ‚çš„ä»£ç é€»è¾‘ã€‚ ç„¶åä½¿ç”¨Nodeæ­å»ºä¸€ä¸ªExpressæœåŠ¡ 12345678910111213141516var express = require(&#x27;express&#x27;)var app = express()var sum = require(&quot;./sum&quot;)var bodyParser = require(&#x27;body-parser&#x27;)app.use(bodyParser.json())app.use(bodyParser.urlencoded(&#123;extended: false&#125;))app.get(&quot;/sum&quot;, function(req, res) &#123; let params = req.query let a = parseInt(params.a) let b = parseInt(params.b) res.send(sum.add(a, b).toString())&#125;)app.listen(8081, () =&gt; &#123;&#125;) æœ€åPythonå®¢æˆ·ç«¯å»è°ƒç”¨è¿™ä¸ªæœåŠ¡ï¼Œæ‹¿åˆ°JSä»£ç æ‰§è¡Œä¹‹åçš„ç»“æœ 12345678910import requestsdata = &#123; &quot;a&quot;: 1, &quot;b&quot;: 2&#125;resp = requests.get(&quot;http://127.0.0.1:8081/sum&quot;, params=data)print(resp.text) è¿™ç§æ–¹å¼å­˜åœ¨çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆï¼š Windowå¯¹è±¡ NodeJSæ²¡æœ‰windowå¯¹è±¡ï¼Œå¦‚æœè¦ä½¿ç”¨windowå¯¹è±¡ï¼Œéœ€è¦è‡ªå·±åˆ›å»ºä¸€ä¸ªæˆ–è€…æŒ‡å‘global ä½¿ç”¨jsdomä¹‹ç±»çš„åº“å»æ›¿ä»£ çœ‹ä¸‹é¢ä»£ç ç¤ºä¾‹ï¼š 123456789// 1. è¿™äº›å¯¹è±¡å­˜åœ¨äºjsï¼Œè€Œä¸å­˜åœ¨äºnodejsï¼Œæ¯”å¦‚windowï¼Œdocument, screen// 2. è¿™äº›å¯¹è±¡çš„å±æ€§ æ˜¯ä¸€ä¸ªå€¼ã€‚var window = &#123;&#125;// window.btoa = function() ...var document = &#123;&#125;document = &#123;&quot;location&quot;: &#123;&quot;href&quot;: &quot;https://bbs.nightteam.cn/member.php?mod=register&quot;&#125;&#125;var screen = &#123;&quot;width&quot;: 900, &quot;height&quot;: 1200&#125; Base64 window.btoaåœ¨NodeJSä¸­ä¸å­˜åœ¨ï¼Œå¯ä»¥ä½¿ç”¨Buffer.from(â€œPython3â€).toString(â€œbase64â€)æ¥ä»£æ›¿ã€‚","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"JS","slug":"JS","permalink":"https://blog.heshipeng.com/tags/JS/"}]},{"title":"ä¸€æ–‡äº†è§£Dexæ–‡ä»¶æ ¼å¼","date":"2022-01-17T09:27:25.000Z","path":"ä¸€æ–‡äº†è§£Dexæ–‡ä»¶æ ¼å¼/","text":"\u0010\u0010\u0010\u0010\u0010\u0010\u0010\u0010\u0010\u0010\u0010\u0010\u0010\u0010 Dexæ–‡ä»¶æ˜¯ä»€ä¹ˆåœ¨æ˜ç™½ä»€ä¹ˆæ˜¯ Dex æ–‡ä»¶ä¹‹å‰ï¼Œè¦å…ˆäº†è§£ä¸€ä¸‹ JVMï¼ŒDalvik å’Œ ARTã€‚JVM æ˜¯ JAVA è™šæ‹Ÿæœºï¼Œç”¨æ¥è¿è¡Œ JAVA å­—èŠ‚ç ç¨‹åºã€‚Dalvik æ˜¯ Google è®¾è®¡çš„ç”¨äº Androidå¹³å°çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œé€‚åˆç§»åŠ¨ç¯å¢ƒä¸‹å†…å­˜å’Œå¤„ç†å™¨é€Ÿåº¦æœ‰é™çš„ç³»ç»Ÿã€‚ART å³ Android Runtimeï¼Œæ˜¯ Google ä¸ºäº†æ›¿æ¢ Dalvik è®¾è®¡çš„æ–° Android è¿è¡Œæ—¶ç¯å¢ƒï¼Œåœ¨Android 4.4æ¨å‡ºã€‚ART æ¯” Dalvik çš„æ€§èƒ½æ›´å¥½ã€‚Android ç¨‹åºä¸€èˆ¬ä½¿ç”¨ Java è¯­è¨€å¼€å‘ï¼Œä½†æ˜¯ Dalvik è™šæ‹Ÿæœºå¹¶ä¸æ”¯æŒç›´æ¥æ‰§è¡Œ JAVA å­—èŠ‚ç ï¼Œæ‰€ä»¥ä¼šå¯¹ç¼–è¯‘ç”Ÿæˆçš„ .class æ–‡ä»¶è¿›è¡Œç¿»è¯‘ã€é‡æ„ã€è§£é‡Šã€å‹ç¼©ç­‰å¤„ç†ï¼Œè¿™ä¸ªå¤„ç†è¿‡ç¨‹æ˜¯ç”± dx è¿›è¡Œå¤„ç†ï¼Œå¤„ç†å®Œæˆåç”Ÿæˆçš„äº§ç‰©ä¼šä»¥ .dex ç»“å°¾ï¼Œç§°ä¸º Dex æ–‡ä»¶ã€‚Dex æ–‡ä»¶æ ¼å¼æ˜¯ä¸“ä¸º Dalvik è®¾è®¡çš„ä¸€ç§å‹ç¼©æ ¼å¼ã€‚æ‰€ä»¥å¯ä»¥ç®€å•çš„ç†è§£ä¸ºï¼šDex æ–‡ä»¶æ˜¯å¾ˆå¤š .class æ–‡ä»¶å¤„ç†åçš„äº§ç‰©ï¼Œæœ€ç»ˆå¯ä»¥åœ¨ Android è¿è¡Œæ—¶ç¯å¢ƒæ‰§è¡Œã€‚ æ„é€ Dexæ–‡ä»¶Javaä»£ç è½¬åŒ–ä¸ºdexæ–‡ä»¶çš„æµç¨‹å¦‚ä¸‹ï¼š img å¯ä»¥å½¢è±¡ç†è§£ä¸ºJavaæºä»£ç ç¼–è¯‘æˆ.classæ–‡ä»¶ï¼Œç„¶åé€šè¿‡dxå·¥å…·ç”Ÿæˆdexæ–‡ä»¶ã€‚ ä».javaåˆ°.classå…ˆå»ºä¸€ä¸ªæ–‡ä»¶Hello.javaï¼Œåªæ˜¯ç®€å•çš„æ‰“å°ä¸€ä¸‹Hello, worldï¼š 12345public class Hello &#123; public static void main(String[] args) &#123; System.out.println(&quot;Hello, world!&quot;); &#125;&#125; è¿›å…¥è¯¥æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œä½¿ç”¨javacç¼–è¯‘è¿™ä¸ªjavaæ–‡ä»¶ã€‚ 1javac Hello.java javac å‘½ä»¤æ‰§è¡Œåä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆ Hello.class æ–‡ä»¶ã€‚ ä».classåˆ°.dexä¸Šé¢ç”Ÿæˆçš„ .class æ–‡ä»¶è™½ç„¶å·²ç»å¯ä»¥åœ¨ JVM ç¯å¢ƒä¸­è¿è¡Œï¼Œä½†æ˜¯å¦‚æœè¦åœ¨ Android è¿è¡Œæ—¶ç¯å¢ƒä¸­æ‰§è¡Œè¿˜éœ€è¦ç‰¹æ®Šçš„å¤„ç†ï¼Œé‚£å°±æ˜¯ dx å¤„ç†ï¼Œå®ƒä¼šå¯¹ .class æ–‡ä»¶è¿›è¡Œç¿»è¯‘ã€é‡æ„ã€è§£é‡Šã€å‹ç¼©ç­‰æ“ä½œã€‚ dx å¤„ç†ä¼šä½¿ç”¨åˆ°ä¸€ä¸ªå·¥å…· dx.jarï¼Œè¿™ä¸ªæ–‡ä»¶ä½äº SDK ä¸­ï¼Œå…·ä½“çš„ç›®å½•å¤§è‡´ä¸º ä½ çš„SDKæ ¹ç›®å½•/build-tools/ä»»æ„ç‰ˆæœ¬ é‡Œé¢ã€‚ä½¿ç”¨ dx å·¥å…·å¤„ç†ä¸Šé¢ç”Ÿæˆçš„Hello.class æ–‡ä»¶ï¼Œåœ¨ Hello.class çš„ç›®å½•ä¸‹ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š 1dx --dex --output=Hello.dex Hello.class æ‰§è¡Œå®Œæˆåï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª Hello.dex æ–‡ä»¶ã€‚è¿™ä¸ª .dex æ–‡ä»¶å°±å¯ä»¥ç›´æ¥åœ¨ Android è¿è¡Œæ—¶ç¯å¢ƒæ‰§è¡Œã€‚ Dexæ ¼å¼è¯¦è§£å…ˆçœ‹ä¸‹dexæ–‡ä»¶çš„æ•´ä½“å¸ƒå±€: image-20220120110317295 ç„¶åç”¨xxdå‘½ä»¤æ‰“å¼€ä¸Šè¾¹ç”Ÿæˆçš„dexæ–‡ä»¶ã€‚ 1xxd Hello.dex å› ä¸ºæ•°æ®ä¸é•¿ï¼Œè¿™é‡Œç›´æ¥è´´å‡ºæ¥æ•´ä¸ªHello.dexçš„å†…å®¹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454600000000: 6465 780a 3033 3500 555d 340e 86e9 521c dex.035.U]4...R.00000010: b10d 5708 b448 3fb8 feba cd1c 22d3 0f65 ..W..H?.....&quot;..e00000020: e002 0000 7000 0000 7856 3412 0000 0000 ....p...xV4.....00000030: 0000 0000 4002 0000 0e00 0000 7000 0000 ....@.......p...00000040: 0700 0000 a800 0000 0300 0000 c400 0000 ................00000050: 0100 0000 e800 0000 0400 0000 f000 0000 ................00000060: 0100 0000 1001 0000 b001 0000 3001 0000 ............0...00000070: 7601 0000 7e01 0000 8d01 0000 9901 0000 v...~...........00000080: a201 0000 b901 0000 cd01 0000 e101 0000 ................00000090: f501 0000 f801 0000 fc01 0000 1102 0000 ................000000a0: 1702 0000 1c02 0000 0300 0000 0400 0000 ................000000b0: 0500 0000 0600 0000 0700 0000 0800 0000 ................000000c0: 0a00 0000 0800 0000 0500 0000 0000 0000 ................000000d0: 0900 0000 0500 0000 6801 0000 0900 0000 ........h.......000000e0: 0500 0000 7001 0000 0400 0100 0c00 0000 ....p...........000000f0: 0000 0000 0000 0000 0000 0200 0b00 0000 ................00000100: 0100 0100 0d00 0000 0200 0000 0000 0000 ................00000110: 0000 0000 0100 0000 0200 0000 0000 0000 ................00000120: 0200 0000 0000 0000 3102 0000 0000 0000 ........1.......00000130: 0100 0100 0100 0000 2502 0000 0400 0000 ........%.......00000140: 7010 0300 0000 0e00 0300 0100 0200 0000 p...............00000150: 2a02 0000 0800 0000 6200 0000 1a01 0100 *.......b.......00000160: 6e20 0200 1000 0e00 0100 0000 0300 0000 n ..............00000170: 0100 0000 0600 063c 696e 6974 3e00 0d48 .......&lt;init&gt;..H00000180: 656c 6c6f 2c20 776f 726c 6421 000a 4865 ello, world!..He00000190: 6c6c 6f2e 6a61 7661 0007 4c48 656c 6c6f llo.java..LHello000001a0: 3b00 154c 6a61 7661 2f69 6f2f 5072 696e ;..Ljava/io/Prin000001b0: 7453 7472 6561 6d3b 0012 4c6a 6176 612f tStream;..Ljava/000001c0: 6c61 6e67 2f4f 626a 6563 743b 0012 4c6a lang/Object;..Lj000001d0: 6176 612f 6c61 6e67 2f53 7472 696e 673b ava/lang/String;000001e0: 0012 4c6a 6176 612f 6c61 6e67 2f53 7973 ..Ljava/lang/Sys000001f0: 7465 6d3b 0001 5600 0256 4c00 135b 4c6a tem;..V..VL..[Lj00000200: 6176 612f 6c61 6e67 2f53 7472 696e 673b ava/lang/String;00000210: 0004 6d61 696e 0003 6f75 7400 0770 7269 ..main..out..pri00000220: 6e74 6c6e 0001 0007 0e00 0301 0007 0e78 ntln...........x00000230: 0000 0002 0000 8180 04b0 0201 09c8 0200 ................00000240: 0d00 0000 0000 0000 0100 0000 0000 0000 ................00000250: 0100 0000 0e00 0000 7000 0000 0200 0000 ........p.......00000260: 0700 0000 a800 0000 0300 0000 0300 0000 ................00000270: c400 0000 0400 0000 0100 0000 e800 0000 ................00000280: 0500 0000 0400 0000 f000 0000 0600 0000 ................00000290: 0100 0000 1001 0000 0120 0000 0200 0000 ......... ......000002a0: 3001 0000 0110 0000 0200 0000 6801 0000 0...........h...000002b0: 0220 0000 0e00 0000 7601 0000 0320 0000 . ......v.... ..000002c0: 0200 0000 2502 0000 0020 0000 0100 0000 ....%.... ......000002d0: 3102 0000 0010 0000 0100 0000 4002 0000 1...........@... æ¥ä¸‹æ¥å¯¹ç…§è¿™ä¸ªdexæ–‡ä»¶çš„å†…å®¹ä¸€æ­¥æ­¥è§£ææ•´ä¸ªdexæ–‡ä»¶çš„æ ¼å¼ã€‚ headeråœ¨androidæºç ä¸­å¯¹dexæ–‡ä»¶çš„æ ¼å¼ï¼Œæœ‰äº†è¯¦ç»†çš„å®šä¹‰ï¼š 12345678910111213141516171819202122232425struct DexHeader &#123; u1 magic[8]; // é­”æ•° u4 checksum; // adler æ ¡éªŒå€¼ u1 signature[kSHA1DigestLen]; // sha1 æ ¡éªŒå€¼ u4 fileSize; // DEX æ–‡ä»¶å¤§å° u4 headerSize; // DEX æ–‡ä»¶å¤´å¤§å° u4 endianTag; // å­—èŠ‚åº u4 linkSize; // é“¾æ¥æ®µå¤§å° u4 linkOff; // é“¾æ¥æ®µçš„åç§»é‡ u4 mapOff; // DexMapList åç§»é‡ u4 stringIdsSize; // DexStringId ä¸ªæ•° u4 stringIdsOff; // DexStringId åç§»é‡ u4 typeIdsSize; // DexTypeId ä¸ªæ•° u4 typeIdsOff; // DexTypeId åç§»é‡ u4 protoIdsSize; // DexProtoId ä¸ªæ•° u4 protoIdsOff; // DexProtoId åç§»é‡ u4 fieldIdsSize; // DexFieldId ä¸ªæ•° u4 fieldIdsOff; // DexFieldId åç§»é‡ u4 methodIdsSize; // DexMethodId ä¸ªæ•° u4 methodIdsOff; // DexMethodId åç§»é‡ u4 classDefsSize; // DexCLassDef ä¸ªæ•° u4 classDefsOff; // DexClassDef åç§»é‡ u4 dataSize; // æ•°æ®æ®µå¤§å° u4 dataOff; // æ•°æ®æ®µåç§»é‡&#125;; å…¶ä¸­ï¼Œuæ ‡è¯†æ— ç¬¦å·æ•´æ•°ï¼Œu1è¡¨ç¤º8ä½æ— ç¬¦å·æ•´æ•°å³ä¸€ä¸ªå­—èŠ‚ï¼Œu4è¡¨ç¤º32ä½æ— ç¬¦å·æ•´æ•°å³å››ä¸ªå­—èŠ‚ã€‚ ä¸‹é¢ç”¨ä¸€ä¸ªè¡¨æ ¼å¯¹ç…§Hello.dexå¯¹æ¯ä¸€ä¸ªæˆå‘˜å«ä¹‰åšä¸€ä¸ªç®€å•çš„è¯´æ˜ï¼Œåè¾¹ä¼šé’ˆå¯¹æŸäº›å­—æ®µæœ‰ä¸€ä¸ªè¯¦ç»†çš„è¯´æ˜ã€‚ æˆå‘˜åç§° æˆå‘˜é•¿åº¦ï¼ˆå­—èŠ‚ï¼‰ å«ä¹‰ magic 8 é­”æ•°ï¼Œå¿…é¡»å‡ºç°åœ¨æ–‡ä»¶å¼€å¤´ï¼Œæ ‡è¯†å…¶æ–‡ä»¶æ ¼å¼ï¼Œç”¨8ä¸ª1å­—èŠ‚çš„æ— ç¬¦å·æ•°æ¥è¡¨ç¤ºï¼Œå®ƒå¯ä»¥åˆ†è§£ä¸ºï¼šæ–‡ä»¶æ ‡è¯† dex + æ¢è¡Œç¬¦ + DEX ç‰ˆæœ¬ + 0ï¼Œ è¿™é‡Œæ˜¯64 65 78 0a 30 33 35 00ï¼Œè¡¨ç¤ºdexçš„ç‰ˆæœ¬æ˜¯35 checksum 4 checksum æ˜¯å¯¹å»é™¤ magic ã€ checksum ä»¥å¤–çš„æ–‡ä»¶éƒ¨åˆ†ä½œ adler32 ç®—æ³•å¾—åˆ°çš„æ ¡éªŒå€¼ï¼Œç”¨äºåˆ¤æ–­ DEX æ–‡ä»¶æ˜¯å¦è¢«ç¯¡æ”¹ã€‚è¿™é‡Œçš„å€¼æ˜¯0e34 5d55(ä¸ºå•¥ä¸æ˜¯555d 340eï¼Ÿå› ä¸ºæ˜¯å°ç«¯å­˜å‚¨ï¼Œå…³äºå¤§å°ç«¯å‚è§ å¤§ç«¯è¿˜æ˜¯å°ç«¯) signature 20 SHA1ç­¾åï¼Œé™¤magicï¼Œchecksumå’Œå®ƒæœ¬èº«ï¼Œä½œä¸ºæ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†ã€‚è¿™é‡Œçš„å€¼æ˜¯86 e9 52 1c b1 0d 57 08 b4 48 3f b8 fe ba cd 1c 22 d3 0f 65 fileSize 4 dexæ–‡ä»¶çš„å¤§å°ï¼ŒåŒ…æ‹¬å¤´æ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯0000 02e0 headerSize 4 dexå¤´æ–‡ä»¶çš„å¤§å°ï¼Œè¿™é‡Œæ˜¯0000 0070 endianTag 4 ç«¯å­˜å‚¨æ ‡è®°ï¼Œä¸»è¦æ˜¯ç”¨æ¥åˆ¤æ–­å¤§ç«¯å­˜å‚¨è¿˜æ˜¯å°ç«¯å­˜å‚¨ã€‚é»˜è®¤å€¼æ˜¯1234 5678ï¼Œå³å°ç«¯å­˜å‚¨ï¼Œè¿™é‡Œæ˜¯1234 5678 linkSize 4 æ–‡ä»¶é“¾æ¥æ®µå¤§å°ï¼Œä¸º0åˆ™è¡¨ç¤ºé™æ€é“¾æ¥ï¼Œè¿™é‡Œæ˜¯0000 0000 linkOff 4 æ–‡ä»¶é“¾æ¥æ®µçš„åç§»ä½ç½®ï¼Œå¦‚æœé“¾æ¥æ®µå¤§å°ä¸º0ï¼Œåˆ™åç§»ä½ç½®ä¹Ÿä¸º0ï¼Œè¿™é‡Œæ˜¯0000 0000 mapOff 4 DexMapListçš„æ–‡ä»¶åç§»ï¼Œè¿™é‡Œæ˜¯0000 0240ï¼Œä¹Ÿå³DexMapListçš„åŸºå€æ˜¯0000 0240 stringIdsSize 4 dexæ–‡ä»¶åŒ…å«çš„å­—ç¬¦ä¸²æ•°é‡ï¼Œè¿™é‡Œæ˜¯0000 000e stringIdsOff 4 dexæ–‡ä»¶å­—ç¬¦ä¸²åç§»ä½ç½®ï¼Œè¿™é‡Œæ˜¯0000 0070 typeIdsSize 4 dexæ–‡ä»¶ç±»å‹ä¿¡æ¯çš„æ•°é‡ï¼Œè¿™é‡Œæ˜¯0000 0007 typeIdsOff 4 dexæ–‡ä»¶ç±»å‹ä¿¡æ¯çš„åç§»ä½ç½®ï¼Œè¿™é‡Œæ˜¯0000 00a8 protoIdsSize 4 dexæ–‡ä»¶æ–¹æ³•å£°æ˜çš„æ•°é‡ï¼Œè¿™é‡Œæ˜¯0000 0003 protoIdsOff 4 dexæ–‡ä»¶æ–¹æ³•å£°æ˜åç§»ä½ç½®ï¼Œè¿™é‡Œæ˜¯0000 00c4 fieldIdsSize 4 dexæ–‡ä»¶å­—æ®µä¿¡æ¯çš„æ•°é‡ï¼Œè¿™é‡Œæ˜¯0000 0001 fieldIdsOff 4 dexæ–‡ä»¶å­—æ®µä¿¡æ¯çš„åç§»ä½ç½®ï¼Œè¿™é‡Œæ˜¯0000 00e8 methodIdsSize 4 dexæ–‡ä»¶æ–¹æ³•çš„æ•°é‡ï¼Œè¿™é‡Œæ˜¯0000 0004 methodIdsOff 4 dexæ–‡ä»¶æ–¹æ³•çš„åç§»ä½ç½®ï¼Œè¿™é‡Œæ˜¯0000 00f0 classDefsSize 4 dexæ–‡ä»¶ç±»çš„æ•°é‡ï¼Œè¿™é‡Œæ˜¯0000 0001 classDefsOff 4 dexæ–‡ä»¶ç±»ä¿¡æ¯çš„åç§»ä½ç½®ï¼Œè¿™é‡Œæ˜¯0000 0110 dataSize 4 dexæ–‡ä»¶æ•°æ®åŒºçš„å¤§å°ï¼Œè¿™é‡Œæ˜¯0000 01b0 dataOff 4 dexæ–‡ä»¶æ•°æ®åŒºçš„åç§»ä½ç½®ï¼Œè¿™é‡Œæ˜¯0000 0130 ä¸‹é¢é’ˆå¯¹éƒ¨åˆ†å­—æ®µï¼Œè¿›ä¸€æ­¥ç†è§£ï¼š 1. éªŒè¯checksumé€šè¿‡å‰é¢è¡¨æ ¼ï¼Œäº†è§£åˆ°checksum æ˜¯å¯¹å»é™¤ magic ã€ checksum ä»¥å¤–çš„æ–‡ä»¶éƒ¨åˆ†ä½œ alder32 ç®—æ³•å¾—åˆ°çš„æ ¡éªŒå€¼ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆå¤‡ä»½ä¸€ä¸‹Hello.dexæ–‡ä»¶ï¼Œç„¶åç”¨UE(UltraEdit)æ‰“å¼€Hello.dexï¼Œåˆ é™¤magicï¼Œchecksumä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š image-20220120113433764 ä¿å­˜ä¹‹åï¼Œæ‰§è¡Œå¦‚ä¸‹Pythonä»£ç ï¼š 1234import zlibwith open(&quot;Hello.dex&quot;, &quot;rb&quot;) as f: print(zlib.adler32(f.read())) è¾“å‡ºç»“æœæ˜¯238312789ï¼Œè½¬ä¸ºåå…­è¿›åˆ¶ä¸º0e34 5d55ï¼Œæ­£å¥½æ˜¯è¯¥æ–‡ä»¶çš„checksumã€‚ 2. éªŒè¯signatureç±»ä¼¼äºåœ¨ä¸Šé¢éªŒè¯checksumæ–‡ä»¶ï¼Œè¿›ä¸€æ­¥åˆ é™¤signatureï¼Œå¦‚å›¾ï¼š image-20220120143546894 ä¿å­˜ä¹‹åï¼Œæ‰§è¡Œå¦‚ä¸‹Pythonä»£ç ï¼š 1234import hashlibwith open(&quot;Hello.dex&quot;, &quot;rb&quot;) as f: print(hashlib.sha1(f.read()).hexdigest()) è¾“å‡ºç»“æœæ˜¯86e9521cb10d5708b4483fb8febacd1c22d30f65ï¼Œæ­£å¥½æ˜¯åˆ é™¤çš„signatureã€‚ 3. éªŒè¯fileSizeä»å¤‡ä»½çš„Hello.dexè¿˜åŸdexæ–‡ä»¶ï¼Œç„¶åå‰é¢è¡¨æ ¼å¾—å‡ºæ•´ä¸ªdexæ–‡ä»¶çš„å¤§å°æ˜¯2e0å³736ä¸ªå­—èŠ‚ï¼Œæˆ‘ä»¬ç”¨llå‘½ä»¤éªŒè¯ä¸‹ï¼š image-20220120150229254 4. éªŒè¯headerSizeheaderSizeå 0000 0070ä¹Ÿå³112ä¸ªå­—èŠ‚ã€‚æˆ‘ä»¬é€šè¿‡DexHeaderè¿™ä¸ªç»“æ„ä½“å¯ä»¥ç®—å‡ºæ¥ï¼š magic(8ä¸ªå­—èŠ‚)+checksum(4ä¸ªå­—èŠ‚)+signature(20ä¸ªå­—èŠ‚)+fileSize(4ä¸ªå­—èŠ‚)+ â€¦ + dataOff(4ä¸ªå­—èŠ‚)=112å­—èŠ‚ã€‚ string_idså­—ç¬¦ä¸²idåŒºåŸŸï¼Œè¿™ä¸ªåŒºåŸŸæ˜¯ä¸€ä¸ªåç§»é‡åˆ—è¡¨ï¼Œæ¯ä¸ªåç§»é‡å¯¹åº”ä¸€ä¸ªçœŸæ­£çš„å­—ç¬¦ä¸²èµ„æºï¼Œæ¯ä¸ªåç§»é‡å 32ä½ï¼Œå³4ä¸ªå­—èŠ‚ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åç§»é‡æ‰¾åˆ°å¯¹åº”çš„å®é™…å­—ç¬¦ä¸²æ•°æ®ã€‚ ä»DexFile.hä¸­æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°DexStringIdçš„å®šä¹‰ï¼š 123struct DexStringId &#123; u4 stringDataOff; /* file offset to string_data_item */&#125;; é€šè¿‡æ³¨é‡Šå¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªåŒºåŸŸå­˜çš„å¹¶ä¸æ˜¯çœŸæ­£çš„å­—ç¬¦ä¸²ï¼Œåªæ˜¯å­˜å‚¨äº†çœŸæ­£å­—ç¬¦ä¸²çš„åç§»ä½ç½®ï¼ŒstringIdsSizeä¸º0000 000eå³14ï¼ŒstringIdsOffä¸º0000 0070ã€‚æˆ‘ä»¬æ‰¾åˆ°åœ°å€0000 0070hï¼Œç„¶åå–å‡ºåè¾¹çš„4*14ä¸ªå­—èŠ‚ï¼š 123400000070: 7601 0000 7e01 0000 8d01 0000 9901 0000 v...~...........00000080: a201 0000 b901 0000 cd01 0000 e101 0000 ................00000090: f501 0000 f801 0000 fc01 0000 1102 0000 ................000000a0: 1702 0000 1c02 0000 è¿™é‡Œä»¥ç¬¬ä¸€ä¸ªåç§»ä¸ºä¾‹ï¼Œè§£é‡Šå…·ä½“æ¯ä¸ªå­—ç¬¦ä¸²åç§»èƒŒåä»£è¡¨çš„çœŸæ­£å­—ç¬¦ä¸²çš„ï¼Œå–å‡ºå‰4ä¸ªå­—èŠ‚ï¼Œå³0000 0176ï¼Œç„¶åæ‰¾åˆ°0000 0176hè¿™ä¸ªåœ°å€ï¼š image-20220120164703702 dexä¸­çš„å­—ç¬¦ä¸²é‡‡ç”¨äº†ä¸€ç§å«åšMUTF-8è¿™æ ·çš„ç¼–ç ï¼Œå®ƒæ˜¯ç»è¿‡ä¼ ç»Ÿçš„UTF-8ç¼–ç ä¿®æ”¹çš„ã€‚åœ¨MTUF-8ä¸­ï¼Œå®ƒçš„å¤´éƒ¨å­˜æ”¾çš„æ˜¯ç”±uleb128ç¼–ç çš„å­—ç¬¦çš„ä¸ªæ•°ã€‚æ‰€ä»¥ç¬¬ä¸€ä¸ªå­—èŠ‚06è¡¨ç¤ºçš„å«ä¹‰æ˜¯å­—ç¬¦ä¸²çš„å­—èŠ‚æ•°æ˜¯6ä¸ªï¼Œç„¶åæˆ‘ä»¬å¾€åæ¨6ä¸ªå­—èŠ‚ï¼Œå³3C 69 6E 69 74 3Eï¼Œå¯¹ç…§ASCIIç è¡¨å«ä¹‰å¦‚ä¸‹ï¼š å­—ç¬¦ 3C 69 6E 69 74 3E å¯¹åº”ASCIIç  &lt; i n i t &gt; å³\\ã€‚ å…¶ä½™çš„13ä¸ªå­—ç¬¦ä¸²å¯ä»¥æŒ‰ç…§è¿™ä¸ªæ­¥éª¤ï¼Œä¾æ¬¡åˆ†æå‡ºæ¥ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œç»™å‡ºä¸€ä¸ªè¡¨æ ¼å¦‚ä¸‹ï¼š ç´¢å¼• åç§»å€¼ å­—ç¬¦ä¸ªæ•°ï¼ˆåå…­è¿›åˆ¶ï¼‰ å­—ç¬¦ä¸²åå…­è¿›åˆ¶å†…å®¹ å¯¹åº”ASCIIå†…å®¹ 0 0000 0176 06 3C 69 6E 69 74 3E \\ 1 0000 017e 0D 48 65 6C 6C 6F 2C 20 77 6F 72 6C 64 21 Hello, world! 2 0000 018d 0A 48 65 6C 6C 6F 2E 6A 61 76 61 Hello.java 3 0000 0199 07 4C 48 65 6C 6C 6F 3B LHello; 4 0000 01a2 15 4C 6A 61 76 61 2F 69 6F 2F 50 72 69 6E 74 53 74 72 65 61 6D 3B Ljava/io/PrintStream; 5 0000 01b9 12 4C 6A 61 76 61 2F 6C 61 6E 67 2F 4F 62 6A 65 63 74 3B Ljava/lang/Object; 6 0000 01cd 12 4C 6A 61 76 61 2F 6C 61 6E 67 2F 53 74 72 69 7E 67 3B Ljava/lang/String; 7 0000 01e1 12 4C 6A 61 76 61 2F 6C 61 6E 67 2F 53 79 73 74 65 6D 3B Ljava/lang/System; 8 0000 01f5 01 56 V 9 0000 01f8 02 56 4C VL a 0000 01fc 13 5B 4C 6A 61 76 61 2F 6C 61 6E 67 2F 53 74 72 69 7E 67 3B [Ljava/lang/String; b 0000 0211 04 6D 61 69 6E main c 0000 0217 03 6F 75 74 out d 0000 021c 07 70 72 69 6E 74 6C 6E println type_idsç±»å‹idåŒºåŸŸï¼Œç´¢å¼•çš„å€¼å¯¹åº”å­—ç¬¦ä¸²idåŒºåŸŸåç§»é‡åˆ—è¡¨ä¸­çš„æŸä¸€é¡¹ï¼Œæ¯ä¸€ä¸ªäººåç§»ä¹Ÿæ˜¯å 4ä¸ªå­—èŠ‚ã€‚ ä»DexFile.hä¸­æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°DexTypeIdçš„å®šä¹‰ï¼š 123456/* * Direct-mapped &quot;type_id_item&quot;. */struct DexTypeId &#123; u4 descriptorIdx; /* index into stringIds list for type descriptor */&#125;; ä»æ³¨é‡Šå¯ä»¥çœ‹åˆ°å¦‚æœæˆ‘ä»¬è¦æ‰¾åˆ°æŸä¸ªç±»å‹çš„å€¼ï¼Œéœ€è¦å…ˆæ ¹æ®ç±»å‹idåˆ—è¡¨ä¸­çš„ç´¢å¼•å€¼å»å­—ç¬¦ä¸²idåˆ—è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„é¡¹ï¼Œè¿™ä¸€é¡¹å­˜å‚¨çš„åç§»é‡å¯¹åº”çš„å­—ç¬¦ä¸²èµ„æºå°±æ˜¯è¿™ä¸ªç±»å‹çš„å­—ç¬¦ä¸²æè¿°ã€‚ typeIdsSizeä¸º0000 0007ï¼ŒtypeIdsOffä¸º0000 00a8ï¼Œæˆ‘ä»¬æ‰¾åˆ°åœ°å€ä¸º0000 00a8ç„¶åå–å‡ºåé¢7*4ä¸ªå­—èŠ‚ã€‚ 10300 0000 0400 0000 0500 0000 0600 0000 0700 0000 0800 0000 0a00 0000 ä»¥ç¬¬ä¸€ä¸ªåç§»0000 0003ä¸ºä¾‹ï¼Œå³ç´¢å¼•ä¸º3ï¼ŒæŸ¥ä¸Šé¢çš„string_idså¾—åˆ°çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå³ä¸ºLHello;ã€‚ç±»ä¼¼åœ°ï¼Œå¯ä»¥åˆ†æå‡ºæ¥å…¶ä½™6ä¸ªï¼š ç´¢å¼• å¯¹åº”string_idxçš„ç´¢å¼• ç±»å‹ 0 0000 0003 LHello; 1 0000 0004 Ljava/io/PrintStream; 2 0000 0005 Ljava/lang/Object; 3 0000 0006 Ljava/lang/String; 4 0000 0007 Ljava/lang/System; 5 0000 0008 V 6 0000 000a [Ljava/lang/String; proto_idsæ–¹æ³•åŸå‹idåŒºï¼Œè¿™ä¸ªåŒºå—æ˜¯ä¸€ä¸ªæ–¹æ³•åŸå‹ id åˆ—è¡¨ã€‚ ä»DexFile.hä¸­å¯ä»¥æ‰¾åˆ°å…¶å®šä¹‰ï¼š 12345678/* * Direct-mapped &quot;proto_id_item&quot;. */struct DexProtoId &#123; u4 shortyIdx; /* index into stringIds for shorty descriptor */ u4 returnTypeIdx; /* index into typeIds list for return type */ u4 parametersOff; /* file offset to type_list for parameter types */&#125;; å„ä¸ªå­—æ®µçš„è§£é‡Šå¦‚ä¸‹ï¼š img å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ•°æ®ç»“æ„ç”±ä¸‰ä¸ªå˜é‡ç»„æˆã€‚ç¬¬ä¸€ä¸ªshortyIdxå®ƒæŒ‡å‘çš„æ˜¯æˆ‘ä»¬ä¸Šé¢åˆ†æçš„DexStringIdåˆ—è¡¨çš„ç´¢å¼•ï¼Œä»£è¡¨çš„æ˜¯æ–¹æ³•å£°æ˜å­—ç¬¦ä¸²ã€‚ç¬¬äºŒä¸ªreturnTypeIdxå®ƒæŒ‡å‘çš„æ˜¯ æˆ‘ä»¬ä¸Šè¾¹åˆ†æçš„DexTypeIdåˆ—è¡¨çš„ç´¢å¼•ï¼Œä»£è¡¨çš„æ˜¯æ–¹æ³•è¿”å›ç±»å‹å­—ç¬¦ä¸²ã€‚ç¬¬ä¸‰ä¸ªparametersOffæŒ‡å‘çš„æ˜¯DexTypeListçš„ä½ç½®ç´¢å¼•ï¼Œè¿™åˆæ˜¯ä¸€ä¸ªæ–°çš„æ•°æ®ç»“æ„äº†ï¼Œå…ˆè¯´ä¸€ä¸‹è¿™é‡Œé¢ å­˜å‚¨çš„æ˜¯æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ã€‚å¯ä»¥çœ‹åˆ°è¿™ä¸‰ä¸ªå‚æ•°ï¼Œæœ‰æ–¹æ³•å£°æ˜å­—ç¬¦ä¸²ï¼Œæœ‰è¿”å›ç±»å‹ï¼Œæœ‰æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ï¼Œè¿™åŸºæœ¬ä¸Šå°±ç¡®å®šäº†æˆ‘ä»¬ä¸€ä¸ªæ–¹æ³•çš„å¤§ä½“å†…å®¹ã€‚ parametersOffæŒ‡å‘DexTypeListï¼Œæˆ‘ä»¬çœ‹ä¸‹DexTypeListçš„æ•°æ®ç»“æ„ï¼š 1234struct DexTypeList &#123; u4 size; /* #of entries in list */ DexTypeItem list[1]; /* entries */&#125;; åŒ…å«2ä¸ªå­—æ®µï¼Œç¬¬ä¸€ä¸ªæ˜¯å¤§å°è¯´çš„æ˜¯DexTypeItemçš„ä¸ªæ•°ã€‚ é‚£DexTypeItemåˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å†çœ‹ä¸‹å…¶æ•°æ®ç»“æ„ï¼š 123struct DexTypeItem &#123; u2 typeIdx; /* index into typeIds */&#125;; åŒ…å«ä¸€ä¸ªæŒ‡å‘DexTypeIdåˆ—è¡¨çš„ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯ä»£è¡¨å‚æ•°åˆ—è¡¨ä¸­æŸä¸€ä¸ªå…·ä½“çš„å‚æ•°çš„ä½ç½®ã€‚ protoIdsSizeä¸º0000 0003ï¼ŒprotoIdsOffä¸º0000 00c4ï¼Œæ‰¾åˆ°åœ°å€ä¸º0000 00c4ç„¶åå–å‡ºåè¾¹3*12ä¸ªå­—èŠ‚(ä¸ºå•¥æ˜¯12ï¼Œå› ä¸ºæ¯ä¸€ä¸ªproto_idæ•°æ®ç»“æ„å 12ä¸ªå­—èŠ‚)ï¼š 1230800 0000 0500 0000 0000 00000900 0000 0500 0000 6801 00000900 0000 0500 0000 7001 0000 å…ˆå¯¹ç¬¬ä¸€ä¸ªæ–¹æ³•åŸå‹è¿›è¡Œåˆ†æï¼Œå‰å››ä¸ªå­—èŠ‚0000 0008ä¸ºshorty_idsï¼Œå¯¹åº”string_idsçš„ç´¢å¼•ï¼ŒæŸ¥ä¸Šé¢string_idså­—ç¬¦ä¸²çš„è¡¨æ ¼çŸ¥å…¶ä¸ºVï¼Œå³æ–¹æ³•æè¿°çŸ­æ ¼å¼ä¸ºvoid()ã€‚ä¸­é—´å››ä¸ªå­—èŠ‚0000 0005ä¸ºreturn_type_idxï¼Œå¯¹åº”type_idsçš„ç´¢å¼•ï¼ŒæŸ¥ä¸Šé¢çš„type_idsç±»å‹åŒºåŸŸè¡¨æ ¼çŸ¥å…¶ä¸ºVï¼Œå³è¿”å›å€¼ç±»å‹ä¸ºvoidã€‚æœ€åå››ä¸ªå­—èŠ‚ä¸º0000 0000ï¼Œå³ä»£è¡¨æ–¹æ³•æ— å‚æ•°ã€‚ åœ¨çœ‹ç¬¬äºŒä¸ªæ–¹æ³•åŸå‹ã€‚å‰å››ä¸ªå­—èŠ‚0000 0009ä¸ºshort_idsï¼Œå¯¹åº”string_idsçš„ç´¢å¼•ï¼ŒæŸ¥ä¸Šé¢string_idså­—ç¬¦ä¸²çš„è¡¨æ ¼çŸ¥å…¶ä¸ºVLã€‚ä¸­é—´å››ä¸ªå­—èŠ‚ä¸º0000 0005ä¸ºreturn_type_idxï¼Œå¯¹åº”type_idxçš„ç´¢å¼•ï¼ŒæŸ¥ä¸Šé¢çš„type_idsç±»å‹åŒºåŸŸè¡¨æ ¼çŸ¥å…¶ä¸ºVï¼Œå³è¿”å›å€¼ç±»å‹ä¸ºvoidã€‚æœ€åå››ä¸ªå­—èŠ‚ä¸º0000 0168ï¼Œæ‰¾åˆ°168hè¿™ä¸ªåœ°å€å¦‚ä¸‹ï¼š image-20220121150146530 è¿™é‡ŒDexTypeListæ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å…ˆçœ‹å‰4ä¸ªå­—èŠ‚ï¼Œä»£è¡¨DexTypeItemçš„ä¸ªæ•°ï¼Œ0000 0001ä¹Ÿå°±æ˜¯1ï¼Œè¯´æ˜åªæœ‰ä¸€ä¸ªDexTypeItemï¼Œæ¯ä¸€ä¸ªå 2ä¸ªå­—èŠ‚ï¼Œå°±æ˜¯00 03ï¼ŒæŸ¥çœ‹type_idsè¡¨æ ¼ï¼Œæ‰¾åˆ°ç´¢å¼•ä¸º3çš„ï¼Œå³Ljava/lang/String;ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªStringç±»å‹çš„å‚æ•°ã€‚ç¬¬ä¸‰ä¸ªæ–¹æ³•åŸå‹ç±»ä¼¼ï¼Œå°±ä¸å±•å¼€äº†ã€‚æ•´ç†ä¸‰ä¸ªæ–¹æ³•åŸå‹å¦‚ä¸‹è¡¨æ ¼ï¼š ç´¢å¼• æ–¹æ³•æè¿°çŸ­æ ¼å¼ è¿”å›å€¼ç±»å‹ å‚æ•°ç±»å‹ æ–¹æ³•åŸå‹ 0 V V æ— å‚æ•° void() 1 VL V Ljava/lang/String; void(java.lang.String) 2 VL V [Ljava/lang/String; void(java.lang.String[]) field_idsæˆå‘˜idåŒºã€‚è¿™ä¸ªåŒºåŸŸæ˜¯ä¸€ä¸ªç±»æˆå‘˜idåŒºåŸŸåˆ—è¡¨ã€‚å®šä¹‰å¦‚ä¸‹ï¼š 12345678/* * Direct-mapped &quot;field_id_item&quot;. */struct DexFieldId &#123; u2 classIdx; /* index into typeIds list for defining class */ u2 typeIdx; /* index into typeIds for field type */ u4 nameIdx; /* index into stringIds for field name */&#125;; å„å­—æ®µçš„è§£é‡Šå¦‚ä¸‹ï¼š img è¿™é‡Œæˆ‘ä»¬Hello.dexçš„fieldIdsSizeä¸º0000 0001ï¼Œè¯´æ˜åªå­˜åœ¨ä¸€ä¸ªDexFieldï¼ŒfieldIdOffä¸º0000 00e8ï¼Œæ‰¾åˆ°åœ°å€ä¸ºe8hç„¶åå–å‡ºåè¾¹8ä¸ªå­—èŠ‚ï¼Œå³04 00 01 00 0c 00 00 00ï¼Œå…¶ä¸­å‰2ä¸ªå­—èŠ‚0004ï¼Œè¡¨ç¤ºclass_idxï¼Œè¡¨ç¤ºæˆå‘˜æ‰€åœ¨çš„ç±»åœ¨ç±»å‹åŒºåŸŸçš„ç´¢å¼•ï¼ŒæŸ¥è¡¨å¾—Ljava/lang/System;ã€‚ä¸­é—´2ä¸ªå­—èŠ‚0001ï¼Œè¡¨ç¤ºtype_idxï¼Œè¡¨ç¤ºè¯¥æˆå‘˜è‡ªèº«çš„ç±»å‹åœ¨ç±»å‹åŒºåŸŸçš„ç´¢å¼•ï¼ŒæŸ¥è¡¨å¾—Ljava/io/PrintStream;ã€‚æœ€å4ä¸ªå­—èŠ‚0000 000cï¼Œè¡¨ç¤ºname_idxï¼Œè¡¨ç¤ºè¯¥æˆå‘˜çš„åå­—åœ¨å­—ç¬¦ä¸²åŒºåŸŸçš„ç´¢å¼•ï¼ŒæŸ¥è¡¨å¾—outã€‚æ‰€ä»¥Hello.dexä¸­ä»…åŒ…å«ä¸€ä¸ªæˆå‘˜ä¸ºjava.io.PrintStream java.lang.System.outã€‚ method_idsæ–¹æ³•idåŒºï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯å­˜å‚¨æ–¹æ³•idçš„åˆ—è¡¨ã€‚æ•°æ®æ ¼å¼ä¸ºï¼š 12345678/* * Direct-mapped &quot;method_id_item&quot;. */struct DexMethodId &#123; u2 classIdx; /* index into typeIds list for defining class */ u2 protoIdx; /* index into protoIds for method prototype */ u4 nameIdx; /* index into stringIds for method name */&#125;; è§£é‡Šå¦‚ä¸‹ï¼š img methodIdsSizeå’ŒmethodIdsOffåˆ†è¡¨ä¸º0000 0004å’Œ0000 00f0ï¼Œå³è¯¥dexæ–‡ä»¶ä¸€å…±åŒ…å«4ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•idåŒºçš„åç§»åœ°å€ä¸ºf0hï¼Œæˆ‘ä»¬æ‰¾åˆ°è¿™ä¸ªåœ°å€ï¼Œç„¶åå–å‡ºåè¾¹4*(2+2+4)ä¸ªå­—èŠ‚ï¼Œå¦‚ä¸‹ï¼š 12340000 0000 0000 0000 0000 0200 0b00 00000100 0100 0d00 0000 0200 0000 0000 0000 ç„¶åæ ¹æ®DexMethodIdæ•°æ®ç»“æ„ï¼ŒæŸ¥ä¸Šè¾¹çš„type_idsè¡¨æ ¼ï¼Œproto_idsè¡¨æ ¼ä»¥åŠstring_idsè¡¨æ ¼ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€å±•å¼€äº†ï¼Œç»“æœæ•´ç†å¦‚ä¸‹ï¼š åºå· class_idx proto_idx name_idx æ–¹æ³• 0 LHello; void() \\ void Hello.\\() 1 LHello; void(java.lang.String[]) main void Hello.main(java.lang.String[]) 2 Ljava/io/PrintStream; void(java.lang.String) println void java.io.PrintStream.println(java.lang.String) 3 Ljava/lang/Object; void() \\ void java.lang.Object.\\() class_defç±»å®šä¹‰åŒºã€‚è¿™ä¸ªåŒºåŸŸå­˜å‚¨çš„æ˜¯ç±»å®šä¹‰çš„åˆ—è¡¨ï¼Œå…·ä½“çš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š 12345678910111213/* * Direct-mapped &quot;class_def_item&quot;. */struct DexClassDef &#123; u4 classIdx; /* index into typeIds for this class */ u4 accessFlags; u4 superclassIdx; /* index into typeIds for superclass */ u4 interfacesOff; /* file offset to DexTypeList */ u4 sourceFileIdx; /* index into stringIds for source file name */ u4 annotationsOff; /* file offset to annotations_directory_item */ u4 classDataOff; /* file offset to class_data_item */ u4 staticValuesOff; /* file offset to DexEncodedArray */&#125;; å„å­—æ®µçš„å«ä¹‰å¦‚ä¸‹ï¼š img åœ¨å¼€å§‹åˆ†æè¿™ä¸ªç±»çš„ç»“æ„ä¹‹å‰ï¼Œå…ˆçœ‹DexFile.hä¸­å®šä¹‰çš„ä¸€ç»„æšä¸¾å€¼ï¼š 1234567891011121314151617181920212223enum &#123; ACC_PUBLIC = 0x00000001, // class, field, method, ic ACC_PRIVATE = 0x00000002, // field, method, ic ACC_PROTECTED = 0x00000004, // field, method, ic ACC_STATIC = 0x00000008, // field, method, ic ACC_FINAL = 0x00000010, // class, field, method, ic ACC_SYNCHRONIZED = 0x00000020, // method (only allowed on natives) ACC_SUPER = 0x00000020, // class (not used in Dalvik) ACC_VOLATILE = 0x00000040, // field ACC_BRIDGE = 0x00000040, // method (1.5) ACC_TRANSIENT = 0x00000080, // field ACC_VARARGS = 0x00000080, // method (1.5) ACC_NATIVE = 0x00000100, // method ACC_INTERFACE = 0x00000200, // class, ic ACC_ABSTRACT = 0x00000400, // class, method, ic ACC_STRICT = 0x00000800, // method ACC_SYNTHETIC = 0x00001000, // field, method, ic ACC_ANNOTATION = 0x00002000, // class, ic (1.5) ACC_ENUM = 0x00004000, // class, field, ic (1.5) ACC_CONSTRUCTOR = 0x00010000, // method (Dalvik only) ACC_DECLARED_SYNCHRONIZED = // ...&#125;; classDefsSizeå’ŒclassDefsOffåˆ†åˆ«ä¸º0000 0001å’Œ0000 0110ã€‚å³åªæœ‰ä¸€ä¸ªç±»å®šä¹‰ï¼Œå…¶åç§»åœ°å€ä¸º110hï¼Œæˆ‘ä»¬æ‰¾åˆ°è¯¥åœ°å€ï¼Œå¹¶å–å‡º32ä¸ªå­—èŠ‚ï¼š 10000 0000 0100 0000 0200 0000 0000 0000 0200 0000 0000 0000 3102 0000 0000 0000 å‰4ä¸ªå­—èŠ‚ä»£è¡¨ç±»çš„ç±»å‹ï¼Œä¸º0000 0000æŸ¥è¡¨çŸ¥ä¸ºLHello;ã€‚æ¥ä¸‹æ¥4ä¸ªå­—èŠ‚ä¸ºç±»çš„è®¿é—®æƒé™ï¼Œä¸º0000 0001ï¼Œè®°å¾—æˆ‘ä»¬ä¸Šè¾¹åˆšæåˆ°çš„é‚£ä¸ªæšä¸¾å€¼å®šä¹‰å—ï¼Œ1ä»£è¡¨ACC_PUBLICå³Publicè®¿é—®æƒé™ã€‚æ¥ä¸‹æ¥4ä¸ªå­—èŠ‚0000 0002ä¸ºçˆ¶ç±»å¯¹åº”çš„ç±»å‹ï¼ŒæŸ¥è¡¨çŸ¥ä¸ºLjava/lang/Object;ã€‚ç„¶åå››ä¸ªå­—èŠ‚0000 0000ä¸ºè¿™ä¸ªç±»å®ç°çš„æ¥å£åœ¨dexæ–‡ä»¶ä¸­çš„åç§»ï¼Œå› ä¸ºæˆ‘ä»¬è¿™ä¸ªç±»æ²¡æœ‰å®ç°æ¥å£ï¼Œæ‰€ä»¥è¿™é‡Œä¸º0000 0000ã€‚ç´§æ¥ç€çš„å››ä¸ªå­—èŠ‚0000 0002æŸ¥è¡¨çŸ¥ä¸ºHello.javaä¸ºè¯¥ç±»ç±»æºç æ‰€åœ¨çš„æ–‡ä»¶ã€‚ç„¶å4ä¸ªå­—èŠ‚ä¸ºè¯¥ç±»çš„æ³¨è§£åœ¨æ–‡ä»¶ä¸­çš„åç§»ï¼Œå¾ˆæ˜¾ç„¶è¿™ä¸ªç±»æ²¡æœ‰æ³¨è§£ï¼Œæ‰€ä»¥ä¸º0000 0000ã€‚æ¥ä¸‹æ¥çš„4ä¸ªå­—èŠ‚åˆ™æ˜¯è¡¨ç¤ºè¯¥ç±»çš„å…·ä½“æ•°æ®åœ¨æ–‡ä»¶ä¸­çš„åç§»ï¼Œè¿™é‡Œå…ˆä¸è®¨è®ºï¼Œåè¾¹ä¼šé’ˆå¯¹ç±»æ•°æ®åŒºä¸“é—¨è®¨è®ºã€‚æœ€å4ä¸ªå­—èŠ‚è¡¨ç¤ºé™æ€æˆå‘˜åˆå§‹å€¼åˆ—è¡¨åœ¨æ–‡ä»¶ä¸­çš„åç§»ï¼Œå¾ˆæ˜¾ç„¶æˆ‘ä»¬è¿™ä¸ªç±»æ²¡æœ‰é™æ€æˆå‘˜ã€‚æ•´ç†ä¸€ä¸‹å¦‚ä¸‹ï¼š ç±»çš„ç±»å‹ ç±»çš„æƒé™ çˆ¶ç±»çš„ç±»å‹ å®ç°çš„æ¥å£ ç±»å®šä¹‰æ‰€åœ¨çš„æ–‡ä»¶ ç±»æ³¨è§£ ç±»å…·ä½“æ•°æ® é™æ€æˆå‘˜åˆå§‹å€¼åˆ—è¡¨ Hello ACC_PUBLIC java.lang.Object æ—  Hello.java æ—  åç§»å€¼0000 0231 æ—  æ€»ç»“æœ¬æ–‡å¯¹dexæ–‡ä»¶ç»“æ„è¿›è¡Œäº†ä¸€ä¸ªç®€å•çš„å‰–æï¼Œè®©æˆ‘ä»¬å¯¹dexæ–‡ä»¶ç»“æ„æœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„è®¤è¯†ã€‚æœ€åé™„ä¸Šä¸€ä¸ªdexæ–‡ä»¶ç»“æ„å›¾ä»¥åŠæ€ç»´å›¾å¸®åŠ©æˆ‘ä»¬è®°å¿†dexæ–‡ä»¶ç»“æ„ã€‚ dexæ–‡ä»¶å±‚æ¬¡ç»“æ„å›¾ï¼š img dexæ–‡ä»¶ç»“æ„æ€ç»´å¯¼å›¾ï¼š img å‚è€ƒèµ„æ–™Androidé€†å‘ç¬”è®° â€”â€” DEX æ–‡ä»¶æ ¼å¼è§£æ æµ…è°ˆ Android Dex æ–‡ä»¶ ä¸€æ–‡è¯»æ‡‚ DEX æ–‡ä»¶æ ¼å¼è§£æ ä¸€ç¯‡æ–‡ç« å¸¦ä½ ææ‡‚DEXæ–‡ä»¶çš„ç»“æ„ DexFile.h Androidè½¯ä»¶å®‰å…¨ä¸é€†å‘åˆ†æ-éè™«","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"android","slug":"android","permalink":"https://blog.heshipeng.com/tags/android/"}]},{"title":"Androidé€†å‘ä¹‹åŠ¨æ€åŠ è½½","date":"2022-01-15T15:40:22.000Z","path":"Androidé€†å‘ä¹‹åŠ¨æ€åŠ è½½/","text":"åŠ¨æ€åŠ è½½å¼€å§‹æ­£é¢˜ä¹‹å‰ï¼Œåœ¨è¿™é‡Œå¯ä»¥å…ˆç»™åŠ¨æ€åŠ è½½æŠ€æœ¯åšä¸€ä¸ªç®€å•çš„å®šä¹‰ã€‚çœŸæ­£çš„åŠ¨æ€åŠ è½½åº”è¯¥æ˜¯ åº”ç”¨åœ¨è¿è¡Œçš„æ—¶å€™é€šè¿‡åŠ è½½ä¸€äº›æœ¬åœ°ä¸å­˜åœ¨çš„å¯æ‰§è¡Œæ–‡ä»¶å®ç°ä¸€äº›ç‰¹å®šçš„åŠŸèƒ½ã€‚ è¿™äº›å¯æ‰§è¡Œæ–‡ä»¶æ˜¯å¯ä»¥æ›¿æ¢çš„ã€‚ æ›´æ¢é™æ€èµ„æº(æ¯”å¦‚æ¢å¯åŠ¨å›¾ã€æ¢ä¸»é¢˜ã€æˆ–è€…ç”¨æœåŠ¡å™¨å‚æ•°å¼€å…³æ§åˆ¶å¹¿å‘Šçš„éšè—ç°å®ç­‰)ä¸å±äºåŠ¨æ€åŠ è½½ã€‚ Androidä¸­åŠ¨æ€åŠ è½½çš„æ ¸å¿ƒæ€æƒ³æ˜¯åŠ¨æ€è°ƒç”¨å¤–éƒ¨çš„ dexæ–‡ä»¶ï¼Œæç«¯çš„æƒ…å†µä¸‹ï¼ŒAndroid APKè‡ªèº«å¸¦æœ‰çš„Dexæ–‡ä»¶åªæ˜¯ä¸€ä¸ªç¨‹åºçš„å…¥å£(æˆ–è€…è¯´ç©ºå£³)ï¼Œæ‰€æœ‰çš„åŠŸèƒ½éƒ½é€šè¿‡ä»æœåŠ¡å™¨ä¸‹è½½æœ€æ–°çš„Dexæ–‡ä»¶å®Œæˆã€‚ ä¸¤ä¸ªç–‘é—®ğŸ¤”æå‡ºä¸¤ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ï¼Œå¦‚ä½•åœ¨Androidç¨‹åºä¸­åŠ è½½å¤–éƒ¨dexçš„classï¼›ç¬¬äºŒï¼Œå¯¹äºæœ‰ç”Ÿå‘½å‘¨æœŸçš„ç»„ä»¶(æ¯”å¦‚Activityè¿™ç§ç±»)è¯¥å¦‚ä½•åŠ è½½ï¼Ÿæœ¬æ–‡çš„ç›®çš„å°±æ˜¯é€šè¿‡è§£å†³è¿™2ä¸ªé—®é¢˜ä»è€Œå¯¹Androidçš„åŠ¨æ€åŠ è½½æŠ€æœ¯æœ‰ä¸€å®šçš„äº†è§£ã€‚ ç±»åŠ è½½å™¨ä¸åŒäº²å§”æ´¾è¦è§£å†³è¿™ä¿©é—®é¢˜ï¼Œé¦–å…ˆè¦äº†è§£å‡ ä¸ªæ¦‚å¿µã€‚ ç±»åŠ è½½å™¨ç±»åŠ è½½å™¨é¡¾åæ€ä¹‰æ˜¯ç”¨æ¥è¿›è¡Œç±»çš„åŠ è½½ã€‚åˆ†åˆ«çœ‹ä¸‹JVMçš„ç±»åŠ è½½å™¨å’ŒAndroidçš„ç±»åŠ è½½å™¨ã€‚ JVMçš„ç±»åŠ è½½å™¨JVMçš„ç±»åŠ è½½å™¨åŒ…æ‹¬3ç§ï¼š Bootstrap ClassLoader(å¼•å¯¼ç±»åŠ è½½å™¨) C/C++ä»£ç å®ç°çš„åŠ è½½å™¨ï¼Œç”¨äºåŠ è½½æŒ‡å®šçš„JDKçš„æ ¸å¿ƒç±»åº“ï¼Œæ¯”å¦‚java.langï¼Œjava.utilç­‰è¿™äº›ç³»ç»Ÿç±»ã€‚Javaè™šæ‹Ÿæœºçš„å¯åŠ¨å°±æ˜¯é€šè¿‡Bootstrapï¼Œè¯¥Classloaderåœ¨javaé‡Œæ— æ³•è·å–ï¼Œè´Ÿè´£åŠ è½½/libä¸‹çš„ç±»ã€‚ Extensions ClassLoader(æ‹“å±•ç±»åŠ è½½å™¨) Javaä¸­çš„å®ç°ç±»ä¸ºExtClassLoaderï¼Œæä¾›äº†é™¤äº†ç³»ç»Ÿç±»ä¹‹å¤–çš„é¢å¤–åŠŸèƒ½ï¼Œå¯ä»¥åœ¨Javaé‡Œè·å–ï¼Œè´Ÿè´£åŠ è½½/lib/extä¸‹çš„ç±»ã€‚ Application ClassLoader(åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨) Javaä¸­çš„å®ç°ç±»ä¸ºAppClassLoaderï¼Œæ˜¯ä¸æˆ‘ä»¬æ¥è§¦æœ€å¤šçš„ç±»åŠ è½½å™¨ï¼Œå¼€å‘äººå‘˜å†™çš„ä»£ç é»˜è®¤å°±æ˜¯ç”±å®ƒæ¥åŠ è½½ï¼ŒClassLoader.getSystemCLassLoaderè¿”å›çš„å°±æ˜¯å®ƒã€‚ åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œåªéœ€è¦é€šè¿‡ç»§æ‰¿java.lang.ClassLoaderç±»çš„æ–¹å¼æ¥å®ç°è‡ªå·±çš„ç±»åŠ è½½å™¨å³å¯ã€‚ Androidä¸­çš„ç±»åŠ è½½å™¨é¦–å…ˆé€šè¿‡ä¸€å¼ å›¾ï¼Œäº†è§£å„ä¸ªåŠ è½½å™¨ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ã€‚ image è¯¦ç»†çœ‹ä¸‹å„ä¸ªç±»åŠ è½½å™¨çš„ä½œç”¨ï¼š ClassLoaderä¸ºæŠ½è±¡ç±»ï¼› BootClassLoaderé¢„åŠ è½½å¸¸ç”¨ç±»ï¼Œå•ä¾‹æ¨¡å¼ã€‚ä¸Javaä¸­çš„BootClassLoaderä¸åŒï¼Œå®ƒå¹¶ä¸æ˜¯ç”±C/C++ä»£ç å®ç°ï¼Œè€Œæ˜¯ç”±Javaå®ç°çš„ï¼› BaseDexClassLoaderæ˜¯PathClassLoader, DexClassLoader, InMemoryDexClassLoaderçš„çˆ¶ç±»ï¼Œç±»åŠ è½½çš„ä¸»è¦é€»è¾‘éƒ½æ˜¯åœ¨BaseDexClassLoaderå®Œæˆçš„ï¼› SecureClassLoaderç»§æ‰¿äº†æŠ½è±¡ç±»ClassLoaderï¼Œæ‹“å±•äº†ClassLoaderç±»åŠ å…¥äº†æƒé™æ–¹é¢çš„åŠŸèƒ½ï¼ŒåŠ å¼ºäº†å®‰å…¨æ€§ï¼Œå…¶å­ç±»URLClassLoaderæ˜¯ç”¨URLè·¯å¾„ä»jaræ–‡ä»¶ä¸­åŠ è½½ç±»å’Œèµ„æºã€‚ PathClassLoaderæ˜¯Androidé»˜è®¤ä½¿ç”¨çš„ç±»åŠ è½½å™¨ï¼Œä¸€ä¸ªapkä¸­çš„Activityç­‰ç±»ä¾¿æ˜¯åœ¨å…¶ä¸­åŠ è½½ã€‚ DexClassLoaderå¯ä»¥åŠ è½½ä»»æ„ç›®å½•ä¸‹çš„dex/jar/apk/zipæ–‡ä»¶ï¼Œæ¯”PathClassLoaderæ›´çµæ´»ï¼Œæ˜¯å®ç°æ’ä»¶åŒ–ï¼Œçƒ­ä¿®å¤ä»¥åŠdexåŠ å£³çš„é‡ç‚¹ã€‚ InMemoryDexClassLoaderæ˜¯8.0å¼•å…¥çš„ï¼Œæ˜¯ç”¨äºç›´æ¥ä»å†…å­˜ä¸­åŠ è½½dexã€‚ å…¶ä¸­é‡ç‚¹å…³æ³¨çš„æ˜¯ï¼šPathClassLoaderå’ŒDexClassLoaderï¼Œå› ä¸ºè¿™2ä¸ªç±»åŠ è½½å™¨æ˜¯æˆ‘ä»¬è§£å†³ä¸Šé¢2ä¸ªé—®é¢˜çš„å…³é”®ï¼Œä¹Ÿæ˜¯è¿™ä¸ªåŠ¨æ€åŠ è½½ä¸­éå¸¸é‡è¦çš„çš„ç±»åŠ è½½å™¨ã€‚ ç±»åŠ è½½çš„æ—¶æœº éšå¼åŠ è½½ã€‚ åˆ›å»ºç±»çš„å®ä¾‹ã€‚ è®¿é—®ç±»çš„é™æ€å˜é‡ï¼Œæˆ–è€…ä¸ºé™æ€å˜é‡èµ‹å€¼ã€‚ è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•ã€‚ ä½¿ç”¨åå°„æ–¹å¼æ¥å¼ºåˆ¶åˆ›å»ºæŸä¸ªç±»æˆ–è€…æ¥å£å¯¹åº”çš„java.lang.Classå¯¹è±¡ã€‚ æ˜¾å¼åŠ è½½ã€‚ ä½¿ç”¨LoadClass()åŠ è½½ã€‚ ä½¿ç”¨forName()åŠ è½½ã€‚ ç±»åŠ è½½çš„æ­¥éª¤ è£…è½½ã€‚æŸ¥æ‰¾å’Œå¯¼å…¥Classæ–‡ä»¶ã€‚ é“¾æ¥ã€‚å…¶ä¸­è§£ææ­¥éª¤æ˜¯å¯ä»¥é€‰æ‹©çš„ã€‚ æ£€æŸ¥ï¼šæ£€æŸ¥è½½å…¥çš„classæ–‡ä»¶æ•°æ®çš„æ­£ç¡®æ€§ã€‚ å‡†å¤‡ï¼šç»™ç±»çš„é™æ€å˜é‡åˆ†é…å­˜å‚¨ç©ºé—´ã€‚ è§£æï¼šå°†ç¬¦å·å¼•ç”¨è½¬æ¢æˆç›´æ¥å¼•ç”¨ã€‚ åˆå§‹åŒ–ï¼šå³è°ƒç”¨å‡½æ•°ï¼Œå¯¹é™æ€å˜é‡ï¼Œé™æ€ä»£ç å—æ‰§è¡Œåˆå§‹åŒ–å·¥ä½œã€‚ image ç¼–å†™ä»£ç æµ‹è¯•Android ClassLoaderçš„ç»§æ‰¿å…³ç³»åŠ¨æ‰‹ä¹‹å‰å…ˆé€šè¿‡Androidæºç é˜…è¯»ç½‘ç«™ï¼Œçœ‹ä¸‹ClassLoaderçš„æºç ï¼š æ‰“å¼€AndroidXRefï¼ŒDefinitionå¡«å†™ClassLoaderï¼Œæœç´¢åŒ…ä½ç½®libcoreï¼Œå¦‚æœä¸ç¡®å®šä½ç½®ï¼Œå¯ä»¥é€‰ä¸­å…¨éƒ¨ï¼Œåªä¸è¿‡æœç´¢å‡ºæ¥çš„ç»“æœä¸æ¯”è¾ƒå¤šï¼Œç­›é€‰èµ·æ¥éº»çƒ¦ä¸€äº›ã€‚æœç´¢å‡ºæ¥ä¸€ä¸ªClassLoader.javaæ–‡ä»¶ï¼Œç‚¹å‡»è¿›å…¥ï¼š 123456789101112131415public abstract class ClassLoader &#123; // çœç•¥ // The parent class loader for delegation // Note: VM hardcoded the offset of this field, thus all new fields // must be added *after* it. private final ClassLoader parent; @CallerSensitive public final ClassLoader getParent() &#123; return parent; &#125; // çœç•¥ &#125; è¿™é‡Œå…³æ³¨ä¸€ä¸ªå±æ€§å’Œä¸€ä¸ªæˆå‘˜æ–¹æ³•ï¼Œé€šè¿‡ç»„åˆå…³ç³»parentæ¥æ ‡è¯†æ¯ä¸€ä¸ªClassLoaderçš„çˆ¶äº²ï¼Œè¿™ä¸ªparentæ˜¯å®ç°åŒäº²å§”æ´¾çš„å…³é”®ï¼Œè°ƒç”¨getParentæˆå‘˜æ–¹æ³•åˆ™å¯ä»¥è·å–åˆ°parentå±æ€§ã€‚ çœ‹äº†è¿™ä¹ˆå¤šç†è®ºï¼Œæ²¡æœ‰åŠ¨æ‰‹codingå»å®è·µï¼Œæœ‰ä¸€ç‚¹æ¯ç‡¥ï¼Œæ¥ä¸‹æ¥ç¼–å†™ä¸€ä¸ªdemoå»æµ‹è¯•ä¸€ä¸‹Androidçš„ClassLoaderä¹‹é—´çš„ç»§æ‰¿å…³ç³»ã€‚ æ–°å»ºä¸€ä¸ªé¡¹ç›®ClassLoaderTestï¼Œç„¶åç¼–ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738package com.example.classloadertest;import androidx.appcompat.app.AppCompatActivity;import android.content.Context;import android.os.Bundle;import android.util.Log;public class MainActivity extends AppCompatActivity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); testClassLoader(); &#125; public void testClassLoader() &#123; // è·å–å½“å‰çš„ClassLoader Context context = getApplicationContext(); ClassLoader thisClassLoader = context.getClassLoader(); // æˆ–è€…ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹å¼ï¼š // ClassLoader thisClassLoader = MainActivity.class.getClassLoader(); Log.i(&quot;kanxue&quot;, &quot;thisClassLoader:&quot; + thisClassLoader); ClassLoader tmpClassLoader = null; ClassLoader parentClassLoader = thisClassLoader.getParent(); // å‘ä¸Šéå†classLoader while (parentClassLoader != null) &#123; Log.i(&quot;kanxue&quot;, &quot;this:&quot; + thisClassLoader + &quot;, parent:&quot; + parentClassLoader); tmpClassLoader = parentClassLoader.getParent(); thisClassLoader = parentClassLoader; parentClassLoader = tmpClassLoader; &#125; Log.i(&quot;kanxue&quot;, &quot;root:&quot; + thisClassLoader); &#125;&#125; ä»£ç æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œä¹Ÿæ˜¯ç›´æ¥ç”¨äº†ä¸Šé¢æºç åˆ†æçš„getParentæ–¹æ³•ï¼Œé€šè¿‡getParentæ–¹æ³•æ‹¿åˆ°parentï¼Œç„¶åä¸€å±‚å±‚çš„å‘ä¸Šéå†ï¼Œä»è€Œæµ‹è¯•å‡ºå„ä¸ªClassLoaderçš„ç»§æ‰¿å…³ç³»ã€‚ æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š image åŒäº²å§”æ´¾åŒäº²å§”æ´¾çš„å·¥ä½œåŸç†å¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½è¯·æ±‚ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªå·±å…ˆå»åŠ è½½ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»çš„åŠ è½½å™¨å»æ‰§è¡Œï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨è¿˜å­˜åœ¨å…¶çˆ¶ç±»åŠ è½½å™¨ï¼Œåˆ™è¿›ä¸€æ­¥å‘ä¸Šå§”æ‰˜ï¼Œä¾æ¬¡é€’å½’ï¼Œè¯·æ±‚æœ€ç»ˆå°†åˆ°è¾¾é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨å¯ä»¥å®Œæˆç±»åŠ è½½ä»»åŠ¡ï¼Œå°±æˆåŠŸè¿”å›ï¼Œå€˜è‹¥çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ­¤åŠ è½½ä»»åŠ¡ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ï¼Œè¿™å°±æ˜¯åŒäº²å§”æ´¾æ¨¡å¼ï¼Œå³æ¯ä¸ªå„¿å­éƒ½ä¸æ„¿æ„å¹²æ´»ï¼Œæ¯æ¬¡æœ‰æ´»å°±ä¸¢ç»™çˆ¶äº²å»å¹²ï¼Œç›´åˆ°çˆ¶äº²è¯´è¿™ä»¶äº‹ä¹Ÿå¹²ä¸äº†æ—¶ï¼Œå„¿å­è‡ªå·±æƒ³åŠæ³•å»å®Œæˆï¼Œè¿™å°±æ˜¯åŒäº²å§”æ´¾ã€‚ image ä¸ºä»€ä¹ˆä¼šæœ‰åŒäº²å§”æ´¾ é¿å…é‡å¤åŠ è½½ï¼Œå¦‚æœå·²ç»åŠ è½½è¿‡ä¸€æ¬¡Classï¼Œå¯ä»¥ç›´æ¥è¯»å–å·²ç»åŠ è½½çš„Class æ›´åŠ å®Œå…¨ï¼Œæ— æ³•è‡ªå®šä¹‰ç±»æ¥ä»£æ›¿ç³»ç»Ÿçš„ç±»ï¼Œå¯ä»¥é˜²æ­¢æ ¸å¿ƒAPIåº“è¢«éšæ„ç¯¡æ”¹ã€‚ è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜é€šè¿‡å‰é¢çš„ç†è®ºçŸ¥è¯†ï¼Œæˆ‘ä»¬çŸ¥é“äº†DexClassLoaderå¯ä»¥åŠ è½½ä»»æ„ç›®å½•ä¸‹çš„dex/jar/apk/zipæ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚ ç”Ÿæˆä¸€ä¸ªç”¨æ¥æµ‹è¯•çš„dexæ–‡ä»¶ã€‚ åˆ›å»ºé¡¹ç›®DexLoaderTestï¼Œç„¶åæ–°å»ºClassï¼šTestCLassã€‚ 123456789package com.example.dexloadertest;import android.util.Log;public class TestClass &#123; public void testFunc() &#123; Log.i(&quot;kanxue&quot;, &quot;call from DexLoaderTest.TestClass.testFunc&quot;); &#125;&#125; ä»£ç æ¯”è¾ƒç®€å•ï¼Œåªæ˜¯ç®€å•çš„æ‰“å°äº†ä¸€æ¡æ—¥å¿—ã€‚ æ¥ç€ï¼Œæ‰“åŒ…è¯¥é¡¹ç›®ï¼Œå°†ç”Ÿæˆçš„apkè§£å‹ï¼Œå¾—åˆ°dexæ–‡ä»¶(å¦‚æœè§£å‹å¾—åˆ°å¤šä¸ªclasses.dexæ–‡ä»¶ï¼ŒæŸ¥çœ‹ä¸‹æˆ‘ä»¬ç¼–å†™çš„TestClassç±»åœ¨å“ªä¸ªclasses.dexæ–‡ä»¶)ï¼Œç„¶åå°†è¿™ä¸ªclasses.dexæ”¾åˆ°æ‰‹æœºçš„å†…å­˜å¡ï¼š 1adb push classes.dex /sdcard/ åŠ è½½sdcardä¸Šçš„dex ä¿®æ”¹DexLoaderTestï¼Œä¿®æ”¹å…¶MainActivityçš„ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142package com.example.dexloadertest;import androidx.appcompat.app.AppCompatActivity;import android.content.Context;import android.os.Bundle;import android.os.Environment;import java.io.File;import java.lang.reflect.InvocationTargetException;import java.lang.reflect.Method;import dalvik.system.DexClassLoader;public class MainActivity extends AppCompatActivity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); String sdcardPath = Environment.getExternalStorageDirectory().getAbsolutePath(); dexClassLoaderTest(getApplicationContext(), sdcardPath + File.separator + &quot;classes.dex&quot;); &#125; public void dexClassLoaderTest(Context context, String dexFilePath) &#123; Class&lt;?&gt; clazz; try &#123; DexClassLoader dexClassLoader = new DexClassLoader(dexFilePath, null, null, MainActivity.class.getClassLoader()); clazz = dexClassLoader.loadClass(&quot;com.example.dexclass.TestClass&quot;); if (clazz != null) &#123; Method testFuncMethod = clazz.getDeclaredMethod(&quot;testFunc&quot;); Object obj = clazz.newInstance(); testFuncMethod.invoke(obj); &#125; &#125; catch (ClassNotFoundException | NoSuchMethodException e) &#123; e.printStackTrace(); &#125; catch (IllegalAccessException e) &#123; e.printStackTrace(); &#125; catch (InstantiationException | InvocationTargetException e) &#123; e.printStackTrace(); &#125; &#125;&#125; ä»£ç ä¹Ÿä¸å¤æ‚ï¼Œé¦–å…ˆå®ä¾‹åŒ–ä¸€ä¸ªDexClassLoaderå¯¹è±¡ï¼Œç„¶åé€šè¿‡è¿™ä¸ªå¯¹è±¡åŠ è½½TestClassç±»ï¼Œç„¶åæ‹¿åˆ°testFuncæ–¹æ³•ï¼Œæœ€åé€šè¿‡åå°„è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è¿™é‡Œä¸»è¦å…³æ³¨çš„æ˜¯DexClassLoaderè¿™ä¸ªç±»ï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸‹æºç ï¼š 1234567891011121314151617181920212223public class DexClassLoader extends BaseDexClassLoader &#123;36 /**37 * Creates a &#123;@code DexClassLoader&#125; that finds interpreted and native38 * code. Interpreted classes are found in a set of DEX files contained39 * in Jar or APK files.40 *41 * &lt;p&gt;The path lists are separated using the character specified by the42 * &#123;@code path.separator&#125; system property, which defaults to &#123;@code :&#125;.43 *44 * @param dexPath the list of jar/apk files containing classes and45 * resources, delimited by &#123;@code File.pathSeparator&#125;, which46 * defaults to &#123;@code &quot;:&quot;&#125; on Android47 * @param optimizedDirectory this parameter is deprecated and has no effect since API level 26.48 * @param librarySearchPath the list of directories containing native49 * libraries, delimited by &#123;@code File.pathSeparator&#125;; may be50 * &#123;@code null&#125;51 * @param parent the parent class loader52 */53 public DexClassLoader(String dexPath, String optimizedDirectory,54 String librarySearchPath, ClassLoader parent) &#123;55 super(dexPath, null, librarySearchPath, parent);56 &#125;57&#125; å…¶æ„é€ å‡½æ•°éœ€è¦å››ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åŒ…å«èµ„æºæ–‡ä»¶çš„jar/apk/dexç­‰æ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚æœæœ‰å¤šä¸ªè·¯å¾„ï¼Œé€šè¿‡:åˆ†éš”ã€‚ç¬¬äºŒä¸ªå‚æ•°å·²ç»åºŸå¼ƒã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºnativeåº“çš„è·¯å¾„ï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿæ˜¯ç½®ä¸ºnullã€‚æœ€åä¸€ä¸ªæ˜¯parentç±»åŠ è½½å™¨ï¼Œæˆ‘ä»¬è®¾ç½®ä¸ºå½“å‰ç±»åŠ è½½å™¨å³å¯ã€‚ å› ä¸ºç”¨åˆ°å¯¹sdcardçš„è¯»å†™ï¼Œæ‰€ä»¥éœ€è¦åœ¨AndroidManifest.xmlä¸­æ·»åŠ ç›¸åº”çš„æƒé™ï¼š 12&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot; /&gt; è¿è¡Œç¨‹åºï¼Œç»“æœå¦‚ä¸‹ï¼š image è§£å†³ç¬¬äºŒä¸ªé—®é¢˜å¦‚æœä¸è€ƒè™‘åŒäº²å§”æ´¾ä»¥åŠActivityç”Ÿå‘½å‘¨æœŸçš„é—®é¢˜ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥ç”¨ç±»ä¼¼äºç¬¬ä¸€ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œé‡‡ç”¨DexClassLoaderåŠ è½½Activityç±»ï¼Œç„¶åä½¿ç”¨Intentç›´æ¥è®¿é—®è¿™ä¸ªActivityå‘¢ï¼Ÿè¯´å¹²å°±å¹²ã€‚ ç”Ÿæˆä¸€ä¸ªç”¨æ¥æµ‹è¯•çš„dex æ–°å»ºä¸€ä¸ªTestActivityæ–‡ä»¶ï¼Œç„¶åè®©TestActivityç»§æ‰¿AppCompatActivtyï¼Œå¹¶é‡å†™onCreateæ–¹æ³•ã€‚ 1234567public class TestActivity extends AppCompatActivity &#123; @Override protected void onCreate(@Nullable Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); Log.d(&quot;TestActivity&quot;, &quot;i am from TestActivity.onCreate&quot;); &#125;&#125; è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œä»…ä»…æ˜¯æ‰“å°ä¸€æ¡æ—¥å¿—ã€‚ åŒæ ·åœ°ï¼Œæ‰“åŒ…è¯¥é¡¹ç›®ï¼Œå°†ç”Ÿæˆçš„apkè§£å‹ï¼Œå¾—åˆ°dexæ–‡ä»¶ï¼Œç„¶åå°†è¿™ä¸ªclasses.dexæ”¾åˆ°æ‰‹æœºçš„å†…å­˜å¡ã€‚ 1adb push classes3.dex /sdcard/ åŠ è½½å¹¶å¯åŠ¨Activity ç¼–è¾‘DexClassLoaderï¼Œä¿®æ”¹MainActivityä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021public class MainActivity extends AppCompatActivity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); String sdcardPath = Environment.getExternalStorageDirectory().getAbsolutePath(); startActivityTest(this, sdcardPath + File.separator + &quot;classes3.dex&quot;); &#125; public void startActivityTest(Context context, String dexFilePath) &#123; Class&lt;?&gt; clazz = null; DexClassLoader dexClassLoader = new DexClassLoader(dexFilePath, null, null, MainActivity.class.getClassLoader()); try &#123; clazz = dexClassLoader.loadClass(&quot;com.example.dexclass.TestActivity&quot;); &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125; context.startActivity(new Intent(context, clazz)); &#125;&#125; å› ä¸ºæœ‰ç”¨åˆ°TestActivityï¼Œæ‰€ä»¥éœ€è¦åœ¨AndroidManifest.xmlä¸­å£°æ˜ï¼š 1&lt;activity android:name=&quot;com.example.dexclass.TestActivity&quot;/&gt; è¿è¡Œé¡¹ç›®ï¼Œåœ¨æ‰‹æœºè®¾ç½®ä¸­ç»™åº”ç”¨å¼€å¯sdcardè¯»å†™æƒé™ï¼Œç„¶åé‡æ–°æ‰§è¡Œï¼Œç»“æœæŠ¥é”™ï¼š æ‰§è¡Œç»“æœ æƒ³æƒ³ä¹Ÿä¸å¯èƒ½æˆåŠŸï¼Œè¦æ˜¯èƒ½è·Ÿé—®é¢˜ä¸€ä¸€æ ·è§£å†³ï¼Œé‚£è¿˜å«ä¸¤ä¸ªé—®é¢˜å—ğŸ¤ª é‚£è¯¥å¦‚ä½•è§£å†³ç¬¬äºŒä¸ªé—®é¢˜å‘¢ï¼Ÿæ­¤æ—¶å°±å¾—ä»Activityçš„å¯åŠ¨æµç¨‹è¯´èµ·äº†ï¼Œä½†æ˜¯è¿™ç¯‡æ–‡ç« çš„ç›®çš„è¿˜æ˜¯ä»¥åŠ¨æ€åŠ è½½ä¸ºä¸»ï¼ŒActivityä»¥åŠAppçš„å¯åŠ¨æµç¨‹ä¼šæœ‰ä¸“é—¨çš„æ–‡ç« å»ä»‹ç»ï¼Œæœ¬æ–‡æœ€åç»™å‡ºçš„å‚è€ƒé“¾æ¥ï¼Œä¹Ÿä¼šæœ‰åŒ…å«Activityå¯åŠ¨æµç¨‹çš„ä»‹ç»ã€‚è¿™é‡ŒæŒ‘å‡ ä¸ªå…³é”®é“¾è·¯ä¸Šçš„å‡½æ•°ç®€å•è¯´ä¸‹åŸç†ï¼š 12345678910111213141516171819202122232425262728293031323334/** Core implementation of activity launch. */private Activity performLaunchActivity(ActivityClientRecord r, Intent customIntent) &#123; ActivityInfo aInfo = r.activityInfo; if (r.packageInfo == null) &#123; r.packageInfo = getPackageInfo(aInfo.applicationInfo, r.compatInfo, Context.CONTEXT_INCLUDE_CODE); &#125; // ... Activity activity = null; try &#123; java.lang.ClassLoader cl = appContext.getClassLoader(); activity = mInstrumentation.newActivity( cl, component.getClassName(), r.intent); StrictMode.incrementExpectedActivityCount(activity.getClass()); r.intent.setExtrasClassLoader(cl); r.intent.prepareToEnterProcess(); if (r.state != null) &#123; r.state.setClassLoader(cl); &#125; &#125; catch (Exception e) &#123; if (!mInstrumentation.onException(activity, e)) &#123; throw new RuntimeException( &quot;Unable to instantiate activity &quot; + component + &quot;: &quot; + e.toString(), e); &#125; &#125; // ... return activity;&#125; çœ‹æ³¨é‡Šå°±çŸ¥é“ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯å¯åŠ¨Activityçš„æ ¸å¿ƒæ–¹æ³•ï¼Œåœ¨å¯åŠ¨Activityä¹‹å‰ä¼šé€šè¿‡è°ƒç”¨getPackageInfoæ–¹æ³•æ¥å…ˆè·å–å¹¶è§£æActivityä¿¡æ¯ï¼Œæˆ‘ä»¬è¿›åˆ°è¿™ä¸ªæ–¹æ³•ä¸­ã€‚ 123456public final LoadedApk getPackageInfo(ApplicationInfo ai, CompatibilityInfo compatInfo, int flags) &#123; // ... return getPackageInfo(ai, compatInfo, null, securityViolation, includeCode, registerPackage);&#125; è¿™ä¸ªä¸‰ä¸ªå‚æ•°çš„getPackageInfoè°ƒç”¨äº†äº”ä¸ªå‚æ•°çš„getPackageInfoæ–¹æ³•ï¼Œæ³¨æ„ç¬¬ä¸‰ä¸ªå‚æ•°ä¼ çš„æ˜¯nullï¼Œæˆ‘ä»¬ç»§ç»­è¿›å…¥äº”ä¸ªå‚æ•°çš„getPackageInfoæ–¹æ³•ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738private LoadedApk getPackageInfo(ApplicationInfo aInfo, CompatibilityInfo compatInfo, ClassLoader baseLoader, boolean securityViolation, boolean includeCode, boolean registerPackage) &#123; final boolean differentUser = (UserHandle.myUserId() != UserHandle.getUserId(aInfo.uid)); synchronized (mResourcesManager) &#123; WeakReference&lt;LoadedApk&gt; ref; if (differentUser) &#123; // Caching not supported across users ref = null; &#125; else if (includeCode) &#123; ref = mPackages.get(aInfo.packageName); &#125; else &#123; ref = mResourcePackages.get(aInfo.packageName); &#125; LoadedApk packageInfo = ref != null ? ref.get() : null; if (packageInfo == null || (packageInfo.mResources != null &amp;&amp; !packageInfo.mResources.getAssets().isUpToDate())) &#123; if (localLOGV) Slog.v(TAG, (includeCode ? &quot;Loading code package &quot; : &quot;Loading resource-only package &quot;) + aInfo.packageName + &quot; (in &quot; + (mBoundApplication != null ? mBoundApplication.processName : null) + &quot;)&quot;); packageInfo = new LoadedApk(this, aInfo, compatInfo, baseLoader, securityViolation, includeCode &amp;&amp; (aInfo.flags&amp;ApplicationInfo.FLAG_HAS_CODE) != 0, registerPackage); if (mSystemThread &amp;&amp; &quot;android&quot;.equals(aInfo.packageName)) &#123; packageInfo.installSystemApplicationInfo(aInfo, getSystemContext().mPackageInfo.getClassLoader()); &#125; // ... &#125; return packageInfo; &#125;&#125; æœ‰ä¸€ä¸ªHashMapå³mPackagesç»´æŠ¤åŒ…åå’ŒLoadedApkçš„å¯¹åº”å…³ç³»ï¼Œå³æ¯ä¸€ä¸ªåº”ç”¨æœ‰ä¸€ä¸ªé”®å€¼å¯¹å¯¹åº”ï¼Œå¦‚æœä¸ºnullï¼Œå°±æ–°åˆ›å»ºä¸€ä¸ªLoadedApkå¯¹è±¡ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°Mapä¸­ã€‚ç¬¬ä¸€æ¬¡æ‰§è¡ŒActivityçš„æ—¶å€™ï¼Œå¾ˆæ˜¾ç„¶æ˜¯æ²¡æœ‰è¿™ä¸ªLoadedApkå¯¹è±¡çš„ï¼Œæ‰€ä»¥ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„LoadedApkå¯¹è±¡ï¼Œç„¶åæ³¨æ„åˆ°ä¼ å…¥äº†ä¸€ä¸ªbaseLoaderï¼Œæ­£æ˜¯ä¸Šé¢ä¼ çš„nullã€‚ æˆ‘ä»¬å†å›å¤´çœ‹ä¸‹performLaunchActivityï¼Œå½“è°ƒç”¨å®ŒgetPackageInfoä¹‹åï¼Œä¼šè°ƒç”¨java.lang.ClassLoader cl = appContext.getClassLoader();å»è·å–classLoaderï¼Œæˆ‘ä»¬è¿›åˆ°ContextImpl.getClassLoaderæ–¹æ³•ï¼š 1234@Override public ClassLoader getClassLoader() &#123; return mClassLoader != null ? mClassLoader : (mPackageInfo != null ? mPackageInfo.getClassLoader() : ClassLoader.getSystemClassLoader()); &#125; è¿™é‡Œçš„mClassLoaderæ­£æ˜¯ä¸Šé¢ä¼ å…¥çš„nullï¼Œè€ŒmPackageInfoæ˜¯ä¸Šè¾¹ç”Ÿæˆçš„LoadedApkå¯¹è±¡ä¸ä¸ºç©ºï¼Œæ‰€ä»¥ä¼šè°ƒç”¨LoadedApkçš„getClassLoaderæ–¹æ³•ã€‚è¿™é‡Œå°±ä¸åœ¨ä¸€å±‚ä¸€å±‚çš„å‰¥å¼€äº†ï¼Œå› ä¸ºæƒ³èŠ‚çœç‚¹ç¬”è¿¹ğŸ¤ªï¼Œæ€»ä¹‹ï¼Œç¿»æºç åˆ°æœ€åï¼Œä½ ä¼šå‘ç°æœ€ç»ˆæ˜¯é€šè¿‡è°ƒç”¨ClassLoader.getSystemClassLoaderæ¥è·å–ä¸€ä¸ªclassLoaderï¼Œè€Œè¿™ä¸ªclassLoaderæ­£å¥½æ˜¯PathClassLoaderã€‚ åˆ°è¿™é‡Œä¸€åˆ‡çœŸç›¸å¤§ç™½äº†å§ï¼Ÿå‰é¢æˆ‘ä»¬è™½ç„¶ç”¨DexClassLoaderé€šè¿‡å¯¹APKçš„åŠ¨æ€åŠ è½½æˆåŠŸåŠ è½½äº†TestActivityåˆ°è™šæ‹Ÿæœºï¼Œä½†æ˜¯å½“ç³»ç»Ÿå¯åŠ¨è¯¥Activityçš„æ—¶å€™ï¼Œä¾ç„¶ä¼šå‡ºç°åŠ è½½ç±»å¤±è´¥çš„å¼‚å¸¸ï¼Œå› ä¸ºActivityåœ¨å¯åŠ¨æ—¶ç”¨åˆ°çš„æ˜¯PathClassLoaderã€‚å‰é¢åœ¨ä»‹ç»Androidçš„ClassLoaderçš„æ—¶å€™æåˆ°è¿‡ï¼ŒPathClassLoaderæ˜¯Androidé»˜è®¤ä½¿ç”¨çš„ç±»åŠ è½½å™¨ï¼Œä¸€ä¸ªAPKä¸­çš„Activityç­‰ç±»ä¾¿æ˜¯åœ¨å…¶ä¸­åŠ è½½ï¼Œä½†æ˜¯æˆ‘ä»¬çš„TestActivityä¸å­˜åœ¨äºå½“å‰çš„APKï¼Œè€Œæ˜¯åœ¨å¤–éƒ¨çš„dexæ–‡ä»¶ä¸Šï¼Œè‡ªç„¶è€Œç„¶çš„å°±ä¼šå‡ºç°ä¸Šè¾¹æ‰¾ä¸åˆ°Activityçš„å¼‚å¸¸äº†ã€‚ é‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥æ›¿æ¢æ‰è¿™ä¸ªPathClassLoaderä¸ºDexClassLoaderä¸å°±å¥½äº†å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚é™¤äº†è¿™ä¸ªæ–¹æ¡ˆä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨åŒäº²å§”æ´¾çš„åŸç†ï¼Œç»™å‡ºå¦ä¸€ç§æ–¹æ¡ˆã€‚ä¸¤ç§è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š æ›¿æ¢ç³»ç»Ÿç»„ä»¶ç±»åŠ è½½å™¨ä¸ºæˆ‘ä»¬çš„DexClassLoaderï¼ŒåŒæ—¶è®¾ç½®DexClassLoaderçš„parentä¸ºç³»ç»Ÿç»„ä»¶çš„ç±»åŠ è½½å™¨ã€‚ æ‰“ç ´åŸæœ‰çš„åŒäº²å…³ç³»ï¼Œåœ¨ç³»ç»Ÿç»„ä»¶ç±»åŠ è½½å™¨å’ŒBootClassLoaderä¸­æ’å…¥æˆ‘ä»¬è‡ªå·±çš„DexClassLoaderå³å¯ã€‚ æ–¹æ¡ˆä¸€ï¼šæ›¿æ¢mClassLoaderä¸ºDexClassLoader image-20220115213655318 ä¿®æ”¹`MainActivity`çš„ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public class MainActivity extends AppCompatActivity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); String sdcardPath = Environment.getExternalStorageDirectory().getAbsolutePath(); startActivityTest(this, sdcardPath + File.separator + &quot;classes3.dex&quot;); &#125; private void replaceClassLoader(ClassLoader classLoader) &#123; try &#123; // åŠ è½½ActivityThreadç±» Class&lt;?&gt; ActivityThreadClazz = classLoader.loadClass(&quot;android.app.ActivityThread&quot;); // è·å–currentActivityThreadæ–¹æ³•,ä»è€Œè·å–ActivityThreadå®ä¾‹ Method currentActivityThreadMethod = ActivityThreadClazz.getDeclaredMethod(&quot;currentActivityThread&quot;); currentActivityThreadMethod.setAccessible(true); Object activityThreadObj = currentActivityThreadMethod.invoke(null); // è·å–ActivityThreadçš„mPackageå±æ€§ Field mPackageField = ActivityThreadClazz.getDeclaredField(&quot;mPackages&quot;); mPackageField.setAccessible(true); // è·å–loadedApkå¯¹è±¡ ArrayMap mPackageObj = (ArrayMap) mPackageField.get(activityThreadObj); WeakReference wr = (WeakReference) mPackageObj.get(this.getPackageName()); Object loadedApkObj = wr.get(); // æ›¿æ¢mClassLoader Class loadedApkClazz = classLoader.loadClass(&quot;android.app.LoadedApk&quot;); Field mClassLoader = loadedApkClazz.getDeclaredField(&quot;mClassLoader&quot;); mClassLoader.setAccessible(true); mClassLoader.set(loadedApkObj, classLoader); &#125; catch (ClassNotFoundException | NoSuchMethodException e) &#123; e.printStackTrace(); &#125; catch (IllegalAccessException e) &#123; e.printStackTrace(); &#125; catch (InvocationTargetException e) &#123; e.printStackTrace(); &#125; catch (NoSuchFieldException e) &#123; e.printStackTrace(); &#125; &#125; public void startActivityTest(Context context, String dexFilePath) &#123; Class&lt;?&gt; clazz = null; DexClassLoader dexClassLoader = new DexClassLoader(dexFilePath, null, null, MainActivity.class.getClassLoader()); try &#123; replaceClassLoader(dexClassLoader); clazz = dexClassLoader.loadClass(&quot;com.example.dexclass.TestActivity&quot;); &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125; context.startActivity(new Intent(context, clazz)); &#125;&#125; è¿è¡Œé¡¹ç›®ï¼Œç»“æœå¦‚é¢„æœŸï¼š image-20220115213932649 æ–¹æ¡ˆäºŒï¼šåœ¨mClassLoaderå’ŒBootClassLoaderä¹‹é—´æ’å…¥DexClassLoader image-20220115214708638 ä¿®æ”¹TestActivityä»£ç å¦‚ä¸‹ï¼š 1234567public class TestActivity extends Activity &#123; @Override protected void onCreate(@Nullable Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); Log.d(&quot;TestActivity&quot;, &quot;i am from TestActivity.onCreate&quot;); &#125;&#125; æŠŠAppCompatActivityæ”¹ä¸ºäº†Activityï¼Œé˜²æ­¢æœ‰ä¸€äº›ç±»é‡å¤åŠ è½½ã€‚ å†æ¬¡ä¿®æ”¹MainActivityçš„ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031public class MainActivity extends Activity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); String sdcardPath = Environment.getExternalStorageDirectory().getAbsolutePath(); startActivityTest(this, sdcardPath + File.separator + &quot;classes3.dex&quot;); &#125; public void startActivityTest(Context context, String dexFilePath) &#123; Class&lt;?&gt; clazz = null; ClassLoader pathClassLoader = MainActivity.class.getClassLoader(); ClassLoader bootClassLoader = MainActivity.class.getClassLoader().getParent(); // dexClassLoaderçš„parentä¸ºBootClassLoader DexClassLoader dexClassLoader = new DexClassLoader(dexFilePath, null, null, bootClassLoader); try &#123; Field parentField = ClassLoader.class.getDeclaredField(&quot;parent&quot;); parentField.setAccessible(true); // å½“å‰ç»„ä»¶çš„ClassLoaderçš„parentä¸ºDexClassLoader parentField.set(pathClassLoader, dexClassLoader); clazz = dexClassLoader.loadClass(&quot;com.example.dexclass.TestActivity&quot;); &#125; catch (ClassNotFoundException | NoSuchFieldException e) &#123; e.printStackTrace(); &#125; catch (IllegalAccessException e) &#123; e.printStackTrace(); &#125; context.startActivity(new Intent(context, clazz)); &#125;&#125; è¿è¡Œé¡¹ç›®ï¼Œç»“æœä¹Ÿå¦‚é¢„æœŸï¼š image-20220115231522507 æ€»ç»“åŠ¨æ€åŠ è½½å°±æ˜¯ç”¨åˆ°çš„æ—¶å€™å†å»åŠ è½½ï¼Œä¹Ÿå«æ‡’åŠ è½½ï¼Œä¹Ÿå°±æ„å‘³ç€ç”¨ä¸åˆ°çš„æ—¶å€™æ˜¯ä¸ä¼šå»åŠ è½½çš„ã€‚åŠ¨æ€åŠ è½½æ˜¯dexåŠ å£³ï¼Œæ’ä»¶åŒ–ï¼Œçƒ­æ›´æ–°çš„åŸºç¡€ã€‚åŠ¨æ€åŠ è½½çš„dexä¸å…·æœ‰ç”Ÿå‘½å‘¨æœŸç‰¹å¾ï¼ŒAppä¸­çš„Activity, Serviceç­‰ç»„ä»¶æ— æ³•æ­£å¸¸å·¥ä½œï¼Œåªèƒ½å®Œæˆä¸€èˆ¬å‡½æ•°çš„è°ƒç”¨ï¼›éœ€è¦å¯¹ClassLoaderè¿›è¡Œä¿®æ­£ï¼ŒAppæ‰èƒ½æ­£å¸¸è¿è¡Œï¼Œä¸¤ç§ä¿®æ­£æ–¹æ¡ˆï¼š æ›¿æ¢ç³»ç»Ÿç»„ä»¶ç±»åŠ è½½å™¨ä¸ºæˆ‘ä»¬çš„DexClassLoaderï¼ŒåŒæ—¶è®¾ç½®DexClassLoaderçš„parentä¸ºç³»ç»Ÿç»„ä»¶çš„ç±»åŠ è½½å™¨ã€‚ æ‰“ç ´åŸæœ‰çš„åŒäº²å…³ç³»ï¼Œåœ¨ç³»ç»Ÿç»„ä»¶ç±»åŠ è½½å™¨å’ŒBootClassLoaderä¸­æ’å…¥æˆ‘ä»¬è‡ªå·±çš„DexClassLoaderå³å¯ã€‚ å‚è€ƒé“¾æ¥AndroidåŠ¨æ€åŠ è½½ActivityåŸç† FARTï¼šARTç¯å¢ƒä¸‹åŸºäºä¸»åŠ¨è°ƒç”¨çš„è‡ªåŠ¨åŒ–è„±å£³æ–¹æ¡ˆ ActivityThreadæºç  Activityçš„å¯åŠ¨æµç¨‹æ¢ç©¶ AndroidåŠ¨æ€åŠ è½½åŸºç¡€ ClassLoaderå·¥ä½œæœºåˆ¶","tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://blog.heshipeng.com/tags/%E9%80%86%E5%90%91/"},{"name":"android","slug":"android","permalink":"https://blog.heshipeng.com/tags/android/"}]},{"title":"ä»é›¶å¼€å§‹å­¦æ·±åº¦å­¦ä¹ â€”â€”æ³°å‹’å…¬å¼","date":"2021-01-15T12:18:44.000Z","path":"ä»é›¶å¼€å§‹å­¦æ·±åº¦å­¦ä¹ â€”â€”æ³°å‹’å…¬å¼/","text":"æ³°å‹’å…¬å¼ï¼ˆä¹Ÿå« æ³°å‹’å±•å¼€å¼ã€æ³°å‹’å¤šé¡¹å¼ï¼‰æ³°å‹’çº§æ•° å®ƒæ˜¯å¾®ç§¯åˆ†å­¦ä¸‹çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œä¸ä¹‹æœ‰å…³è”çš„æœ‰ï¼šå¦‚æ³°å‹’å®šç†ï¼Œå¤šå…ƒæ³°å‹’å…¬å¼ï¼Œä»¥æ‹‰æ ¼æœ—æ—¥å‹ä½™é¡¹ä¸ºä»£è¡¨çš„å„ç±»ä½™é¡¹ï¼Œå®¡æ•›æ³•ï¼Œç‰›é¡¿å·®å€¼å…¬å¼ï¼ˆç‰›é¡¿çº§æ•°ï¼‰ï¼ˆåˆ—å‡ºä¸ºäº†è¿›è¡Œæ ‘çŠ¶çŸ¥è¯†æ•´åˆå’Œæ¢³ç†ï¼‰ ä»€ä¹ˆæ˜¯æ³°å‹’å…¬å¼åŸºæœ¬å®šä¹‰æ³°å‹’å…¬å¼ä¸ºï¼š f(x)_{Taylor}=\\sum_{n=0}^{\\infty}{\\frac{f^{(n)}(a)}{n!}} \\times (x-a)^n=f(a)+\\frac{f^\\prime(a)}{1!}(x-a)+\\frac{f^{(2)}(a)}{2!}(x-a)^2+...+\\frac{f^{(n)}(a)}{n!}(x-a)^n+R_n(x)åˆ†æä¸‹æ¯éƒ¨åˆ†è¡¨ç¤ºçš„å«ä¹‰ï¼š $f^{(n)}(a)$ è¡¨ç¤º $f(x)$ åœ¨çš„ç¬¬ $n$ é˜¶å¯¼æ•°çš„è¡¨è¾¾å¼å¸¦å…¥ä¸€ä¸ª $a$ è®¡ç®—åçš„ç»“æœï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªå€¼ $\\frac{1}{n!}$ æ˜¯ä¸€ä¸ªç³»æ•°ï¼Œæ¯ä¸€é¡¹éƒ½ä¸åŒï¼Œç¬¬ä¸€é¡¹ï¼š$\\frac{1}{1!}$ï¼Œç¬¬äºŒé¡¹ï¼š$\\frac{1}{2!}$ï¼Œç¬¬ä¸‰é¡¹ï¼š$\\frac{1}{3!}$ â€¦ ä»¥æ­¤ç±»æ¨ $(x-a)^n$ æ˜¯ä¸€ä¸ªä»¥ $x$ ä¸ºè‡ªå˜é‡çš„è¡¨è¾¾å¼ $R_n(x)$ æ˜¯æ³°å‹’å…¬å¼çš„ä½™é¡¹ï¼Œæ˜¯ $(x-a)^{n}$ çš„é«˜é˜¶æ— ç©·å° åœ¨è®°ä½å…¬å¼ä¹‹å‰ï¼Œè®¤çœŸæ¢³ç†ä¸‹å…¬å¼çš„å„ä¸ªéƒ¨åˆ†å«ä¹‰ï¼Œä¼šæ¸…æ™°å¾ˆå¤šï¼Œæ›´åŠ å®¹æ˜“å¸®åŠ©æˆ‘ä»¬ç†è§£è®°å¿†å…¬å¼ã€‚ è”æƒ³é“¾æ¡ æ‰€æœ‰çš„ ï¼œå†…å®¹ï¼âœ ç¬¦å·éƒ½è¡¨è¾¾ã€ç”±ï¼œå†…å®¹ï¼è”æƒ³åˆ°ã€‘ï¼ˆä¸€ç§ç‰¢å›ºè®°å¿†çš„æŠ€å·§ï¼‰ è”æƒ³é“¾æ¡æ˜¯ä¸ºäº†ç»™ä½ ä¸€æŠŠä¸€ä¸ªé•¿æœŸè®°å¿†çš„é’¥åŒ™ï¼Œå¾ˆä¹…ä¸ç”¨ä¹‹åï¼Œä¼°è®¡åªèƒ½è®°ä½ã€æ³°å‹’å…¬å¼ã€‘å››ä¸ªå­—äº†ï¼Œå¦‚ä½•åˆ©ç”¨è¿™ä»…æœ‰çš„ä¿¡æ¯å›å¿†èµ·å…·ä½“çš„ç†è§£å’Œå†…å®¹ï¼Œé™¤äº†ç†è§£é€å½»ï¼Œç›´è§‚ï¼Œåˆ©ç”¨å›¾åƒå¤–ï¼Œå¼„ä¸€ä¸ªè”æƒ³é“¾æ¡ä¹Ÿæ˜¯ä¸é”™çš„æ–¹æ³• é¦–å…ˆæ‹†å­— ã€å…¬å¼ã€‘ ï¼œä»€ä¹ˆå…¬å¼ï¼Ÿï¼âœ ã€å¤šé¡¹å¼ã€‘ï¼ˆPolynomialsï¼‰ï¼ŒæŠŠå¤šé¡¹å¼çš„ä¸€èˆ¬å½¢å¼å†™å‡ºæ¥ï¼Œè¿™åº”è¯¥æ˜¯éå¸¸å®¹æ˜“ç†è§£çš„æ¦‚å¿µï¼Œå³æŒ‡æ•°ä¸ä»…ä»…ä¸º2çš„æŠ›ç‰©çº¿çš„ç»„åˆã€‚ P_n(x)=\\sum_{i=0}^{n}{c_ix^i}=c_0+c_1x+c_2x^2+...+c_nx^nã€æ³°å‹’ã€‘ï¼œè°éŸ³â€œå¤ªä¹â€ â‰ˆ å¦‚æœæ‰€æœ‰å°æ•°éƒ½èƒ½è¿‘ä¼¼æˆæ•´æ•°é‚£ä¸æ˜¯å¤ªå¿«ä¹äº†ï¼Ÿï¼ âœ è¿‘ä¼¼ï¼Œè·å¾—ä¸€ä¸ªç›´è§‚ç†è§£ æ³°å‹’å…¬å¼é€šè¿‡æŠŠã€ä»»æ„å‡½æ•°è¡¨è¾¾å¼ã€‘è½¬æ¢ï¼ˆé‡å†™ï¼‰ä¸ºã€å¤šé¡¹å¼ã€‘å½¢å¼ï¼Œæ˜¯ä¸€ç§æå…¶å¼ºå¤§çš„å‡½æ•°è¿‘ä¼¼å·¥å…· ä¸ºä»€ä¹ˆè¯´å®ƒå¼ºå¤§å‘¢ï¼Ÿ å¤šé¡¹å¼éå¸¸ã€å‹å¥½ã€‘ï¼Œä¸‰æ˜“ï¼Œæ˜“è®¡ç®—ï¼Œæ˜“æ±‚å¯¼ï¼Œæ˜“ç§¯åˆ† å‡ ä½•æ„Ÿè§‰å’Œè®¡ç®—æ„Ÿè§‰éƒ½å¾ˆç›´è§‚ï¼Œå¦‚æŠ›ç‰©çº¿å’Œå‡ æ¬¡æ–¹å°±æ˜¯åº•æ•°è‡ªå·±ä¹˜è‡ªå·±ä¹˜å‡ æ¬¡ æ³°å‹’å…¬å¼å¹²çš„äº‹æƒ…å°±æ˜¯ï¼šä½¿ç”¨å¤šé¡¹å¼è¡¨è¾¾å¼ä¼°è®¡ï¼ˆè¿‘ä¼¼ï¼‰ $f(x)$ åœ¨ $x=a$ é™„è¿‘çš„å€¼ é‚£ä¹ˆå¦‚ä½•è¿‘ä¼¼å‘¢ï¼Ÿä½¿ç”¨ä¸€ä¸ªä¾‹å­æ¥åŠ æ·±ç†è§£ æ€æ ·ç†è§£æ³°å‹’å…¬å¼æˆ‘ä»¬è¦å¹²çš„äº‹æƒ…ï¼Œå°±æ˜¯æ”¹å˜å¤šé¡¹å¼å‡½æ•° $P(x)=c_0+c_1x+c_2x^2$ ä¸­ $c_0,c_1,c_2$ çš„å€¼ ï¼ˆåªæœ‰ä¸‰é¡¹æ˜¯ä¸ºå›¾ä¸ªæ–¹ä¾¿ï¼‰å»è¿‘ä¼¼ä½™å¼¦å‡½æ•° $f(x)=cos(x)$ï¼Œã€è¿‘ä¼¼è¿‡ç¨‹ã€‘å‚è€ƒä¸‹é¢çš„åŠ¨å›¾ æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…ï¼ˆç›®çš„ï¼‰å³å¯»æ‰¾ä¸€æ¡ç»¿è‰²çš„æ›²çº¿ï¼ˆå¤šé¡¹å¼çš„ç³»æ•° $c_0,c_1,c_2$ï¼‰ï¼Œåœ¨ $x=0$ é™„è¿‘ï¼ˆ0ä¸ºä¸Šé¢æåˆ°çš„ $a$ï¼‰å°½å¯èƒ½çš„ä¸ $f(x)=cos(x)$ çš„å›¾åƒç›¸ä¼¼ï¼ˆé‡åˆï¼‰ å‡½æ•°å¼è§’åº¦é‚£å¦‚ä½•æ‰èƒ½æ‰¾åˆ°è¿™ä¸‰ä¸ªå‚æ•°å‘¢ï¼Ÿæœ€ä¸ºæ˜¾è€Œæ˜“è§çš„åšæ³•å°±æ˜¯å¸Œæœ›åœ¨ $x=0$ çš„ä½ç½®ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼çš„åˆ‡çº¿å°½é‡ç›¸ç­‰ï¼Œåˆ‡çº¿å³æ–œç‡ï¼Œä¹Ÿå°±æ˜¯æ±‚å¯¼ï¼Œæ¯”è¾ƒæŠ½è±¡ï¼Œä¸€æ­¥ä¸€æ­¥æ¥å¯è§†åŒ–ä¸€ä¸‹ã€‚ è¿‘ä¼¼è¿‡ç¨‹ ã€ç¡®å®š $c_0$ã€‘$x=0$ å¸¦å…¥å…¬å¼ï¼Œä»¤ $cos(x)=1$ ï¼ŒåŒç†å¯¹ $p(x)$ å¯ä»¥å¾—åˆ° $c_0=1$ ã€ç¡®å®š $c_1$ ã€‘å®¹æ˜“è§‚å¯Ÿåˆ°ï¼Œå¦‚æœå¯¹ $p(x)$å¯ä»¥æŠŠ $c_1$ å‰çš„è‡ªå˜é‡å»æ‰ã€‚å¹¶ä¸”ï¼Œ$x=0$ å¤„ $p(x)$ å·²ç»å›ºå®šä¸º1ï¼Œä¸ºäº†æ›´è¿›ä¸€æ­¥çš„ç›¸ä¼¼ï¼Œå¦‚æœæˆ‘ä»¬è®© $x=0$ å¤„çš„ $f(x)$ å’Œ $p(x)$ çš„åˆ‡çº¿æ–œç‡ä¹Ÿç›¸åŒä¸å°±æ›´è¿‘ä¼¼äº†ï¼Ÿï¼ˆä¸¤ç§æ€è€ƒæ¨¡å¼æˆ‘è§‰å¾—éƒ½å¯ä»¥ï¼‰ æ±‚å¯¼ä¹‹åå¯ä»¥çš„åˆ° $c_1=0$ ã€ç¡®å®š $c_2$ ã€‘ç°åœ¨æˆ‘ä»¬å·²ç»ç¡®å®šä¸¤ä¸ªå€¼ï¼Œé‚£ä¹ˆç»¿è‰²æ›²çº¿å°±åªèƒ½å¦‚ä¸‹å›¾ä¸€æ ·ç§»åŠ¨ï¼ˆå›ºå®šäº† $x=0$ çš„å‡½æ•°å€¼å’Œ $x=0$ å¤„çš„æ–œç‡ ï¼‰ï¼Œä¸ºäº†æ›´æ¥è¿‘ç›¸ä¼¼çš„ç›®æ ‡ï¼Œæˆ‘ä»¬å¸Œæœ›æ–œç‡åœ¨å˜åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œé€Ÿåº¦ä¹Ÿæ˜¯è¿‘ä¼¼çš„ï¼ˆæ»‘åŠ¨çš„ç™½è‰²å’Œé»„è‰²ç›´çº¿ï¼‰ã€‚æ±‚äºŒæ¬¡å¯¼æ•°ï¼Œæ–œç‡çš„å˜åŒ–ç‡ç›¸ç­‰ï¼Œç¡®å®š $c_2=âˆ’\\frac{1}{2}$ æ­¤æ—¶å¾—åˆ°è¡¨è¾¾å¼ $p(x)=1-\\frac{1}{2}x^2$ ï¼Œæ£€æµ‹ä¸€ä¸‹è¿‘ä¼¼åº¦å¦‚ä½•ï¼Ÿ$cos(0.1)â‰ˆ1âˆ’\\frac{1}{2}(0.1)^2=0.995$ åŒæ—¶è®¡ç®—å™¨è®¡ç®—å¾—åˆ° $cos(0.1)=0.9950042$ ï¼Œå…¶å®åªå–å‰å‡ é¡¹çš„å¤šé¡¹å¼å·²ç»åœ¨ $x=a$ é™„è¿‘çš„è¿‘ä¼¼è¿™ä¸€è¦æ±‚ä¸Šæœ‰å¾ˆå¥½çš„æ•ˆæœäº† ä¸ºä»€ä¹ˆè¿™ä¸ªã€è¿‘ä¼¼è¿‡ç¨‹ã€‘å†™çš„è¿™ä¹ˆè¯¦ç»†ï¼Œæ˜¯ä¸ºäº†åœ¨è¿‡ç¨‹ä¸­ä½“ä¼šä¸¤ä¸ªå…³é”®ç‚¹ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨å¤šé¡¹å¼æ¥è¿‘ä¼¼å› ä¸ºå¤šé¡¹å¼çš„æ±‚å¯¼æ³•åˆ™å¯ä»¥æ§åˆ¶å˜é‡ï¼Œæ¶ˆå»ä½æ¬¡é¡¹ï¼Œä½¿å¾— $x=a$ æœªçŸ¥çš„ $c_n$ å®¹æ˜“ç¡®å®šï¼Œåœ¨ä¹‹å‰çš„ä¾‹å­é‡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º $c_0$ ç¡®ä¿äº† $x=0$ æ—¶ç›¸ç­‰ï¼Œ$c_1$ ç¡®ä¿äº† $x=0$ æ—¶çš„æ–œç‡ç›¸ç­‰ï¼Œ$c_2$ ç¡®ä¿äº† $x=0$ æ—¶æ–œç‡çš„å˜åŒ–ç‡ç›¸ç­‰ï¼Œæˆ–è€…è¯´ï¼Œéšç€å¤šé¡¹å¼å¹‚æ¬¡å˜é«˜ï¼Œè¿™ç§è¿‘ä¼¼å°±è¶Šç²¾ç¡® ä¸ºä»€ä¹ˆæœ‰ä¸ªç³»æ•° $\\frac{1}{n!}$é˜¶å±‚ç³»æ•°æ˜¯ç”±ä¸€æ¬¡ä¸€æ¬¡çš„æ±‚å¯¼äº§ç”Ÿçš„ã€‚æˆ‘ä»¬å†æŠŠé¡¹æ•°åŠ ä¸¤ä¸ªï¼Œå‚çœ‹ä¸‹å›¾ï¼Œç›´è§‚çš„æ„Ÿå—ä¸€ä¸ª $n!$ çš„è¯ç”Ÿ é¦–å…ˆï¼Œä½æ¬¡é¡¹ä¼šå˜ä¸º0ï¼Œè¿™æ ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„é€šè¿‡è®¡ç®— $f(x)$ çš„ $n$ æ¬¡æ±‚å¯¼çš„è¡¨è¾¾å¼ï¼Œå¸¦å…¥ $x=a$ å³å¯å¾—åˆ° $c_n$ çš„å€¼ï¼Œé˜¶å±‚å…¶å®æ˜¯å¤šæ¬¡æ±‚å¯¼çš„ç³»æ•° å‡½æ•°è§’åº¦æ€»ç»“å…¶å®ï¼ŒæŸä¸€ç‚¹å¤„çš„å¯¼æ•°å€¼ä¿¡æ¯ âŸº é‚£ä¸€ç‚¹é™„è¿‘çš„å‡½æ•°å€¼ä¿¡æ¯ è¿™ä¸ªç›´è§‚æ„Ÿè§‰ï¼Œæ˜¯å¾ˆé‡è¦çš„ é¦–å…ˆï¼Œå¯¹äº $cos(x)$ è¿™ä¸ªå…·ä½“ä¾‹å­ï¼ŒæŠŠ $x=0$ ä½ç½®çš„å¤šé˜¶å¯¼æ•°æ±‚å‡ºï¼Œå†ä½¿ç”¨å¤šé¡¹å¼è¿›è¡Œè¿‘ä¼¼ï¼Œä½¿ç”¨çš„é¡¹è¶Šå¤šï¼Œå¾—åˆ°çš„è¿‘ä¼¼å°±è¶Šå‡†ç¡®ï¼Œå‚çœ‹ä¸‹é¢åŠ¨å›¾ æ¨å¹¿åˆ°ä¸€èˆ¬å‡½æ•° $f(x)$ ,ä¸‹åˆ—åŠ¨å›¾æè¿°äº†éšç€é¡¹çš„å¢åŠ ï¼Œ$x=0$ é™„è¿‘çš„è¶Šæ¥è¶Šå‡†ç¡® æœ€åï¼Œæ¨å¹¿åˆ° $x=a$ çš„æƒ…å½¢ï¼Œå®Œå…¨æ¨å¯¼å‡ºæ³°å‹’å±•å¼€å¼çš„ä¸€èˆ¬å½¢å¼ï¼Œå¦‚ä¸‹åˆ—åŠ¨å›¾æ‰€ç¤º å‡ ä½•è§’åº¦é¦–å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•°è¡¨ç¤ºæ±‚ä¸‹åˆ—å›¾åƒä¸­å‡½æ•°å›¾åƒä¸­å¡«æ»¡éƒ¨åˆ†çš„é¢ç§¯ï¼Œå‡½æ•°ä¸º $f(x)$ï¼Œé¢ç§¯å‡½æ•°ä¸º $f_{area}(x)$ ï¼Œè€Œå›´æˆé¢ç§¯åŒºåŸŸçš„æ›²çº¿å³ä¸ºé¢ç§¯å‡½æ•°çš„å¯¼æ•° $\\frac{df_{area}}{dx}(x)$ï¼ˆè‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Œæœ‰ä¸€ä¸ªç‰›é€¼çš„åå­—å«åšï¼Œå¾®ç§¯åˆ†åŸºæœ¬å®šç†ï¼š $âˆ«^b_af(t)dt=F(b)âˆ’F(a) $ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º å®šä¹‰ä¸€ä¸ªè¿™æ ·çš„åœºæ™¯æ˜¯ä¸ºäº†è®¡ç®—è¿™æ ·ä¸€ä»¶äº‹ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼šå‡è®¾æˆ‘ä»¬çŸ¥é“äº† $f(a)$ ç‚¹çš„é¢ç§¯ï¼Œå¾€å³æ‰©å±•å¾ˆå°çš„è·ç¦» $dx$ è¦ç®—å‡ºæ–°éƒ¨åˆ†çš„é¢ç§¯ï¼ˆå·¦è¾¹ç»¿è‰²å·²çŸ¥ + é»„è‰²çŸ©å½¢ + çº¢è‰²ä¸‰è§’å½¢ï¼‰ï¼Œå…¬å¼ä¼šæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ è®¾ $dx$ å¼€å§‹ç‚¹ä¸º $a$ï¼Œç»ˆç‚¹ä¸º $x$ ï¼Œåˆ™å¯ä»¥å¾—åˆ° ã€é»„è‰²çŸ©å½¢ã€‘åº•è¾¹ä¸º $x-a$ ï¼›é«˜ä¸º $\\frac{df_{area}}{dx}(a)$ ï¼› ã€çº¢è‰²ä¸‰è§’å½¢ã€‘åº•è¾¹ä¸º $x-a$ï¼›é«˜çš„è®¡ç®—ç¨å¾®éº»çƒ¦ï¼Œé¦–å…ˆï¼Œæ–œè¾¹çš„æ–œç‡æ˜¯ $\\frac{df_{area}}{dx}(x)$, å‡½æ•°çš„å¯¼æ•°åœ¨ $x=a$ æ—¶çš„å‡½æ•°å€¼ï¼ˆç®—æ–œç‡ï¼Œæ±‚å¯¼æ•°å³å¯ï¼‰ï¼Œè€Œæ–œç‡ $k=\\frac{y}{x}$ ï¼Œæ‰€ä»¥å¾—åˆ°é«˜ä¸º $\\frac{d^2f_{area}}{dx^2}(a)\\times (x-a)$ï¼ˆå‰éƒ¨åˆ†æ˜¯æ–œç‡ï¼ŒååŠéƒ¨åˆ†æ˜¯ $x$ ï¼Œéœ€è¦æ±‚çš„æ˜¯ $y$ ä¹Ÿæ˜¯é«˜ï¼‰ ã€è®¡ç®—æ€»é¢ç§¯ã€‘å¦‚ä¸‹å›¾å’Œå…¬å¼æ‰€ç¤º f_{area}(x) \\approx f(a) + \\frac{df_{area}}{dx}(a)(x-a)+\\frac{1}{2}\\frac{d^2f_{area}}{dx^2}(a)(x-a)^2 è¿™ä¸ªå…¬å¼ä¸ºå•¥è¿™ä¹ˆçœ¼ç†Ÿå‘¢ï¼Ÿå…¶å®æ˜æ˜¾å°±æ˜¯æ³°å‹’å±•å¼€å¼çš„å‰3é¡¹ï¼Œå¦‚æœä½ è¿˜è¦æ‰“ç ´æ²™é”…é—®åˆ°åº•ï¼Œç¬¬4é¡¹å‘¢ï¼Ÿä½ å¯ä»¥æ”¾å¤§çº¢è‰²ä¸‰è§’å½¢ï¼ŒæŠŠå‡½æ•°æ›²çº¿å’Œé¢ç§¯ä¹‹é—´çš„ç©ºç™½éƒ¨åˆ†å†æ¬¡ç”¨å¤šä¸ªæ›´å°çš„ä¸‰è§’å½¢å¡«è¡¥ï¼Œåœ¨ç§¯åˆ†å·¥å…·çš„å¸®åŠ©ä¸‹ï¼Œå¯ä»¥å¾—åˆ°ä¸‰æ¬¡é¡¹ ä»å‡ ä½•è§’åº¦æ¥çœ‹ï¼Œå†ä¸€æ¬¡éªŒè¯äº†ï¼Œæ³°å‹’å…¬å¼æ˜¯è¿‘ä¼¼çš„ $x=a$ é™„è¿‘çš„å‡½æ•°å€¼è¿™ä¸€ç›´è§‚ç†è§£ ä½™é¡¹æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹æ³°å‹’å…¬å¼æ¥è¯´ï¼Œå¹¶æ²¡æœ‰åŠæ³•å®Œå…¨é€¼è¿‘å¾…æ±‚å‡½æ•°ï¼Œæ‰€ä»¥æ— è®ºå¦‚ä½•åˆ°æœ€åéƒ½ä¼šç•™ä¸€ç‚¹ä¸œè¥¿ï¼Œè¿™å‰©ä¸‹çš„ä¸œè¥¿ä¸å¥½è¡¨è¾¾ï¼Œå°±å…¨éƒ½ä¸¢åˆ°ä½™é¡¹ä¸­ å¯ä»¥æš‚æ—¶å¦‚æ­¤ç†è§£ï¼Œä¸åœ¨æ­¤è¿·æƒ‘ï¼Œå¦‚æœæ˜¯ä¸“ä¸šå­¦ç”Ÿï¼Œéœ€è¦æ·±ç©¶ï¼Œå»ºè®®å‚çœ‹ä¸“ä¸šæ•™ææ·±å…¥ç†è§£å…¶ä¸­ç„å¦™ æ³°å‹’çº§æ•°å®Œæˆå¯¹ã€æ³°å‹’å…¬å¼ã€‘çš„ç†è§£åï¼Œéœ€è¦å¯¹ã€çº§æ•° Seriesã€‘è¿™ä¸ªæ¦‚å¿µè¿›è¡Œä¸€ä¸ªæ¨å¹¿ï¼Œä»€ä¹ˆæ˜¯ã€çº§æ•°ã€‘å‘¢ï¼Ÿ åœ¨æ•°å­¦ä¸­ï¼Œã€çº§æ•°ã€‘å°±æ˜¯æ— é™å¤šé¡¹çš„å’Œ åœ¨æŠŠæ³°å‹’å±•å¼€å¼ï¼Œæ‰©å±•åˆ°æ— é™é¡¹ä¹‹åï¼Œå°±ä¼šå‡ºç°ã€æ”¶æ•› Convergeã€‘å’Œã€å‘æ•£ divergeã€‘çš„æ¦‚å¿µ æ”¶æ•›æ”¶æ•›ï¼Œå³åœ¨æ³°å‹’å±•å¼€å¼è¢«æ¨å¹¿åˆ°æ— é™é¡¹ä¹‹åï¼Œæ•´ä½“å¼å­çš„å€¼ä¼šè¶Šæ¥è¶Šè¶‹è¿‘äºä¸€ä¸ªå®šå€¼ï¼Œæ¯”å¦‚ä¸‹å›¾çš„ $12$ å’Œ $e$ å‘æ•£ä¸æ”¶æ•›ç›¸å¯¹åº”çš„ï¼Œå³å‘æ•£ï¼Œå¼å­æ— æ³•è¶‹è¿‘äºä¸€ä¸ªå®šå€¼ï¼Œæ¯”å¦‚ $\\ln(x)$ åœ¨ $x=1$ é™„è¿‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè™šçº¿å³ä¸ºèƒ½å¤Ÿè®©å¤šé¡¹å¼çš„å’Œæ”¶æ•›çš„æœ€å¤§å–ä¹‹èŒƒå›´ï¼Œç§°ä¸ºã€æ³°å‹’çº§æ•°çš„æ”¶æ•›åŠå¾„ã€‘ æ€»ç»“ æ³°å‹’å…¬å¼å¹²äº†ä¸€ä»¶ä»€ä¹ˆäº‹ï¼Ÿ ä½¿ç”¨å¤šé¡¹å¼è¡¨è¾¾å¼ä¼°è®¡ï¼ˆè¿‘ä¼¼ï¼‰ $f(x)$ åœ¨ $x=a$ é™„è¿‘çš„å€¼ æ³°å‹’å…¬å¼çš„å¯¼æ•°é¡¹å¦‚ä½•æ¨å€’å‡ºæ¥çš„ï¼Ÿ æŸä¸€ç‚¹å¤„çš„å¯¼æ•°å€¼ä¿¡æ¯ âŸº é‚£ä¸€ç‚¹é™„è¿‘çš„å‡½æ•°å€¼ä¿¡æ¯ æ³°å‹’å…¬å¼å¦‚ä½•è®°æ°¸è¿œä¸ä¼šå¿˜ï¼Ÿ å‚ç…§ç¬¬ä¸€æ¡æ€»ç»“ï¼Œæ˜¯ $x=a$ é™„è¿‘ï¼Œå…¬å¼ âœ å¤šé¡¹å¼ï¼Œå¾ˆå¤šé¡¹ï¼Œè¦ç”¨æ±‚å’Œå†™åœ¨ä¸€èµ·ï¼›å‚ç…§ç¬¬äºŒæ¡æ€»ç»“ï¼Œè¿‘ä¼¼ä¿¡æ¯ç”¨çš„æ±‚å¯¼ï¼›ç³»æ•°å°±æ˜¯å¯¹ $x=a$ å¤„æ±‚å¯¼ä¸€æ¬¡ä¸€æ¬¡æ”¾ä¸‹æ¥ã€‚ f(x)=\\sum_{n=0}^{\\infty}{\\frac{f^{(n)}a}{n!}}(x-a)^n","tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.heshipeng.com/tags/%E6%95%B0%E5%AD%A6/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://blog.heshipeng.com/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]},{"title":"ä»é›¶å¼€å§‹å­¦æ·±åº¦å­¦ä¹ â€”â€”æ–¹å‘å¯¼æ•°ä¸æ¢¯åº¦","date":"2021-01-14T13:34:57.000Z","path":"ä»é›¶å¼€å§‹å­¦æ·±åº¦å­¦ä¹ â€”â€”æ–¹å‘å¯¼æ•°ä¸æ¢¯åº¦/","text":"åå¯¼æ•°å›é¡¾å¯¼æ•°å®šä¹‰åœ¨çœ‹åå¯¼æ•°çš„å®šä¹‰ä¹‹å‰ï¼Œå›é¡¾ä¸‹å¯¼æ•°çš„å®šä¹‰ï¼š$y=f(x), x_0\\in D, f^\\prime(x_0)=\\lim_{\\Delta x -&gt; 0}\\frac{\\Delta y}{\\Delta x}æˆ–è€…f^\\prime(x_0) = \\lim_{x-&gt;x_0}\\frac{f(x) - f(x_0)}{x - x_0}$ ç„¶åè¿˜æœ‰ä»¥ä¸‹æ€§è´¨ï¼š $f(x)åœ¨x=x_0å¯å¯¼\\Rightarrow f(x)åœ¨x=x_0è¿ç»­ï¼Œåä¹‹ä¸æˆç«‹$ $f(x)åœ¨x=x_0å¯å¯¼ \\Leftrightarrow f(x)åœ¨x=x_0å¯å¾®$ åå¯¼æ•°å®šä¹‰$\\zeta=f(x, y), ((x, y)\\in D), \\forall M_0(x_0, y_0)\\in D$ ç§° $\\Delta \\zeta_x = f(x_0 + \\Delta x, y_0) - f(x_0, y_0)$ ä¸º $f(x, y)$ åœ¨ $M_0$ å¤„å…³äºxçš„åå¢é‡ ç§° $\\Delta \\zeta_y = f(x_0, y_0 + y_0 + \\Delta y) - f(x_0, y_0)$ ä¸º $f(x, y)$ åœ¨ $M_0$ å¤„å…³äºyçš„åå¢é‡ ç§° $\\Delta \\zeta = f(x_0 + \\Delta x, y_0 + \\Delta y) - f(x_0, y_0) æˆ– \\Delta \\zeta = f(x, y) - f(x_0, y_0)$ ä¸º $f(x, y)$ åœ¨ $M_0$ å¤„çš„å…¨å¢é‡ è‹¥ $\\lim_{\\Delta x-&gt; 0} \\frac{\\Delta \\zeta x}{\\Delta x} \\exists æˆ– \\lim_{x-&gt;x_0} \\frac{f(x, y_0)-f(x_0, y_0)}{x-x_0} \\exists$ ç§° $f(x, y)$ åœ¨ $M_0$ å¤„å…³äºxå¯åå¯¼ï¼Œæé™å€¼ç§°ä¸º $f(x, y)$ åœ¨ $M_0$ å¤„å…³äºxçš„åå¯¼æ•°ï¼Œè®°ä¸º$f^\\prime_{x}(x_0, y_0)$ æˆ–è€… $\\frac{\\partial \\zeta}{\\partial x}|_{(x_0, y_0)}$ è‹¥ $\\lim_{\\Delta y-&gt; 0} \\frac{\\Delta \\zeta y}{\\Delta y} \\exists æˆ– \\lim_{y-&gt;y_0} \\frac{f(x_0, y)-f(x_0, y_0)}{y-y_0} \\exists$ ç§° $f(x, y)$ åœ¨ $M_0$ å¤„å…³äºyå¯åå¯¼ï¼Œæé™å€¼ç§°ä¸º $f(x, y)$ åœ¨ $M_0$ å¤„å…³äºyçš„åå¯¼æ•°ï¼Œè®°ä¸º$f^\\prime_{y}(x_0, y_0)$ æˆ–è€… $\\frac{\\partial \\zeta}{\\partial y}|_{(x_0, y_0)}$ è‹¥ $\\forall (x, y) \\in D, f(x, y)$ åœ¨ $(x, y)$ å¤„å¯¹x, yçš†å¯ä»¥åå¯¼ï¼Œç§° $f^\\prime_x(x, y), f^\\prime_y(x, y)$ ä¸º $f(x, y)$ å¯¹ x, yçš„åå¯¼å‡½æ•°ï¼Œç®€ç§°åå¯¼æ•°ã€‚ åå¯¼æ•°çš„è®¡ç®—ä¾‹. $\\zeta = f(x, y) = x^2y + \\ln(x+y^2)ï¼Œæ±‚\\frac{\\partial \\zeta}{\\partial x}, \\frac{\\partial \\zeta}{\\partial y}$ è§£ï¼š$\\frac{\\partial \\zeta}{\\partial x} = 2xy + \\frac{1}{x+y^2} $ $\\frac{\\partial \\zeta}{\\partial y} = x^2 + \\frac{1}{x+y^2} \\cdot 2y$ åå¯¼æ•°çš„å‡ ä½•æ„ä¹‰$\\zeta=f(x, y), ((x, y)\\in D), \\forall M_0(x_0, y_0)\\in D$ $\\frac{\\partial \\zeta}{\\partial x}$çš„å‡ ä½•æ„ä¹‰æ˜¯ï¼šé€šè¿‡è¯¥ç‚¹(x, y)ä¸”ä¸ZOXå¹³é¢å¹³è¡Œçš„å¹³é¢ä¸ $\\zeta$ çš„äº¤çº¿ä¸Šï¼Œè¯¥ç‚¹(x, y)çš„æ•ˆç‡ï¼Œå¦‚ä¸‹å›¾ï¼š ä¹‹æ‰€ä»¥å–ä¸ZOXå¹³è¡Œçš„å¹³é¢ï¼Œæ˜¯ä¸ºäº†ä¿æŒyæ–¹å‘çš„å¢é‡ä¸º0ã€‚ $\\frac{\\partial \\zeta}{\\partial y}$ çš„å‡ ä½•æ„ä¹‰ç±»ä¼¼ã€‚ é«˜é˜¶åå¯¼æ•°è®¾å‡½æ•° $z=f(x, y)$ åœ¨åŒºåŸŸ $D$ å†…å…·æœ‰åå¯¼å‡½æ•° $\\frac{\\partial z}{\\partial x} = f_x(x, y), \\ \\frac{\\partial z}{\\partial y} = f_y(x, y)$ ï¼Œå¦‚æœå…³äºåå¯¼å‡½æ•° $f_x(x, y), \\ f_y(x, y)$ çš„åå¯¼æ•°ä¹Ÿå­˜åœ¨ï¼Œé‚£ä¹ˆç§°ä»–ä»¬æ˜¯å‡½æ•° $z=f(x, y)$ çš„äºŒé˜¶åå¯¼æ•°ï¼Œå››ä¸ªäºŒé˜¶åå¯¼æ•°å¦‚ä¸‹ï¼š $\\frac{\\partial}{\\partial x}(\\frac{\\partial z}{\\partial x}) = f_{xx}(x, y), \\ \\frac{\\partial}{\\partial y}(\\frac{\\partial z}{\\partial y}) = f_{yy}(x, y), \\ \\frac{\\partial}{\\partial x}(\\frac{\\partial z}{\\partial y}) = f_{yx}(x, y), \\ \\frac{\\partial}{\\partial y}(\\frac{\\partial z}{\\partial x}) = f_{xy}(x, y)$ å…¶ä¸­ï¼Œåè¾¹ä¸¤ä¸ªåå¯¼æ•°å«åšæ··åˆåå¯¼æ•°ã€‚åŒæ ·å¯ä»¥å¾—ä¸‰é˜¶ï¼Œå››é˜¶â€¦ä»¥åŠné˜¶åå¯¼æ•°ï¼ŒäºŒé˜¶åŠå…¶ä»¥ä¸Šçš„åå¯¼æ•°ç»Ÿç§°ä¸ºé«˜é˜¶åå¯¼æ•°ã€‚ é«˜é˜¶åå¯¼æ•°çš„è®¡ç®—ä¾‹. $z=x^3y^2 - 3xy^3 - xy + 1ï¼Œ\\ \\frac{\\partial^2 z}{\\partial x^2}? \\ \\frac{\\partial^2 z}{\\partial x \\partial y}? \\ \\frac{\\partial^2 z}{\\partial y \\partial x}? \\ \\frac{\\partial^2 z}{\\partial y^2}? \\ \\frac{\\partial^3z}{\\partial x^3}? $ è§£ï¼š$\\frac{\\partial z}{\\partial x} = 3x^2y^2 - 3y^3 - y, \\ \\ \\frac{\\partial z}{\\partial y} = 2x^3y - 9xy^2 - x$ â€‹ $\\frac{\\partial^2 z}{\\partial x^2}=6xy^2, \\ \\ \\frac{\\partial^2 z}{\\partial x \\partial y} = 6x^2y - 9y^2 - 1, \\ \\ \\frac{\\partial^2 z}{\\partial y \\partial x} = 6x^2y - 9y^2 - 1$ â€‹ $\\frac{\\partial^2 z}{\\partial y^2} = 2x^3 - 18xy, \\ \\ \\frac{\\partial^3z}{\\partial x^3} = 6y^2$ é«˜é˜¶åå¯¼æ•°çš„æ€§è´¨å¦‚æœå‡½æ•° $z=f(x, y)$ çš„ä¸¤ä¸ªäºŒé˜¶æ··åˆåå¯¼æ•° $z=\\frac{\\partial^2 z}{\\partial x \\partial y}$ åŠ $\\frac{\\partial^2 z }{\\partial y \\partial x}$ åœ¨å®šä¹‰åŸŸDå†…è¿ç»­ï¼Œé‚£ä¹ˆè¯¥åŒºåŸŸå†…è¯¥äºŒé˜¶åå¯¼å¿…ç„¶ç›¸ç­‰ã€‚ æ–¹å‘å¯¼æ•°å®šä¹‰ å‡è®¾æœ‰$\\eta=f(x, y) ((x, y) \\in D)$, å…¶å›¾åƒåœ¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ$\\eta$çš„å›¾åƒæ˜¯æœ‰ä¸€ä¸ªä¸è§„åˆ™çš„åœ†æŸ±ä½“ç»„æˆï¼Œåœ†æŸ±ä½“çš„é¡¶é¢æ˜¯ä¸€ä¸ªä¸è§„åˆ™çš„æ›²é¢ã€‚ åœ¨åœ†æŸ±ä½“çš„åº•é¢ä»»å–ä¸€ç‚¹$M_0$ï¼Œè¿‡è¿™ä¸ªç‚¹$M_0$éšæœºä½œä¸€æ¡å°„çº¿Lï¼Œå–$M_1(x_0+\\Delta x, y_0 + \\Delta y) \\in L$ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåˆ™$M_0$åˆ°$M_1$çš„è·ç¦»$\\rho$ä¸º$\\rho=\\sqrt{(\\Delta x)^2 + (\\Delta y)^2}$ã€‚ è¿‡è¿™æ¡å°„çº¿Lä½œä¸€ä¸ªå‚ç›´äºåœ†æŸ±ä½“åº•é¢çš„å¹³é¢ï¼Œè¿™ä¸ªå¹³é¢ä¸åœ†æŸ±ä½“çš„é¡¶é¢å³ä¸è§„åˆ™çš„æ›²é¢ç›¸äº¤äº§ç”Ÿä¸€æ¡å¼§çº¿ï¼Œ$M_{0}$å’Œ$M_{1}$åˆ†åˆ«å¯¹åº”å¼§çº¿ä¸Šçš„Må’Œ$M^\\prime$ ã€‚$M_{0}$Må’Œ$M_{1}M^\\prime$çš„é«˜åº¦å·®è®°ä¸º$\\Delta \\eta$ï¼Œåˆ™$\\Delta \\eta=f(x_{0}+\\Delta x, y_{0}+\\Delta y) - f(x_0, y_0)$ æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ª$\\Delta \\eta$ï¼Œ$\\Delta \\eta&gt;0$ç›¸å½“äºæ²¿ç€è¿™ä¸ªæ›²é¢ç”±åœ°åŠ¿ä½çš„åœ°æ–¹å¾€åœ°åŠ¿é«˜çš„åœ°æ–¹èµ°ï¼Œå°±åƒå›¾ä¸­çš„æ²¿ç€æ›²é¢ä»Mç‚¹èµ°åˆ°$M^\\prime$è¿™ä¸ªç‚¹ã€‚åè¿‡æ¥ï¼Œè‹¥$\\Delta \\eta&lt;0$ç›¸å½“äºæ²¿ç€è¿™ä¸ªæ›²é¢ä»åœ°åŠ¿é«˜çš„åœ°æ–¹å¾€åœ°åŠ¿ä½çš„åœ°æ–¹èµ°ï¼Œå°±å¥½æ¯”ä»$M^\\prime$èµ°å‘Mã€‚ æˆ‘ä»¬å†çœ‹çœ‹$\\lim_{\\rho-&gt;0}{\\frac{\\Delta \\eta}{\\rho}}$ï¼Œè¿™ä¸ªæŒ‡æ ‡åæ˜ ä»åœ°åŠ¿é«˜å¾€åœ°åŠ¿ä½æˆ–åœ°åŠ¿ä½å¾€åœ°åŠ¿é«˜æ–¹å‘ä¸Šç§»åŠ¨çš„æ•ˆç‡ï¼Œå¦‚æœè¿™ä¸ªå€¼è¶Šå¤§ï¼Œè¡¨ç¤ºè¿™ä¸ªåœ°æ–¹(æ›²é¢ä¸Šè¿™æå°å—åŒºåŸŸ)è¶Šé™¡å³­ã€‚å¦‚æœ$\\lim_{\\rho-&gt;0}{\\frac{\\Delta \\eta}{\\rho}}$å­˜åœ¨ï¼Œç§°æ­¤æé™ä¸º$\\eta=f(x, y)$åœ¨$M_{0}$å¤„æ²¿å°„çº¿Lçš„æ–¹å‘å¯¼æ•°ã€‚è®°ä¸º$\\frac{\\partial \\eta}{\\partial L}|_{M_{0}}$ å³$\\frac{\\partial \\eta}{\\partial L}|_{M_{0}}=\\lim_{\\rho-&gt;0}{\\frac{\\Delta \\eta}{\\rho}} æˆ– \\frac{\\partial \\eta}{\\partial L}|_{M_{0}}=\\lim_{\\rho-&gt;0}{\\frac{f(x_{0}+\\Delta x, y_{0}+\\Delta y) - f(x_0, y_0)}{\\rho}}$ è®¡ç®—å…¬å¼2-dims $\\zeta = f(x, y)ï¼Œ((x, y)\\in D)ï¼ŒM_{0}\\in D$ è¿‡ $M_{0}$ä½œå°„çº¿Lï¼Œè®¾Lçš„æ–¹å‘è§’ä¸º$\\alpha å’Œ \\beta$ï¼ˆæ–¹å‘è§’çš„å®šä¹‰å¦‚ä¸‹å›¾ï¼‰ï¼Œåˆ™ $\\frac{\\partial \\zeta}{\\partial L}|_{M_{0}} = \\frac{\\partial \\zeta}{\\partial x} \\cos{\\alpha} + \\frac{\\partial \\zeta}{\\partial y} \\cos{\\beta}$ï¼Œå…¶ä¸­$\\frac{\\partial \\zeta}{\\partial x}$è¡¨ç¤º$\\zeta$å¯¹xçš„åå¯¼ï¼Œ$\\frac{\\partial \\zeta}{\\partial y}$è¡¨ç¤º$\\zeta$å¯¹yçš„åå¯¼ã€‚ 3-dims$u(x, y, z)$ åœ¨ $M_0(x_0, y_0, z_0)$ å¯å¾®ï¼Œè¿‡ $M_0$ ä½œå°„çº¿Lï¼ŒLçš„æ–¹å‘è§’ä¸º $\\alpha \\beta \\gammaï¼Œ$ åˆ™ $\\frac{\\partial u}{\\partial L}|_{M_0}=\\frac{\\partial u}{\\partial x}|_{M_0}\\cos \\alpha + \\frac{\\partial u}{\\partial y}|_{M_0}\\cos \\beta + \\frac{\\partial u}{\\partial z}|_{M_0}\\cos \\gamma$ ä¾‹. æ±‚ $\\zeta = xe^{2y}åœ¨M_0(1, 0)æ²¿ä»M_0(1, 0)åˆ°M(2, -1)çš„æ–¹å‘å¯¼æ•°$ è§£ï¼š$\\frac{\\partial \\zeta}{\\partial x}|_{M_0} = 1, \\frac{\\partial \\zeta}{\\partial y}|_{M_0} = 2 $ $\\vec{M_0M} = \\{1, -1\\}, \\cos\\alpha = \\frac{1}{\\sqrt{2}}, \\cos\\beta = \\frac{-1}{\\sqrt{2}} $ $\\frac{\\partial \\zeta}{\\partial L}|M_0 = 1 \\cdot \\frac{1}{\\sqrt{2}} + 2 \\cdot (-\\frac{1}{\\sqrt{2}})$ æ¢¯åº¦æ¢¯åº¦çš„å®šä¹‰$u=f(x, y, z)ï¼ŒM_0(x_0, y_0, z_0)\\in \\Omega $ è¿‡ $M_0$ ä½œå°„çº¿Lï¼Œäº§ç”Ÿæ–¹å‘è§’ $\\alpha$ $\\beta$ $\\gamma$ ã€‚åˆ™ï¼š $\\frac{\\partial u}{\\partial L}|M_0 = \\frac{\\partial u}{\\partial x}|M_0\\cos \\alpha + \\frac{\\partial u}{\\partial y}|M_0\\cos \\beta + \\frac{\\partial u}{\\partial z}|M_0\\cos \\gamma$ = $\\{\\frac{\\partial u}{\\partial x}, \\frac{\\partial u}{\\partial y}, \\frac{\\partial u}{\\partial z}\\} \\cdot \\{\\cos\\alpha, \\cos\\beta, \\cos\\gamma\\}$ å‘é‡ $\\{\\frac{\\partial u}{\\partial x}, \\frac{\\partial u}{\\partial y}, \\frac{\\partial u}{\\partial z}\\}$ æ˜¯ä¸€ä¸ªå¸¸å‘é‡(å›ºå®šä½ç½®ï¼Œç»™å®šäº†M_0çš„åæ ‡ï¼Œè¿™ä¸ªå‘é‡å°±æ˜¯ä¸€ä¸ªç¡®å®šå‘é‡) å‘é‡ $\\{\\cos\\alpha, \\cos\\beta, \\cos\\gamma\\}$ æ˜¯ä¸€ä¸ªå•ä½å‘é‡(ä¸LåŒå‘ï¼Œä»»ä½•ä¸€ä¸ªå‘é‡ï¼Œå®ƒçš„æ–¹å‘ä½™å¼¦æ„æˆçš„å‘é‡ï¼Œå°±æ˜¯è¯¥å‘é‡çš„å•ä½å‘é‡ï¼Œæ–¹å‘ä¸è¯¥å‘é‡ç›¸åŒï¼Œå•ä½æ˜¯1) $\\frac{\\partial u}{\\partial L}|M_0 = \\{\\frac{\\partial u}{\\partial x}, \\frac{\\partial u}{\\partial y}, \\frac{\\partial u}{\\partial z}\\} \\vec{e} = \\sqrt{(\\frac{\\partial u}{\\partial x})^2 + (\\frac{\\partial u}{\\partial y})^2 + (\\frac{\\partial u}{\\partial z})^2} \\cos\\theta$ $\\sqrt{(\\frac{\\partial u}{\\partial x})^2 + (\\frac{\\partial u}{\\partial y})^2 + (\\frac{\\partial u}{\\partial z})^2}$æ˜¯ä¸€ä¸ªå›ºå®šçš„æ•°ï¼Œå½“ $\\cos\\theta = 1$ å³ $\\theta=0$æ—¶ï¼Œ$\\frac{\\partial u}{\\partial L}|M_0$å–æœ€å¤§å€¼ é‚£ä¹ˆï¼Œ$u=f(x, y)$ åœ¨ $M_0$ çš„æ¢¯åº¦å³ $grad \\ u|M_0$ = $\\{\\frac{\\partial u}{\\partial x}, \\frac{\\partial u}{\\partial y}, \\frac{\\partial u}{\\partial z}\\}|M_0$ ã€‚ä¸€èˆ¬åœ°ï¼Œ$grad \\ u = \\{\\frac{\\partial u}{\\partial x}, \\frac{\\partial u}{\\partial y}, \\frac{\\partial u}{\\partial z}\\}$ æ¢¯åº¦çš„æ–¹å‘ï¼Œå³å‡½æ•°å¢é•¿é€Ÿåº¦æœ€å¿«çš„æ–¹å‘ï¼Œæˆ–è€…æ–¹å‘å¯¼æ•°å–æœ€å¤§å€¼çš„æ–¹å‘ã€‚ ä¸æ–¹å‘å¯¼æ•°çš„å…³ç³»å‡½æ•° $\\zeta$ åœ¨ $M_0$ æ²¿ç€ä¸åŒçš„å°„çº¿å¯ä»¥å¾—åˆ°ä¸åŒçš„æ–¹å‘å¯¼æ•°ï¼Œæ¢¯åº¦åˆ™æ˜¯è¿‡ $M_0$ ç‚¹æ‰€æœ‰è¿™äº›æ–¹å‘å¯¼æ•°å–æœ€å¤§å€¼æ—¶é‚£ä¸ªå°„çº¿çš„æ–¹å‘ã€‚ ç”¨ä¸€ä¸ªåŠ¨ç”»å±•ç¤ºäºŒè€…çš„å…³ç³»ï¼š æ¢¯åº¦çš„è®¡ç®—è®¾ $u=xyz+z^2+5$ï¼Œ æ±‚ $grad \\ u$ï¼Œå¹¶æ±‚åœ¨ç‚¹M(0, 1, -1)å¤„çš„æ–¹å‘å¯¼æ•°çš„æœ€å¤§(å°)å€¼ã€‚ è§£ï¼š$\\because \\frac{\\partial u}{\\partial x} = yz, \\frac{\\partial u}{\\partial y} = xz, \\frac{\\partial u}{\\partial z} = xy + 2z $ $\\therefore grad \\ u|_{(0, 1, -1)} = (yz, xz, xy+2z)|_{(0, 1, -1)} = (-1, 0, -2) $ ä»è€Œ $max\\{\\frac{\\partial u}{\\partial L}|_M\\} = ||grad \\ u|| = \\sqrt{5}, min\\{\\frac{\\partial u}{\\partial L}|_M\\} = -||grad \\ u|| = -\\sqrt{5}$","tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://blog.heshipeng.com/tags/%E6%95%B0%E5%AD%A6/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://blog.heshipeng.com/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]}]